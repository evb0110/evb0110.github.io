"use strict";(self["webpackChunkaramaicsite"]=self["webpackChunkaramaicsite"]||[]).push([[94],{9107:function(e,i,t){t.r(i),t.d(i,{default:function(){return v}});var s=t(9511),r=(t(4114),t(5803)),o=t(7717),a=t(7540),l=t(4152),n=(0,r.A)(o.A,(0,a.G)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const i=Object.values(e).includes(!0);this.$emit("input",!i)},deep:!0,immediate:!0}},methods:{watchInput(e){const i=e=>e.$watch("hasError",(i=>{this.$set(this.errorBag,e._uid,i)}),{immediate:!0}),t={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?t.shouldValidate=e.$watch("shouldValidate",(s=>{s&&(this.errorBag.hasOwnProperty(e._uid)||(t.valid=i(e)))})):t.valid=i(e),t},validate(){return 0===this.inputs.filter((e=>!e.validate(!0))).length},reset(){this.inputs.forEach((e=>e.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((e=>e.resetValidation())),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const i=this.inputs.find((i=>i._uid===e._uid));if(!i)return;const t=this.watchers.find((e=>e._uid===i._uid));t&&(t.valid(),t.shouldValidate()),this.watchers=this.watchers.filter((e=>e._uid!==i._uid)),this.inputs=this.inputs.filter((e=>e._uid!==i._uid)),this.$delete(this.errorBag,i._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:e=>this.$emit("submit",e)}},(0,l.$c)(this))}}),d=t(8301),u=function(){var e=this,i=e._self._c;return i("div",{staticClass:"login-and-logout"},[e.isLoggedIn?i("div",{staticClass:"logout"},[i("h1",[e._v("You are already logged in.")]),i("h1",[e._v("If you'd like to, you can")]),i(s.A,{staticClass:"logout__button",attrs:{color:"primary","x-large":"",depressed:"",outlined:""},on:{click:e.logout}},[e._v("Log out")])],1):i("div",{staticClass:"login"},[i("div",{staticClass:"login__form-wrapper"},[i(n,{ref:"login_form",staticClass:"login__login-form",model:{value:e.form.isValid,callback:function(i){e.$set(e.form,"isValid",i)},expression:"form.isValid"}},[i(d.A,{attrs:{rules:e.rules.login,label:"Login",required:"",outlined:"",autocomplete:Math.random()},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.form.login,callback:function(i){e.$set(e.form,"login",i)},expression:"form.login"}}),i(d.A,{attrs:{rules:e.rules.password,type:e.isHiddenPassword?"password":"text",label:"Password",required:"",outlined:"",autocomplete:Math.random()},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.login.apply(null,arguments)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("i",{staticClass:"login__eye-icon",class:e.eyeIconClass,on:{click:e.onEyeClick}})]},proxy:!0}],null,!1,3383365666),model:{value:e.form.password,callback:function(i){e.$set(e.form,"password",i)},expression:"form.password"}}),i(s.A,{staticClass:"login__submit-button",attrs:{color:"primary",large:"",depressed:""},on:{click:e.login}},[e._v("Submit")])],1),e.error?i("div",{staticClass:"login__error"},[e._v(e._s(e.error))]):e._e()],1)])])},c=[],h=t(5353),p=t(2038),g={name:"Login",data(){return{form:{isValid:!1,login:"",password:""},rules:{login:[e=>!!e||"Login is required"],password:[e=>!!e||"Password is required"]},isHiddenPassword:!0,error:""}},computed:{...(0,h.L8)(["isLoggedIn"]),appBarTitle(){return"Login Page"},eyeIconClass(){const e=this.isHiddenPassword?"":"-off";return"mdi mdi-eye"+e}},methods:{onEyeClick(){this.isHiddenPassword=!this.isHiddenPassword},async login(){const e=this.$refs.login_form,i=e.validate();i&&(await this.$store.dispatch("validateCredentials",{login:this.form.login,password:this.form.password}),this.isLoggedIn?this.$router.replace({name:p.Y.Hello}):this.error="The provided credentials are invalid")},logout(){this.$store.commit("logOut"),this.$router.replace({name:p.Y.Hello})}}},m=g,f=t(1656),_=(0,f.A)(m,u,c,!1,null,"1bddece1",null),v=_.exports}}]);