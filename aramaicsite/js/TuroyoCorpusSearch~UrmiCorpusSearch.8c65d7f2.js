(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TuroyoCorpusSearch~UrmiCorpusSearch"],{"01e9":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{staticClass:"searcher-wrapper"},[r("v-btn",{ref:"search_btn",staticClass:"mr-10 d-none d-md-block",attrs:{disabled:!e.matchingLines.length,loading:e.copyToClipboardBtn.loading,depressed:"",outlined:""},on:{click:e.copyToClipboardProxy}},[e._v(e._s(e.copyToClipboardBtn.text))]),r("Searcher",{attrs:{"searcher-string":e.searcherStringWrapper.value,"corpus-name":e.corpusName},on:{"searcher-string":e.onSearcherString}})],1),r("v-container",[r("SearchResults",{ref:"search_results",attrs:{"lines-matching":e.matchingLines,"searcher-string":e.searcherStringWrapper,"disable-infinite-scroll":e.disableInfiniteScroll}})],1),r("v-snackbar",{attrs:{color:e.snackbar.color,top:"",left:"",outlined:""},model:{value:e.snackbar.isVisible,callback:function(t){e.$set(e.snackbar,"isVisible",t)},expression:"snackbar.isVisible"}},[e._v(e._s(e.snackbar.text))])],1)},a=[],i=(r("ac1f"),r("841c"),r("96cf"),r("1da1")),s=r("a995"),c=r("190c"),o=r("adaa"),l=r("fab4"),u=r("95ec"),h={name:"CorpusSearch",props:["corpusName"],mixins:[l["a"]],components:{Searcher:s["a"],SearchResults:c["a"]},data:function(){return{searcherStringWrapper:Object(u["a"])(""),disableInfiniteScroll:!1,copyToClipboardBtn:{text:"Copy to Clipboard",loading:!1},snackbar:{isVisible:!1,text:"",color:"success"}}},computed:{matchingLines:function(){return this.$store.getters.matchingLinesByCorpus(this.corpusName)}},created:function(){this.$store.dispatch("initializeCorpusData",{corpusName:this.corpusName}),this.$store.commit("setSearcherString",{corpusName:this.corpusName,searcherString:this.searcherStringWrapper})},mounted:function(){this.$route.query.search&&this.onSearcherString(this.$route.query.search)},methods:{onSearcherString:function(e){this.searcherStringWrapper=Object(u["a"])(e),this.setQuery(),this.$store.commit("setSearcherString",{corpusName:this.corpusName,searcherString:this.searcherStringWrapper})},setQuery:function(){var e=this.searcherStringWrapper.value?{search:this.searcherStringWrapper.value}:{};_.isEqual(e,this.$route.query)||this.$router.push({query:e})},copyToClipboardProxy:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.copyToClipboardBtn.loading=!0,t.next=4,Object(o["a"])(100);case 4:return e.disableInfiniteScroll=!0,t.next=7,Object(o["a"])(200);case 7:r=".search-results",n=document.querySelector(r),window.getSelection().removeAllRanges(),a=window.getSelection(),a.selectAllChildren(n),document.execCommand("copy"),e.copyToClipboardBtn.loading=!1,a.removeAllRanges(),e.disableInfiniteScroll=!1,e.snackbar.text="Search results successfully copied to clipboard!",e.snackbar.color="success",t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](0),e.snackbar.text="Something went wrong — nothing copied!",e.snackbar.color="error";case 24:e.snackbar.isVisible=!0;case 25:case"end":return t.stop()}}),t,null,[[0,20]])})))()}}},d=h,p=(r("0d45"),r("2877")),f=r("6544"),b=r.n(f),v=r("8336"),m=r("a523"),g=r("2db4"),y=Object(p["a"])(d,n,a,!1,null,"43a834f1",null);t["a"]=y.exports;b()(y,{VBtn:v["a"],VContainer:m["a"],VSnackbar:g["a"]})},"0d45":function(e,t,r){"use strict";r("4b07")},"190c":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-results"},[e.searcherString?r("div",{staticClass:"results-stats",staticStyle:{color:"brown","font-weight":"bold"}},[e._v(" Number of lines in output: "+e._s(e.linesMatching.length)+" ")]):e._e(),r("br"),e.linesMatching?r("InfiniteScroll",{staticClass:"search-results-box",attrs:{items:e.linesMatching,disable:e.linesMatching.length<500||e.disableInfiniteScroll},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.items;return e._l(n,(function(t,n){var a=t.line,i=t.title;return r("div",{key:n},[i?r("div",{staticStyle:{color:"blueviolet"}},[e._v(e._s(i))]):e._e(),r("GrepLine",{attrs:{str:a,searcher:e.searcherString}}),r("br")],1)}))}}],null,!1,3310479469)}):e._e()],1)},a=[],i=r("8529"),s=r("aaf8"),c={name:"SearchResults",props:["linesMatching","searcherString","disableInfiniteScroll"],components:{GrepLine:i["a"],InfiniteScroll:s["a"]}},o=c,l=(r("d438"),r("2877")),u=Object(l["a"])(o,n,a,!1,null,"c4fff8fe",null);t["a"]=u.exports},"2db4":function(e,t,r){"use strict";r("caad"),r("a9e3");var n=r("ade3"),a=(r("ca71"),r("8dd9")),i=r("a9ad"),s=r("7560"),c=r("f2e7"),o=r("fe6c"),l=r("58df"),u=r("80d2"),h=r("d9bd");t["a"]=Object(l["a"])(a["a"],i["a"],c["a"],Object(o["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(e){return"string"===typeof e||!1===e}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:s["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute)return{};var e=this.$vuetify.application,t=e.bar,r=e.bottom,n=e.footer,a=e.insetFooter,i=e.left,s=e.right,c=e.top;return{paddingBottom:Object(u["f"])(r+n+a),paddingLeft:this.app?Object(u["f"])(i):void 0,paddingRight:this.app?Object(u["f"])(s):void 0,paddingTop:Object(u["f"])(t+c)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(h["e"])("auto-height",this),0==this.timeout&&Object(h["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(u["n"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(n["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(u["n"])(this)])},genWrapper:function(){var e=this.hasBackground?this.setBackgroundColor:this.setTextColor,t=e(this.color,{staticClass:"v-snack__wrapper",class:a["a"].options.computed.classes.call(this),directives:[{name:"show",value:this.isActive}]});return this.$createElement("div",t,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var e=this;window.clearTimeout(this.activeTimeout);var t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout((function(){e.isActive=!1}),t))}},render:function(e){return e("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"4b07":function(e,t,r){},"4d89":function(e,t,r){},"95ec":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return h}));r("a623"),r("4160"),r("13d5"),r("4fad"),r("07ac"),r("4d63"),r("ac1f"),r("25f0"),r("159b");var n=r("ade3"),a=r("3835"),i=r("5530"),s=(r("5319"),"(?:A|E|I|O|U|a|e|i|iͧ|o|u|Ä|Å|Ë|Ö|Ü|á|á̧|â|ä|å|é|ê|ë|í|î|ó|ô|ö|ú|û|ü|Ā|ā|ā́|ă|ą̂|ē|ĕ|ī|İ|ı|ō|ŏ|ū|ŭ|ŭ́|Ə|ǔ|ȧ|ȩ̄|ȯ|ə|ə́|и|о|ю|Ạ|ạ|ạ́|ậ|ắ|ẹ|ọ|ộ|ụ|ụ̂|а|о|у|э|ы|и|ь)"),c="(?:B|B́|C|D|F|G|G̣|H|H̱|J|K|L|M|N|P|Q|R|R̅|S|S̍|T|V|W|X|Y|Z|b|b̧|c|c̄|d|f|f̣|g|h|j|k|k̇|l|m|n|n̄|p|p̄|p̣|q|q̣|r|r̄|r̄̄|s|s̄|t|t́|v|w|x|y|z|z̄|Ç|ß|ç|ć|Č|č|ğ|Ġ|ġ|ģ|ķ|ń|ň|ŕ|ś|ŝ|Ş|ş|ş́|ş̇|Š|š|Ţ|ţ|Ž|ž|Ǧ|ǧ|ǧ̣|Ɂ|ɧ|ʔ|ʕ|ʕ́|ʕ̣|ʾ|ʿ|б|в|й|к|п|р|с|т|х|Ҫ|ҫ|ҫ́|ҫ̂|ҫ̄|ع|ḅ|ḇ|ḉ|ḍ|Ḏ|Ḏ̣|ḏ|ḏ̣|ḏ̣̣|Ḥ|ḥ|ḳ|ḳ̇|ḷ|ṃ|ṅ|ṇ|ṗ|ṛ|ṝ|Ṡ|ṡ|Ṣ|ṣ|ṫ|Ṭ|ṭ|Ṯ|ṯ|ẓ|ẖ|ﻉ)",o={};function l(e){if(o[e])return o[e];var t=e.replace(/[\\]v/g,s).replace(/[\\]c/g,c);return o[e]=t,t}function u(e){function t(e){return e||""}var r=t(e),n={v:r},a={value:{get:function(){return r},set:function(e){r=t(e)}},valueNormalized:{get:function(){return l(n.value)}},isEmpty:{get:function(){return!Boolean(r)}},reg:{get:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return RegExp(n.valueNormalized,e)}}},splitterReg:{get:function(){return RegExp("".concat(n.valueNormalized),"iu")}}},s={clear:{value:function(){r=""}}};return Object.defineProperties(n,Object(i["a"])(Object(i["a"])({},a),s)),n}function h(e){function t(e){return Object.entries(e).reduce((function(e,t){var r=Object(a["a"])(t,2),s=r[0],c=r[1];return Object(i["a"])(Object(i["a"])({},e),{},Object(n["a"])({},s,u(c)))}),{})}var r=t(e),s={searchersArr:{get:function(){return Object.values(r)}},areAllEmpty:{get:function(){return r.searchersArr.every((function(e){return e.isEmpty}))}}},c={clearAll:{value:function(){r.searchersArr.forEach((function(e){return e.clear()}))}},toString:{value:function(){return JSON.stringify(r)}}};return Object.defineProperties(r,Object(i["a"])(Object(i["a"])({},s),c)),r}},a995:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"searcher d-flex align-center flex-column"},[r("div",{staticClass:"searchers d-flex"},[r("KeyboardIcon",{on:{click:e.activateKeyboard}}),r("v-text-field",{attrs:{rules:e.rules,autocomplete:"off",label:"Search string",color:"primary",outlined:"",dense:"",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)},"click:clear":e.onClickClear},model:{value:e.searcherInternal,callback:function(t){e.searcherInternal=t},expression:"searcherInternal"}}),r("v-btn",{ref:"search_btn",attrs:{disabled:!e.searcherInternal,depressed:"",outlined:""},on:{click:e.search}},[e._v("Search")])],1),r("v-dialog",{attrs:{"hide-overlay":"",fullscreen:""},model:{value:e.isKeyboardOpen,callback:function(t){e.isKeyboardOpen=t},expression:"isKeyboardOpen"}},[e.isKeyboardOpen?r("Keyboard",{attrs:{buttons:e.buttonsArray,value:e.searcherInternal,"input-name":"Search string"},on:{close:function(t){e.isKeyboardOpen=!1},submit:e.onKeyboardSubmit}}):e._e()],1)],1)},a=[],i=r("9885"),s=r("82a9"),c={name:"Searcher",props:["searcherString","corpusName"],components:{Keyboard:i["a"],KeyboardIcon:s["a"]},data(){return{inputElement:null,searcherInternal:"",rules:[e=>!!e||"Search string should not be empty"],isKeyboardOpen:!1}},computed:{buttonsArray(){return this.$store.getters.buttonsArrayByCorpus(this.corpusName)}},watch:{searcherString(e){this.searcherInternal=e}},async mounted(){await this.$nextTick(),this.inputElement=document.querySelector(".v-text-field input")},methods:{search(){this.$emit("searcher-string",this.searcherInternal)},activateKeyboard(){this.isKeyboardOpen=!0},onKeyboardSubmit(e){this.searcherInternal=e},onClickClear(){this.searcherInternal="",this.search()}}},o=c,l=(r("bcfa"),r("2877")),u=r("6544"),h=r.n(u),d=r("8336"),p=r("169a"),f=r("8654"),b=Object(l["a"])(o,n,a,!1,null,"9066b078",null);t["a"]=b.exports;h()(b,{VBtn:d["a"],VDialog:p["a"],VTextField:f["a"]})},adaa:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d3b7");function n(e){return new Promise((function(t){return setTimeout(t,e)}))}},bcfa:function(e,t,r){"use strict";r("bf8b")},bf8b:function(e,t,r){},ca71:function(e,t,r){},d438:function(e,t,r){"use strict";r("4d89")},fab4:function(e,t,r){"use strict";r("d3b7"),r("4de4"),r("fb6a");var n=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.position="fixed",t.style.pointerEvents="none",t.style.opacity=0;var r=Array.prototype.slice.call(document.styleSheets).filter((function(e){return!e.disabled}));document.body.appendChild(t),window.getSelection().removeAllRanges();var n=document.createRange();n.selectNode(t),window.getSelection().addRange(n),document.execCommand("copy");for(var a=0;a<r.length;a++)r[a].disabled=!0;document.execCommand("copy");for(var i=0;i<r.length;i++)r[i].disabled=!1;document.body.removeChild(t)};t["a"]={methods:{copyToClipboardMany:function(e){var t="",r=0;return new Promise((function(a){var i=setInterval((function(){var s=e[r++];if(!s)return n(t),a(!0),void clearInterval(i);t+=s.innerHTML}),0)}))}}}}}]);