var ma=Object.defineProperty;var ha=(e,n,t)=>n in e?ma(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var X=(e,n,t)=>ha(e,typeof n!="symbol"?n+"":n,t);import{a7 as ya,M as be,d as ga,c as p,a6 as pa,r as T,m as re,b as ke,bc as ba,o as N,f as q,F as Q,i as qe,D as Se,h as ve,j as Oe,k as De,V as Ge,p as pe,v as F,aZ as Fe,I as Le,J as he,aH as Sa,x as oe,bd as Nt,q as Y,E as Be,ak as ka,av as Ot,t as E,s as ne,g as d,T as U,Q as Dt,aT as Ye,aU as Mt,G as Ze,P as et,aE as tt,be as wa,an as fe,ap as Va,aX as Rt,a0 as Me,a3 as qt,aY as Ft,aB as de,aA as ce,as as $t,bf as Ca,a_ as Ht,aF as at,at as xa,U as nt,K as lt,b2 as st,bg as me,aC as le,aD as Ut,ao as Ee,al as W,am as we,S as ot,aM as R,ba as it,bh as jt,ay as Kt,aq as Aa,bi as Ia,e as se,O as ut,bj as Pa,W as rt,af as Gt,H as ge,bk as ue,ag as $e,N as _a,bl as Ne,aj as Ta,ar as ct,bm as bt,bn as La,aJ as Ie,bo as Ba,bp as Ea,bq as zt,br as Na,w as St,bs as Oa,b9 as Ue,bt as Wt,bu as Da,b3 as He,bv as kt,bw as Ma,bx as wt,by as Jt,n as ae,l as ze,_ as Ve,A as Ra,aO as qa,ax as dt,bz as Fa,a4 as Xt,B as $a,aw as Ha,bA as Ua,$ as Vt,a5 as ja}from"./index-uZ661y6s.js";import{u as Pe}from"./index-CEcFFBH8.js";import{u as Ka,L as Ct,D as xt,K as At,a as Ga,b as Ae,G as za,s as Wa,S as It}from"./GrepLine-BZQcrcoB.js";import{u as Ja,A as Pt}from"./assetsStore-DFJDdJZL.js";import{V as We,m as Xa}from"./VTextField-BPZDBmPT.js";import{h as Qa}from"./VInput-64Bpmldd.js";import{c as Ya,V as Za,f as Qt}from"./index-RZqyRtjB.js";import{M as en,m as tn}from"./transition-DryG5DiT.js";import{V as _t,m as an,a as Tt,g as nn}from"./VOverlay-_RRPEnZi.js";import{a as ln}from"./scopeId-CEHv_7CO.js";import{a as Yt,V as sn}from"./VDialog-iTsyRSvh.js";import{V as _e,c as on}from"./VAvatar-4Zcd-Hpo.js";import{V as un}from"./VCheckboxBtn-B-bWoC0R.js";import{m as rn,V as Lt}from"./VSlideGroup-BuQs0hP5.js";import{_ as cn,I as dn}from"./InfiniteScroll.vue_vue_type_script_setup_true_lang-Dh1sI4Kk.js";import{_ as vn}from"./CopyResults-Bownqo7o.js";class vt{constructor({volume:n,texts:t}){X(this,"volumeName");X(this,"texts");this.texts=t.map(a=>({volumeName:n,...a})).map(ft.instantiate),this.volumeName=n}get totalContents(){return be.flatMap(this.texts,"contents")}static instantiate(n){return new vt(n)}}class ft{constructor({volumeName:n,textNumber:t,textName:a,contents:s}){X(this,"volumeName");X(this,"textNumber");X(this,"_textName");X(this,"rawContents");this.volumeName=n,this.textNumber=t,this._textName=a,this.rawContents=s}get contents(){return this.rawContents.map(n=>({volumeName:this.volumeName,textNumber:this.textNumber,textName:this.textName,...n})).map(mt.instantiate)}get textName(){return this._textName.replace(/\.txt/,"")}set textName(n){this._textName=n}static instantiate(n){return new ft(n)}}class mt{constructor({volumeName:n,textNumber:t,textName:a,lineNumber:s,textus:l,versio:o}){X(this,"volumeName");X(this,"textNumber");X(this,"textName");X(this,"lineNumber");X(this,"textus");X(this,"versio");this.volumeName=n,this.textNumber=t,this.textName=a,this.lineNumber=s,this.textus=l,this.versio=o}get title(){return this.volumeName+": "+this.textName}get hash(){return"h"+ya(this)}static instantiate(n){return new mt(n)}}const fn=ga("corpusWithTranslationStore",()=>{const e=Ja(),n=Ka(),t=p(()=>{switch(n.value){case Ct.maalula:return Pt.maalulaCorpusJson;case Ct.turoyo:default:return Pt.turoyoNewCorpusJson}}),a=p(()=>{var o;return(o=e[t.value])==null?void 0:o.data}),s=pa(()=>{var o;return((o=a.value)==null?void 0:o.map(vt.instantiate))||[]},[]),l=p(()=>be.flatMap(s.value,"totalContents"));return{corpusArray:s,corpusLines:l}}),mn=(e,n)=>{const t=T(e.indexOf(re(n))||0),a=p(()=>e[t.value]);function s(){t.value=(t.value+1)%e.length}return function(){return s(),a.value}},hn={class:"d-flex ga-1"},yn=ke({__name:"ModeSwitcher",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const n=ba(e,"modelValue"),t=mn(xt,n);function a(){n.value=t()}return(s,l)=>(N(),q("div",hn,[(N(!0),q(Q,null,qe(re(xt),o=>(N(),Se(Ge,{key:o,variant:o===n.value?"outlined":"text",class:"d-none d-sm-block",size:"small",onClick:i=>n.value=o},{default:ve(()=>[Oe(De(o)+" mode ",1)]),_:2},1032,["variant","onClick"]))),128)),n.value?(N(),Se(Ge,{key:0,class:"d-sm-none",variant:"outlined",onClick:l[0]||(l[0]=o=>a())},{default:ve(()=>[Oe(De(n.value)+" mode ",1)]),_:1})):pe("",!0)]))}}),Zt=Symbol.for("vuetify:v-chip-group"),gn=F({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Nt},...rn(),...oe(),...Sa({selectedClass:"v-chip--selected"}),...he(),...Le(),...Fe({variant:"tonal"})},"VChipGroup");Y()({name:"VChipGroup",props:gn(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:a}=Be(e),{isSelected:s,select:l,next:o,prev:i,selected:c}=ka(e,Zt);return Ot({VChip:{color:E(e,"color"),disabled:E(e,"disabled"),filter:E(e,"filter"),variant:E(e,"variant")}}),ne(()=>{const f=Lt.filterProps(e);return d(Lt,U(f,{class:["v-chip-group",{"v-chip-group--column":e.column},a.value,e.class],style:e.style}),{default:()=>{var b;return[(b=t.default)==null?void 0:b.call(t,{isSelected:s,select:l,next:o,prev:i,selected:c.value})]}})}),{}}});const pn=F({activeClass:String,appendAvatar:String,appendIcon:le,closable:Boolean,closeIcon:{type:le,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:le,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:me(),onClickOnce:me(),...st(),...oe(),...lt(),...nt(),...xa(),...at(),...Ht(),...Ca(),...he({tag:"span"}),...Le(),...Fe({variant:"tonal"})},"VChip"),bn=Y()({name:"VChip",directives:{Ripple:Ut},props:pn(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,n){let{attrs:t,emit:a,slots:s}=n;const{t:l}=Dt(),{borderClasses:o}=Ye(e),{colorClasses:i,colorStyles:c,variantClasses:f}=Mt(e),{densityClasses:b}=Ze(e),{elevationClasses:S}=et(e),{roundedClasses:h}=tt(e),{sizeClasses:y}=wa(e),{themeClasses:r}=Be(e),m=fe(e,"modelValue"),u=Va(e,Zt,!1),g=Rt(e,t),k=p(()=>e.link!==!1&&g.isLink.value),V=p(()=>!e.disabled&&e.link!==!1&&(!!u||e.link||g.isClickable.value)),A=p(()=>({"aria-label":l(e.closeLabel),onClick(x){x.preventDefault(),x.stopPropagation(),m.value=!1,a("click:close",x)}}));function P(x){var K;a("click",x),V.value&&((K=g.navigate)==null||K.call(g,x),u==null||u.toggle())}function D(x){(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),P(x))}return()=>{const x=g.isLink.value?"a":e.tag,K=!!(e.appendIcon||e.appendAvatar),Z=!!(K||s.append),J=!!(s.close||e.closable),ee=!!(s.filter||e.filter)&&u,$=!!(e.prependIcon||e.prependAvatar),L=!!($||s.prepend),G=!u||u.isSelected.value;return m.value&&Me(d(x,U({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":V.value,"v-chip--filter":ee,"v-chip--pill":e.pill},r.value,o.value,G?i.value:void 0,b.value,S.value,h.value,y.value,f.value,u==null?void 0:u.selectedClass.value,e.class],style:[G?c.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:V.value?0:void 0,onClick:P,onKeydown:V.value&&!k.value&&D},g.linkProps),{default:()=>{var z;return[Ft(V.value,"v-chip"),ee&&d(Ya,{key:"filter"},{default:()=>[Me(d("div",{class:"v-chip__filter"},[s.filter?d(ce,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},s.filter):d(de,{key:"filter-icon",icon:e.filterIcon},null)]),[[$t,u.isSelected.value]])]}),L&&d("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?d(ce,{key:"prepend-defaults",disabled:!$,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},s.prepend):d(Q,null,[e.prependIcon&&d(de,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&d(_e,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),d("div",{class:"v-chip__content","data-no-activator":""},[((z=s.default)==null?void 0:z.call(s,{isSelected:u==null?void 0:u.isSelected.value,selectedClass:u==null?void 0:u.selectedClass.value,select:u==null?void 0:u.select,toggle:u==null?void 0:u.toggle,value:u==null?void 0:u.value.value,disabled:e.disabled}))??e.text]),Z&&d("div",{key:"append",class:"v-chip__append"},[s.append?d(ce,{key:"append-defaults",disabled:!K,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},s.append):d(Q,null,[e.appendIcon&&d(de,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&d(_e,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),J&&d("button",U({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},A.value),[s.close?d(ce,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},s.close):d(de,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[qt("ripple"),V.value&&e.ripple,null]])}}}),Je=Symbol.for("vuetify:list");function ea(){const e=Ee(Je,{hasPrepend:W(!1),updateHasPrepend:()=>null}),n={hasPrepend:W(!1),updateHasPrepend:t=>{t&&(n.hasPrepend.value=t)}};return we(Je,n),e}function ta(){return Ee(Je,null)}const ht=e=>{const n={activate:t=>{let{id:a,value:s,activated:l}=t;return a=R(a),e&&!s&&l.size===1&&l.has(a)||(s?l.add(a):l.delete(a)),l},in:(t,a,s)=>{let l=new Set;if(t!=null)for(const o of ot(t))l=n.activate({id:o,value:!0,activated:new Set(l),children:a,parents:s});return l},out:t=>Array.from(t)};return n},aa=e=>{const n=ht(e);return{activate:a=>{let{activated:s,id:l,...o}=a;l=R(l);const i=s.has(l)?new Set([l]):new Set;return n.activate({...o,id:l,activated:i})},in:(a,s,l)=>{let o=new Set;if(a!=null){const i=ot(a);i.length&&(o=n.in(i.slice(0,1),s,l))}return o},out:(a,s,l)=>n.out(a,s,l)}},Sn=e=>{const n=ht(e);return{activate:a=>{let{id:s,activated:l,children:o,...i}=a;return s=R(s),o.has(s)?l:n.activate({id:s,activated:l,children:o,...i})},in:n.in,out:n.out}},kn=e=>{const n=aa(e);return{activate:a=>{let{id:s,activated:l,children:o,...i}=a;return s=R(s),o.has(s)?l:n.activate({id:s,activated:l,children:o,...i})},in:n.in,out:n.out}},wn={open:e=>{let{id:n,value:t,opened:a,parents:s}=e;if(t){const l=new Set;l.add(n);let o=s.get(n);for(;o!=null;)l.add(o),o=s.get(o);return l}else return a.delete(n),a},select:()=>null},na={open:e=>{let{id:n,value:t,opened:a,parents:s}=e;if(t){let l=s.get(n);for(a.add(n);l!=null&&l!==n;)a.add(l),l=s.get(l);return a}else a.delete(n);return a},select:()=>null},Vn={open:na.open,select:e=>{let{id:n,value:t,opened:a,parents:s}=e;if(!t)return a;const l=[];let o=s.get(n);for(;o!=null;)l.push(o),o=s.get(o);return new Set(l)}},yt=e=>{const n={select:t=>{let{id:a,value:s,selected:l}=t;if(a=R(a),e&&!s){const o=Array.from(l.entries()).reduce((i,c)=>{let[f,b]=c;return b==="on"&&i.push(f),i},[]);if(o.length===1&&o[0]===a)return l}return l.set(a,s?"on":"off"),l},in:(t,a,s)=>{let l=new Map;for(const o of t||[])l=n.select({id:o,value:!0,selected:new Map(l),children:a,parents:s});return l},out:t=>{const a=[];for(const[s,l]of t.entries())l==="on"&&a.push(s);return a}};return n},la=e=>{const n=yt(e);return{select:a=>{let{selected:s,id:l,...o}=a;l=R(l);const i=s.has(l)?new Map([[l,s.get(l)]]):new Map;return n.select({...o,id:l,selected:i})},in:(a,s,l)=>{let o=new Map;return a!=null&&a.length&&(o=n.in(a.slice(0,1),s,l)),o},out:(a,s,l)=>n.out(a,s,l)}},Cn=e=>{const n=yt(e);return{select:a=>{let{id:s,selected:l,children:o,...i}=a;return s=R(s),o.has(s)?l:n.select({id:s,selected:l,children:o,...i})},in:n.in,out:n.out}},xn=e=>{const n=la(e);return{select:a=>{let{id:s,selected:l,children:o,...i}=a;return s=R(s),o.has(s)?l:n.select({id:s,selected:l,children:o,...i})},in:n.in,out:n.out}},An=e=>{const n={select:t=>{let{id:a,value:s,selected:l,children:o,parents:i}=t;a=R(a);const c=new Map(l),f=[a];for(;f.length;){const S=f.shift();l.set(R(S),s?"on":"off"),o.has(S)&&f.push(...o.get(S))}let b=R(i.get(a));for(;b;){const S=o.get(b),h=S.every(r=>l.get(R(r))==="on"),y=S.every(r=>!l.has(R(r))||l.get(R(r))==="off");l.set(b,h?"on":y?"off":"indeterminate"),b=R(i.get(b))}return e&&!s&&Array.from(l.entries()).reduce((h,y)=>{let[r,m]=y;return m==="on"&&h.push(r),h},[]).length===0?c:l},in:(t,a,s)=>{let l=new Map;for(const o of t||[])l=n.select({id:o,value:!0,selected:new Map(l),children:a,parents:s});return l},out:(t,a)=>{const s=[];for(const[l,o]of t.entries())o==="on"&&!a.has(l)&&s.push(l);return s}};return n},Te=Symbol.for("vuetify:nested"),sa={id:W(),root:{register:()=>null,unregister:()=>null,parents:T(new Map),children:T(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:T(!1),selectable:T(!1),opened:T(new Set),activated:T(new Set),selected:T(new Map),selectedValues:T([]),getPath:()=>[]}},In=F({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Pn=e=>{let n=!1;const t=T(new Map),a=T(new Map),s=fe(e,"opened",e.opened,r=>new Set(r),r=>[...r.values()]),l=p(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return Sn(e.mandatory);case"single-leaf":return kn(e.mandatory);case"independent":return ht(e.mandatory);case"single-independent":default:return aa(e.mandatory)}}),o=p(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return xn(e.mandatory);case"leaf":return Cn(e.mandatory);case"independent":return yt(e.mandatory);case"single-independent":return la(e.mandatory);case"classic":default:return An(e.mandatory)}}),i=p(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Vn;case"single":return wn;case"multiple":default:return na}}),c=fe(e,"activated",e.activated,r=>l.value.in(r,t.value,a.value),r=>l.value.out(r,t.value,a.value)),f=fe(e,"selected",e.selected,r=>o.value.in(r,t.value,a.value),r=>o.value.out(r,t.value,a.value));it(()=>{n=!0});function b(r){const m=[];let u=r;for(;u!=null;)m.unshift(u),u=a.value.get(u);return m}const S=jt("nested"),h=new Set,y={id:W(),root:{opened:s,activatable:E(e,"activatable"),selectable:E(e,"selectable"),activated:c,selected:f,selectedValues:p(()=>{const r=[];for(const[m,u]of f.value.entries())u==="on"&&r.push(m);return r}),register:(r,m,u)=>{if(h.has(r)){b(r).map(String).join(" -> "),b(m).concat(r).map(String).join(" -> ");return}else h.add(r);m&&r!==m&&a.value.set(r,m),u&&t.value.set(r,[]),m!=null&&t.value.set(m,[...t.value.get(m)||[],r])},unregister:r=>{if(n)return;h.delete(r),t.value.delete(r);const m=a.value.get(r);if(m){const u=t.value.get(m)??[];t.value.set(m,u.filter(g=>g!==r))}a.value.delete(r)},open:(r,m,u)=>{S.emit("click:open",{id:r,value:m,path:b(r),event:u});const g=i.value.open({id:r,value:m,opened:new Set(s.value),children:t.value,parents:a.value,event:u});g&&(s.value=g)},openOnSelect:(r,m,u)=>{const g=i.value.select({id:r,value:m,selected:new Map(f.value),opened:new Set(s.value),children:t.value,parents:a.value,event:u});g&&(s.value=g)},select:(r,m,u)=>{S.emit("click:select",{id:r,value:m,path:b(r),event:u});const g=o.value.select({id:r,value:m,selected:new Map(f.value),children:t.value,parents:a.value,event:u});g&&(f.value=g),y.root.openOnSelect(r,m,u)},activate:(r,m,u)=>{if(!e.activatable)return y.root.select(r,!0,u);S.emit("click:activate",{id:r,value:m,path:b(r),event:u});const g=l.value.activate({id:r,value:m,activated:new Set(c.value),children:t.value,parents:a.value,event:u});g&&(c.value=g)},children:t,parents:a,getPath:b}};return we(Te,y),y.root},oa=(e,n)=>{const t=Ee(Te,sa),a=Symbol(Kt()),s=p(()=>e.value!==void 0?e.value:a),l={...t,id:s,open:(o,i)=>t.root.open(s.value,o,i),openOnSelect:(o,i)=>t.root.openOnSelect(s.value,o,i),isOpen:p(()=>t.root.opened.value.has(s.value)),parent:p(()=>t.root.parents.value.get(s.value)),activate:(o,i)=>t.root.activate(s.value,o,i),isActivated:p(()=>t.root.activated.value.has(R(s.value))),select:(o,i)=>t.root.select(s.value,o,i),isSelected:p(()=>t.root.selected.value.get(R(s.value))==="on"),isIndeterminate:p(()=>t.root.selected.value.get(s.value)==="indeterminate"),isLeaf:p(()=>!t.root.children.value.get(s.value)),isGroupActivator:t.isGroupActivator};return!t.isGroupActivator&&t.root.register(s.value,t.id.value,n),it(()=>{!t.isGroupActivator&&t.root.unregister(s.value)}),n&&we(Te,l),l},_n=()=>{const e=Ee(Te,sa);we(Te,{...e,isGroupActivator:!0})},Tn=Ia({name:"VListGroupActivator",setup(e,n){let{slots:t}=n;return _n(),()=>{var a;return(a=t.default)==null?void 0:a.call(t)}}}),Ln=F({activeColor:String,baseColor:String,color:String,collapseIcon:{type:le,default:"$collapse"},expandIcon:{type:le,default:"$expand"},prependIcon:le,appendIcon:le,fluid:Boolean,subgroup:Boolean,title:String,value:null,...oe(),...he()},"VListGroup"),Bt=Y()({name:"VListGroup",props:Ln(),setup(e,n){let{slots:t}=n;const{isOpen:a,open:s,id:l}=oa(E(e,"value"),!0),o=p(()=>`v-list-group--id-${String(l.value)}`),i=ta(),{isBooted:c}=Aa();function f(y){y.stopPropagation(),s(!a.value,y)}const b=p(()=>({onClick:f,class:"v-list-group__header",id:o.value})),S=p(()=>a.value?e.collapseIcon:e.expandIcon),h=p(()=>({VListItem:{active:a.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&S.value,appendIcon:e.appendIcon||!e.subgroup&&S.value,title:e.title,value:e.value}}));return ne(()=>d(e.tag,{class:["v-list-group",{"v-list-group--prepend":i==null?void 0:i.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":a.value},e.class],style:e.style},{default:()=>[t.activator&&d(ce,{defaults:h.value},{default:()=>[d(Tn,null,{default:()=>[t.activator({props:b.value,isOpen:a.value})]})]}),d(en,{transition:{component:Za},disabled:!c.value},{default:()=>{var y;return[Me(d("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(y=t.default)==null?void 0:y.call(t)]),[[$t,a.value]])]}})]})),{isOpen:a}}}),Bn=F({opacity:[Number,String],...oe(),...he()},"VListItemSubtitle"),En=Y()({name:"VListItemSubtitle",props:Bn(),setup(e,n){let{slots:t}=n;return ne(()=>d(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},t)),{}}}),Nn=on("v-list-item-title"),On=F({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:le,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:le,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:me(),onClickOnce:me(),...st(),...oe(),...lt(),...rt(),...nt(),...at(),...Ht(),...he(),...Le(),...Fe({variant:"text"})},"VListItem"),Re=Y()({name:"VListItem",directives:{Ripple:Ut},props:On(),emits:{click:e=>!0},setup(e,n){let{attrs:t,slots:a,emit:s}=n;const l=Rt(e,t),o=p(()=>e.value===void 0?l.href.value:e.value),{activate:i,isActivated:c,select:f,isOpen:b,isSelected:S,isIndeterminate:h,isGroupActivator:y,root:r,parent:m,openOnSelect:u,id:g}=oa(o,!1),k=ta(),V=p(()=>{var C;return e.active!==!1&&(e.active||((C=l.isActive)==null?void 0:C.value)||(r.activatable.value?c.value:S.value))}),A=p(()=>e.link!==!1&&l.isLink.value),P=p(()=>!e.disabled&&e.link!==!1&&(e.link||l.isClickable.value||!!k&&(r.selectable.value||r.activatable.value||e.value!=null))),D=p(()=>e.rounded||e.nav),x=p(()=>e.color??e.activeColor),K=p(()=>({color:V.value?x.value??e.baseColor:e.baseColor,variant:e.variant}));se(()=>{var C;return(C=l.isActive)==null?void 0:C.value},C=>{C&&m.value!=null&&r.open(m.value,!0),C&&u(C)},{immediate:!0});const{themeClasses:Z}=Be(e),{borderClasses:J}=Ye(e),{colorClasses:ee,colorStyles:$,variantClasses:L}=Mt(K),{densityClasses:G}=Ze(e),{dimensionStyles:z}=ut(e),{elevationClasses:Ce}=et(e),{roundedClasses:ye}=tt(D),xe=p(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),v=p(()=>({isActive:V.value,select:f,isOpen:b.value,isSelected:S.value,isIndeterminate:h.value}));function w(C){var H;s("click",C),P.value&&((H=l.navigate)==null||H.call(l,C),!y&&(r.activatable.value?i(!c.value,C):(r.selectable.value||e.value!=null)&&f(!S.value,C)))}function _(C){(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),C.target.dispatchEvent(new MouseEvent("click",C)))}return ne(()=>{const C=A.value?"a":e.tag,H=a.title||e.title!=null,I=a.subtitle||e.subtitle!=null,O=!!(e.appendAvatar||e.appendIcon),M=!!(O||a.append),te=!!(e.prependAvatar||e.prependIcon),j=!!(te||a.prepend);return k==null||k.updateHasPrepend(j),e.activeColor&&Pa("active-color",["color","base-color"]),Me(d(C,U({class:["v-list-item",{"v-list-item--active":V.value,"v-list-item--disabled":e.disabled,"v-list-item--link":P.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!j&&(k==null?void 0:k.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&V.value},Z.value,J.value,ee.value,G.value,Ce.value,xe.value,ye.value,L.value,e.class],style:[$.value,z.value,e.style],tabindex:P.value?k?-2:0:void 0,"aria-selected":r.activatable.value?c.value:S.value,onClick:w,onKeydown:P.value&&!A.value&&_},l.linkProps),{default:()=>{var ie;return[Ft(P.value||V.value,"v-list-item"),j&&d("div",{key:"prepend",class:"v-list-item__prepend"},[a.prepend?d(ce,{key:"prepend-defaults",disabled:!te,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var B;return[(B=a.prepend)==null?void 0:B.call(a,v.value)]}}):d(Q,null,[e.prependAvatar&&d(_e,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&d(de,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),d("div",{class:"v-list-item__spacer"},null)]),d("div",{class:"v-list-item__content","data-no-activator":""},[H&&d(Nn,{key:"title"},{default:()=>{var B;return[((B=a.title)==null?void 0:B.call(a,{title:e.title}))??e.title]}}),I&&d(En,{key:"subtitle"},{default:()=>{var B;return[((B=a.subtitle)==null?void 0:B.call(a,{subtitle:e.subtitle}))??e.subtitle]}}),(ie=a.default)==null?void 0:ie.call(a,v.value)]),M&&d("div",{key:"append",class:"v-list-item__append"},[a.append?d(ce,{key:"append-defaults",disabled:!O,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var B;return[(B=a.append)==null?void 0:B.call(a,v.value)]}}):d(Q,null,[e.appendIcon&&d(de,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&d(_e,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),d("div",{class:"v-list-item__spacer"},null)])]}}),[[qt("ripple"),P.value&&e.ripple]])}),{activate:i,isActivated:c,isGroupActivator:y,isSelected:S,list:k,select:f,root:r,id:g}}}),Dn=F({color:String,inset:Boolean,sticky:Boolean,title:String,...oe(),...he()},"VListSubheader"),Mn=Y()({name:"VListSubheader",props:Dn(),setup(e,n){let{slots:t}=n;const{textColorClasses:a,textColorStyles:s}=Gt(E(e,"color"));return ne(()=>{const l=!!(t.default||e.title);return d(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},a.value,e.class],style:[{textColorStyles:s},e.style]},{default:()=>{var o;return[l&&d("div",{class:"v-list-subheader__text"},[((o=t.default)==null?void 0:o.call(t))??e.title])]}})}),{}}}),Rn=F({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...oe(),...Le()},"VDivider"),qn=Y()({name:"VDivider",props:Rn(),setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:s}=Be(e),{textColorClasses:l,textColorStyles:o}=Gt(E(e,"color")),i=p(()=>{const c={};return e.length&&(c[e.vertical?"height":"width"]=ge(e.length)),e.thickness&&(c[e.vertical?"borderRightWidth":"borderTopWidth"]=ge(e.thickness)),c});return ne(()=>{const c=d("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},s.value,l.value,e.class],style:[i.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!t.role||t.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${t.role||"separator"}`},null);return a.default?d("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[c,d("div",{class:"v-divider__content"},[a.default()]),c]):c}),{}}}),Fn=F({items:Array,returnObject:Boolean},"VListChildren"),ia=Y()({name:"VListChildren",props:Fn(),setup(e,n){let{slots:t}=n;return ea(),()=>{var a,s;return((a=t.default)==null?void 0:a.call(t))??((s=e.items)==null?void 0:s.map(l=>{var h,y;let{children:o,props:i,type:c,raw:f}=l;if(c==="divider")return((h=t.divider)==null?void 0:h.call(t,{props:i}))??d(qn,i,null);if(c==="subheader")return((y=t.subheader)==null?void 0:y.call(t,{props:i}))??d(Mn,i,null);const b={subtitle:t.subtitle?r=>{var m;return(m=t.subtitle)==null?void 0:m.call(t,{...r,item:f})}:void 0,prepend:t.prepend?r=>{var m;return(m=t.prepend)==null?void 0:m.call(t,{...r,item:f})}:void 0,append:t.append?r=>{var m;return(m=t.append)==null?void 0:m.call(t,{...r,item:f})}:void 0,title:t.title?r=>{var m;return(m=t.title)==null?void 0:m.call(t,{...r,item:f})}:void 0},S=Bt.filterProps(i);return o?d(Bt,U({value:i==null?void 0:i.value},S),{activator:r=>{let{props:m}=r;const u={...i,...m,value:e.returnObject?f:i.value};return t.header?t.header({props:u}):d(Re,u,b)},default:()=>d(ia,{items:o,returnObject:e.returnObject},t)}):t.item?t.item({props:i}):d(Re,U(i,{value:e.returnObject?f:i.value}),b)}))}}}),ua=F({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Nt}},"list-items");function Xe(e,n){const t=ue(n,e.itemTitle,n),a=ue(n,e.itemValue,t),s=ue(n,e.itemChildren),l=e.itemProps===!0?typeof n=="object"&&n!=null&&!Array.isArray(n)?"children"in n?$e(n,["children"]):n:void 0:ue(n,e.itemProps),o={title:t,value:a,...l};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(s)?ra(e,s):void 0,raw:n}}function ra(e,n){const t=[];for(const a of n)t.push(Xe(e,a));return t}function $n(e){const n=p(()=>ra(e,e.items)),t=p(()=>n.value.some(l=>l.value===null));function a(l){return t.value||(l=l.filter(o=>o!==null)),l.map(o=>e.returnObject&&typeof o=="string"?Xe(e,o):n.value.find(i=>e.valueComparator(o,i.value))||Xe(e,o))}function s(l){return e.returnObject?l.map(o=>{let{raw:i}=o;return i}):l.map(o=>{let{value:i}=o;return i})}return{items:n,transformIn:a,transformOut:s}}function Hn(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function Un(e,n){const t=ue(n,e.itemType,"item"),a=Hn(n)?n:ue(n,e.itemTitle),s=ue(n,e.itemValue,void 0),l=ue(n,e.itemChildren),o=e.itemProps===!0?$e(n,["children"]):ue(n,e.itemProps),i={title:a,value:s,...o};return{type:t,title:i.title,value:i.value,props:i,children:t==="item"&&l?ca(e,l):void 0,raw:n}}function ca(e,n){const t=[];for(const a of n)t.push(Un(e,a));return t}function jn(e){return{items:p(()=>ca(e,e.items))}}const Kn=F({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":me(),"onClick:select":me(),"onUpdate:opened":me(),...In({selectStrategy:"single-leaf",openStrategy:"list"}),...st(),...oe(),...lt(),...rt(),...nt(),itemType:{type:String,default:"type"},...ua(),...at(),...he(),...Le(),...Fe({variant:"text"})},"VList"),Gn=Y()({name:"VList",props:Kn(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,n){let{slots:t}=n;const{items:a}=jn(e),{themeClasses:s}=Be(e),{backgroundColorClasses:l,backgroundColorStyles:o}=_a(E(e,"bgColor")),{borderClasses:i}=Ye(e),{densityClasses:c}=Ze(e),{dimensionStyles:f}=ut(e),{elevationClasses:b}=et(e),{roundedClasses:S}=tt(e),{children:h,open:y,parents:r,select:m,getPath:u}=Pn(e),g=p(()=>e.lines?`v-list--${e.lines}-line`:void 0),k=E(e,"activeColor"),V=E(e,"baseColor"),A=E(e,"color");ea(),Ot({VListGroup:{activeColor:k,baseColor:V,color:A,expandIcon:E(e,"expandIcon"),collapseIcon:E(e,"collapseIcon")},VListItem:{activeClass:E(e,"activeClass"),activeColor:k,baseColor:V,color:A,density:E(e,"density"),disabled:E(e,"disabled"),lines:E(e,"lines"),nav:E(e,"nav"),slim:E(e,"slim"),variant:E(e,"variant")}});const P=W(!1),D=T();function x(L){P.value=!0}function K(L){P.value=!1}function Z(L){var G;!P.value&&!(L.relatedTarget&&((G=D.value)!=null&&G.contains(L.relatedTarget)))&&$()}function J(L){const G=L.target;if(!(!D.value||["INPUT","TEXTAREA"].includes(G.tagName))){if(L.key==="ArrowDown")$("next");else if(L.key==="ArrowUp")$("prev");else if(L.key==="Home")$("first");else if(L.key==="End")$("last");else return;L.preventDefault()}}function ee(L){P.value=!0}function $(L){if(D.value)return Ne(D.value,L)}return ne(()=>d(e.tag,{ref:D,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},s.value,l.value,i.value,c.value,b.value,g.value,S.value,e.class],style:[o.value,f.value,e.style],tabindex:e.disabled||P.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:x,onFocusout:K,onFocus:Z,onKeydown:J,onMousedown:ee},{default:()=>[d(ia,{items:a.value,returnObject:e.returnObject},t)]})),{open:y,select:m,focus:$,children:h,parents:r,getPath:u}}}),zn=F({id:String,submenu:Boolean,...$e(an({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Yt}}),["absolute"])},"VMenu"),Wn=Y()({name:"VMenu",props:zn(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=fe(e,"modelValue"),{scopeId:s}=ln(),{isRtl:l}=Ta(),o=Kt(),i=p(()=>e.id||`v-menu-${o}`),c=T(),f=Ee(Tt,null),b=W(new Set);we(Tt,{register(){b.value.add(o)},unregister(){b.value.delete(o)},closeParents(u){setTimeout(()=>{var g;!b.value.size&&!e.persistent&&(u==null||(g=c.value)!=null&&g.contentEl&&!Ea(u,c.value.contentEl))&&(a.value=!1,f==null||f.closeParents())},40)}}),it(()=>{f==null||f.unregister(),document.removeEventListener("focusin",S)}),La(()=>a.value=!1);async function S(u){var V,A,P;const g=u.relatedTarget,k=u.target;await ct(),a.value&&g!==k&&((V=c.value)!=null&&V.contentEl)&&((A=c.value)!=null&&A.globalTop)&&![document,c.value.contentEl].includes(k)&&!c.value.contentEl.contains(k)&&((P=bt(c.value.contentEl)[0])==null||P.focus())}se(a,u=>{u?(f==null||f.register(),Ie&&document.addEventListener("focusin",S,{once:!0})):(f==null||f.unregister(),Ie&&document.removeEventListener("focusin",S))},{immediate:!0});function h(u){f==null||f.closeParents(u)}function y(u){var g,k,V,A,P;if(!e.disabled)if(u.key==="Tab"||u.key==="Enter"&&!e.closeOnContentClick){if(u.key==="Enter"&&(u.target instanceof HTMLTextAreaElement||u.target instanceof HTMLInputElement&&u.target.closest("form")))return;u.key==="Enter"&&u.preventDefault(),Ba(bt((g=c.value)==null?void 0:g.contentEl,!1),u.shiftKey?"prev":"next",x=>x.tabIndex>=0)||(a.value=!1,(V=(k=c.value)==null?void 0:k.activatorEl)==null||V.focus())}else e.submenu&&u.key===(l.value?"ArrowRight":"ArrowLeft")&&(a.value=!1,(P=(A=c.value)==null?void 0:A.activatorEl)==null||P.focus())}function r(u){var k;if(e.disabled)return;const g=(k=c.value)==null?void 0:k.contentEl;g&&a.value?u.key==="ArrowDown"?(u.preventDefault(),u.stopImmediatePropagation(),Ne(g,"next")):u.key==="ArrowUp"?(u.preventDefault(),u.stopImmediatePropagation(),Ne(g,"prev")):e.submenu&&(u.key===(l.value?"ArrowRight":"ArrowLeft")?a.value=!1:u.key===(l.value?"ArrowLeft":"ArrowRight")&&(u.preventDefault(),Ne(g,"first"))):(e.submenu?u.key===(l.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(u.key))&&(a.value=!0,u.preventDefault(),setTimeout(()=>setTimeout(()=>r(u))))}const m=p(()=>U({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":i.value,onKeydown:r},e.activatorProps));return ne(()=>{const u=_t.filterProps(e);return d(_t,U({ref:c,id:i.value,class:["v-menu",e.class],style:e.style},u,{modelValue:a.value,"onUpdate:modelValue":g=>a.value=g,absolute:!0,activatorProps:m.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":h,onKeydown:y},s),{activator:t.activator,default:function(){for(var g=arguments.length,k=new Array(g),V=0;V<g;V++)k[V]=arguments[V];return d(ce,{root:"VMenu"},{default:()=>{var A;return[(A=t.default)==null?void 0:A.call(t,...k)]}})}})}),Qt({id:i,ΨopenChildren:b},c)}}),Jn=F({renderless:Boolean,...oe()},"VVirtualScrollItem"),Xn=Y()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Jn(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:s}=n;const{resizeRef:l,contentRect:o}=zt(void 0,"border");se(()=>{var i;return(i=o.value)==null?void 0:i.height},i=>{i!=null&&a("update:height",i)}),ne(()=>{var i,c;return e.renderless?d(Q,null,[(i=s.default)==null?void 0:i.call(s,{itemRef:l})]):d("div",U({ref:l,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(c=s.default)==null?void 0:c.call(s)])})}}),Qn=-1,Yn=1,je=100,Zn=F({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function el(e,n){const t=Na(),a=W(0);St(()=>{a.value=parseFloat(e.itemHeight||0)});const s=W(0),l=W(Math.ceil((parseInt(e.height)||t.height.value)/(a.value||16))||1),o=W(0),i=W(0),c=T(),f=T();let b=0;const{resizeRef:S,contentRect:h}=zt();St(()=>{S.value=c.value});const y=p(()=>{var v;return c.value===document.documentElement?t.height.value:((v=h.value)==null?void 0:v.height)||parseInt(e.height)||0}),r=p(()=>!!(c.value&&f.value&&y.value&&a.value));let m=Array.from({length:n.value.length}),u=Array.from({length:n.value.length});const g=W(0);let k=-1;function V(v){return m[v]||a.value}const A=Oa(()=>{const v=performance.now();u[0]=0;const w=n.value.length;for(let _=1;_<=w-1;_++)u[_]=(u[_-1]||0)+V(_-1);g.value=Math.max(g.value,performance.now()-v)},g),P=se(r,v=>{v&&(P(),b=f.value.offsetTop,A.immediate(),z(),~k&&ct(()=>{Ie&&window.requestAnimationFrame(()=>{ye(k),k=-1})}))});Wt(()=>{A.clear()});function D(v,w){const _=m[v],C=a.value;a.value=C?Math.min(a.value,w):w,(_!==w||C!==a.value)&&(m[v]=w,A())}function x(v){return v=Ue(v,0,n.value.length-1),u[v]||0}function K(v){return tl(u,v)}let Z=0,J=0,ee=0;se(y,(v,w)=>{w&&(z(),v<w&&requestAnimationFrame(()=>{J=0,z()}))});function $(){if(!c.value||!f.value)return;const v=c.value.scrollTop,w=performance.now();w-ee>500?(J=Math.sign(v-Z),b=f.value.offsetTop):J=v-Z,Z=v,ee=w,z()}function L(){!c.value||!f.value||(J=0,ee=0,z())}let G=-1;function z(){cancelAnimationFrame(G),G=requestAnimationFrame(Ce)}function Ce(){if(!c.value||!y.value)return;const v=Z-b,w=Math.sign(J),_=Math.max(0,v-je),C=Ue(K(_),0,n.value.length),H=v+y.value+je,I=Ue(K(H)+1,C+1,n.value.length);if((w!==Qn||C<s.value)&&(w!==Yn||I>l.value)){const O=x(s.value)-x(C),M=x(I)-x(l.value);Math.max(O,M)>je?(s.value=C,l.value=I):(C<=0&&(s.value=C),I>=n.value.length&&(l.value=I))}o.value=x(s.value),i.value=x(n.value.length)-x(l.value)}function ye(v){const w=x(v);!c.value||v&&!w?k=v:c.value.scrollTop=w}const xe=p(()=>n.value.slice(s.value,l.value).map((v,w)=>({raw:v,index:w+s.value})));return se(n,()=>{m=Array.from({length:n.value.length}),u=Array.from({length:n.value.length}),A.immediate(),z()},{deep:!0}),{calculateVisibleItems:z,containerRef:c,markerRef:f,computedItems:xe,paddingTop:o,paddingBottom:i,scrollToIndex:ye,handleScroll:$,handleScrollend:L,handleItemResize:D}}function tl(e,n){let t=e.length-1,a=0,s=0,l=null,o=-1;if(e[t]<n)return t;for(;a<=t;)if(s=a+t>>1,l=e[s],l>n)t=s-1;else if(l<n)o=s,a=s+1;else return l===n?s:a;return o}const al=F({items:{type:Array,default:()=>[]},renderless:Boolean,...Zn(),...oe(),...rt()},"VVirtualScroll"),nl=Y()({name:"VVirtualScroll",props:al(),setup(e,n){let{slots:t}=n;const a=jt("VVirtualScroll"),{dimensionStyles:s}=ut(e),{calculateVisibleItems:l,containerRef:o,markerRef:i,handleScroll:c,handleScrollend:f,handleItemResize:b,scrollToIndex:S,paddingTop:h,paddingBottom:y,computedItems:r}=el(e,E(e,"items"));return Da(()=>e.renderless,()=>{function m(){var k,V;const g=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[g]("scroll",c,{passive:!0}),document[g]("scrollend",f)):((k=o.value)==null||k[g]("scroll",c,{passive:!0}),(V=o.value)==null||V[g]("scrollend",f))}He(()=>{o.value=nn(a.vnode.el,!0),m(!0)}),Wt(m)}),ne(()=>{const m=r.value.map(u=>d(Xn,{key:u.index,renderless:e.renderless,"onUpdate:height":g=>b(u.index,g)},{default:g=>{var k;return(k=t.default)==null?void 0:k.call(t,{item:u.raw,index:u.index,...g})}}));return e.renderless?d(Q,null,[d("div",{ref:i,class:"v-virtual-scroll__spacer",style:{paddingTop:ge(h.value)}},null),m,d("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ge(y.value)}},null)]):d("div",{ref:o,class:["v-virtual-scroll",e.class],onScrollPassive:c,onScrollend:f,style:[s.value,e.style]},[d("div",{ref:i,class:"v-virtual-scroll__container",style:{paddingTop:ge(h.value),paddingBottom:ge(y.value)}},[m])])}),{calculateVisibleItems:l,scrollToIndex:S}}});function ll(e,n){const t=W(!1);let a;function s(i){cancelAnimationFrame(a),t.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{t.value=!1})})}async function l(){await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>{if(t.value){const c=se(t,()=>{c(),i()})}else i()})}async function o(i){var b,S;if(i.key==="Tab"&&((b=n.value)==null||b.focus()),!["PageDown","PageUp","Home","End"].includes(i.key))return;const c=(S=e.value)==null?void 0:S.$el;if(!c)return;(i.key==="Home"||i.key==="End")&&c.scrollTo({top:i.key==="Home"?0:c.scrollHeight,behavior:"smooth"}),await l();const f=c.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(i.key==="PageDown"||i.key==="Home"){const h=c.getBoundingClientRect().top;for(const y of f)if(y.getBoundingClientRect().top>=h){y.focus();break}}else{const h=c.getBoundingClientRect().bottom;for(const y of[...f].reverse())if(y.getBoundingClientRect().bottom<=h){y.focus();break}}}return{onScrollPassive:s,onKeydown:o}}const sl=F({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:le,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...ua({itemChildren:!1})},"Select"),ol=F({...sl(),...$e(Xa({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...tn({transition:{component:Yt}})},"VSelect"),Et=Y()({name:"VSelect",props:ol(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:a}=Dt(),s=T(),l=T(),o=T(),i=fe(e,"menu"),c=p({get:()=>i.value,set:v=>{var w;i.value&&!v&&((w=l.value)!=null&&w.ΨopenChildren.size)||(i.value=v)}}),{items:f,transformIn:b,transformOut:S}=$n(e),h=fe(e,"modelValue",[],v=>b(v===null?[null]:ot(v)),v=>{const w=S(v);return e.multiple?w:w[0]??null}),y=p(()=>typeof e.counterValue=="function"?e.counterValue(h.value):typeof e.counterValue=="number"?e.counterValue:h.value.length),r=Qa(),m=p(()=>h.value.map(v=>v.value)),u=W(!1),g=p(()=>c.value?e.closeText:e.openText);let k="",V;const A=p(()=>e.hideSelected?f.value.filter(v=>!h.value.some(w=>e.valueComparator(w,v))):f.value),P=p(()=>e.hideNoData&&!A.value.length||e.readonly||(r==null?void 0:r.isReadonly.value)),D=p(()=>{var v;return{...e.menuProps,activatorProps:{...((v=e.menuProps)==null?void 0:v.activatorProps)||{},"aria-haspopup":"listbox"}}}),x=T(),K=ll(x,s);function Z(v){e.openOnClear&&(c.value=!0)}function J(){P.value||(c.value=!c.value)}function ee(v){kt(v)&&$(v)}function $(v){var H,I;if(!v.key||e.readonly||r!=null&&r.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(v.key)&&v.preventDefault(),["Enter","ArrowDown"," "].includes(v.key)&&(c.value=!0),["Escape","Tab"].includes(v.key)&&(c.value=!1),v.key==="Home"?(H=x.value)==null||H.focus("first"):v.key==="End"&&((I=x.value)==null||I.focus("last"));const w=1e3;if(e.multiple||!kt(v))return;const _=performance.now();_-V>w&&(k=""),k+=v.key.toLowerCase(),V=_;const C=f.value.find(O=>O.title.toLowerCase().startsWith(k));if(C!==void 0){h.value=[C];const O=A.value.indexOf(C);Ie&&window.requestAnimationFrame(()=>{var M;O>=0&&((M=o.value)==null||M.scrollToIndex(O))})}}function L(v){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!v.props.disabled)if(e.multiple){const _=h.value.findIndex(H=>e.valueComparator(H.value,v.value)),C=w??!~_;if(~_){const H=C?[...h.value,v]:[...h.value];H.splice(_,1),h.value=H}else C&&(h.value=[...h.value,v])}else{const _=w!==!1;h.value=_?[v]:[],ct(()=>{c.value=!1})}}function G(v){var w;(w=x.value)!=null&&w.$el.contains(v.relatedTarget)||(c.value=!1)}function z(){var v;e.eager&&((v=o.value)==null||v.calculateVisibleItems())}function Ce(){var v;u.value&&((v=s.value)==null||v.focus())}function ye(v){u.value=!0}function xe(v){if(v==null)h.value=[];else if(wt(s.value,":autofill")||wt(s.value,":-webkit-autofill")){const w=f.value.find(_=>_.title===v);w&&L(w)}else s.value&&(s.value.value="")}return se(c,()=>{if(!e.hideSelected&&c.value&&h.value.length){const v=A.value.findIndex(w=>h.value.some(_=>e.valueComparator(_.value,w.value)));Ie&&window.requestAnimationFrame(()=>{var w;v>=0&&((w=o.value)==null||w.scrollToIndex(v))})}}),se(()=>e.items,(v,w)=>{c.value||u.value&&!w.length&&v.length&&(c.value=!0)}),ne(()=>{const v=!!(e.chips||t.chip),w=!!(!e.hideNoData||A.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),_=h.value.length>0,C=We.filterProps(e),H=_||!u.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return d(We,U({ref:s},C,{modelValue:h.value.map(I=>I.props.value).join(", "),"onUpdate:modelValue":xe,focused:u.value,"onUpdate:focused":I=>u.value=I,validationValue:h.externalValue,counterValue:y.value,dirty:_,class:["v-select",{"v-select--active-menu":c.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:H,"onClick:clear":Z,"onMousedown:control":J,onBlur:G,onKeydown:$,"aria-label":a(g.value),title:a(g.value)}),{...t,default:()=>d(Q,null,[d(Wn,U({ref:l,modelValue:c.value,"onUpdate:modelValue":I=>c.value=I,activator:"parent",contentClass:"v-select__content",disabled:P.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:z,onAfterLeave:Ce},D.value),{default:()=>[w&&d(Gn,U({ref:x,selected:m.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:I=>I.preventDefault(),onKeydown:ee,onFocusin:ye,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},K,e.listProps),{default:()=>{var I,O,M;return[(I=t["prepend-item"])==null?void 0:I.call(t),!A.value.length&&!e.hideNoData&&(((O=t["no-data"])==null?void 0:O.call(t))??d(Re,{title:a(e.noDataText)},null)),d(nl,{ref:o,renderless:!0,items:A.value},{default:te=>{var pt;let{item:j,index:ie,itemRef:B}=te;const gt=U(j.props,{ref:B,key:ie,onClick:()=>L(j,null)});return((pt=t.item)==null?void 0:pt.call(t,{item:j,index:ie,props:gt}))??d(Re,U(gt,{role:"option"}),{prepend:va=>{let{isSelected:fa}=va;return d(Q,null,[e.multiple&&!e.hideSelected?d(un,{key:j.value,modelValue:fa,ripple:!1,tabindex:"-1"},null):void 0,j.props.prependAvatar&&d(_e,{image:j.props.prependAvatar},null),j.props.prependIcon&&d(de,{icon:j.props.prependIcon},null)])}})}}),(M=t["append-item"])==null?void 0:M.call(t)]}})]}),h.value.map((I,O)=>{function M(B){B.stopPropagation(),B.preventDefault(),L(I,!1)}const te={"onClick:close":M,onKeydown(B){B.key!=="Enter"&&B.key!==" "||(B.preventDefault(),B.stopPropagation(),M(B))},onMousedown(B){B.preventDefault(),B.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},j=v?!!t.chip:!!t.selection,ie=j?Ma(v?t.chip({item:I,index:O,props:te}):t.selection({item:I,index:O})):void 0;if(!(j&&!ie))return d("div",{key:I.value,class:"v-select__selection"},[v?t.chip?d(ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:I.title}}},{default:()=>[ie]}):d(bn,U({key:"chip",closable:e.closableChips,size:"small",text:I.title,disabled:I.props.disabled},te),null):ie??d("span",{class:"v-select__selection-text"},[I.title,e.multiple&&O<h.value.length-1&&d("span",{class:"v-select__selection-comma"},[Oe(",")])])])})]),"append-inner":function(){var te;for(var I=arguments.length,O=new Array(I),M=0;M<I;M++)O[M]=arguments[M];return d(Q,null,[(te=t["append-inner"])==null?void 0:te.call(t,...O),e.menuIcon?d(de,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Qt({isFocused:u,menu:c,select:L},s)}}),il={class:"browse-selects"},ul={class:"selects mt-5 mb-8"},rl={class:"no-data-placeholder mr-5"},cl=ke({__name:"Browse",props:{corpusArr:{default:()=>[]},volumeLabel:{default:"Volume"},textLabel:{default:"Text"}},emits:["chosen"],setup(e,{emit:n}){const t={get chosen(){return{volume:"",text:""}}},a=n,s=Pe("volume"),l=Pe("text");s.value&&b(),l.value&&f(),He(f),Jt(()=>{s.value=null,l.value=null});const o=p(()=>{if(s.value)return e.corpusArr.find(({volumeName:S})=>S===s.value)}),i=p(()=>o.value?o.value.texts:[]);function c(S,h){h==="volume"?(l.value=null,b()):f()}function f(){a("chosen",{volume:s.value,text:l.value})}function b(){a("chosen",t.chosen)}return(S,h)=>(N(),q("div",il,[ae("div",ul,[d(Et,{modelValue:re(s),"onUpdate:modelValue":[h[0]||(h[0]=y=>ze(s)?s.value=y:null),h[1]||(h[1]=y=>c(y,"volume"))],items:S.corpusArr,label:S.volumeLabel,"item-title":"volumeName","item-value":"volumeName",variant:"outlined",density:"compact"},null,8,["modelValue","items","label"]),d(Et,{modelValue:re(l),"onUpdate:modelValue":[h[2]||(h[2]=y=>ze(l)?l.value=y:null),h[3]||(h[3]=y=>c(y,"text"))],items:i.value,label:S.textLabel,"item-title":"textName","item-value":"textNumber",variant:"outlined",density:"compact"},{"no-data":ve(()=>[h[4]||(h[4]=ae("span",{class:"no-data-arrow"},"⬅",-1)),ae("span",rl,De(`A ${S.volumeLabel} should be chosen`),1)]),_:1},8,["modelValue","items","label"])])]))}}),dl=Ve(cl,[["__scopeId","data-v-90ff19db"]]),vl={},fl={height:"32",viewBox:"0 0 24 24",width:"32",xmlns:"http://www.w3.org/2000/svg"};function ml(e,n){return N(),q("svg",fl,n[0]||(n[0]=[ae("path",{d:"M4.616 18q-.691 0-1.153-.462T3 16.384V7.616q0-.691.463-1.153T4.615 6h14.77q.69 0 1.152.463T21 7.616v8.769q0 .69-.463 1.153T19.385 18zm0-1h14.769q.23 0 .423-.192t.192-.424V7.616q0-.231-.192-.424T19.385 7H4.615q-.23 0-.423.192T4 7.616v8.769q0 .23.192.423t.423.192M9 15.77h6q.31 0 .54-.221q.23-.22.23-.549q0-.31-.23-.54t-.54-.23H9q-.31 0-.54.221q-.23.22-.23.549q0 .31.23.54t.54.23M4 17V7zm2-7.23q.31 0 .54-.23T6.77 9t-.23-.54T6 8.23t-.54.23t-.23.54t.23.54t.54.23m3 0q.31 0 .54-.23T9.77 9t-.23-.54T9 8.23t-.54.23t-.23.54t.23.54t.54.23m3 0q.31 0 .54-.23t.23-.54t-.23-.54t-.54-.23t-.54.23t-.23.54t.23.54t.54.23m3 0q.31 0 .54-.23t.23-.54t-.23-.54t-.54-.23t-.54.23t-.23.54t.23.54t.54.23m3 0q.31 0 .54-.23t.23-.54t-.23-.54t-.54-.23t-.54.23t-.23.54t.23.54t.54.23m-12 3q.31 0 .54-.23t.23-.54t-.23-.54t-.54-.23t-.54.23t-.23.54t.23.54t.54.23m3 0q.31 0 .54-.23t.23-.54t-.23-.54t-.54-.23t-.54.23t-.23.54t.23.54t.54.23m3 0q.31 0 .54-.23t.23-.54t-.23-.54t-.54-.23t-.54.23t-.23.54t.23.54t.54.23m3 0q.31 0 .54-.23t.23-.54t-.23-.54t-.54-.23t-.54.23t-.23.54t.23.54t.54.23m3 0q.31 0 .54-.23t.23-.54t-.23-.54t-.54-.23t-.54.23t-.23.54t.23.54t.54.23",fill:"lightgrey"},null,-1)]))}const hl=Ve(vl,[["render",ml],["__scopeId","data-v-b5f80369"]]),yl={class:"d-flex align-center flex-column"},gl={class:"searchers-grid"},pl=ke({__name:"Search",props:{textusLabel:{default:"Search corpus"},versioLabel:{default:"Search translation"}},emits:["searchers","copy-to-clipboard"],setup(e,{emit:n}){const t=e,a={get searchers(){return{textus:null,versio:null}}},s=n,l=T(a.searchers),o=T(a.searchers),i=T(!1),c=T(null),f=Pe("textus"),b=Pe("versio");l.value.textus=f.value,l.value.versio=b.value;const S=p(()=>!l.value.textus&&!l.value.versio),h=p(()=>[{name:"textus",value:l.value.textus,label:t.textusLabel},{name:"versio",value:l.value.versio,label:t.versioLabel}]);function y(g,k){l.value[k]=g||"",g||m()}function r(g){l.value.textus=g,i.value&&m()}function m(){o.value=be.cloneDeep(l.value),s("searchers",be.cloneDeep(o.value)),u()}function u(){f.value=o.value.textus||null,b.value=o.value.versio||null}return He(()=>{m(),l.value.textus=f.value,l.value.versio=b.value,(l.value.textus||l.value.versio)&&m(),c.value=document.querySelector(".searchers-grid .v-text-field.input_textus input")}),Jt(()=>{f.value=null,b.value=null}),(g,k)=>(N(),q("div",yl,[ae("div",gl,[d(hl,{class:"keyboard-icon",onClick:k[0]||(k[0]=V=>i.value=!0)}),d(Ge,{disabled:S.value,variant:"outlined",class:"search-btn",color:"success",onClick:m},{default:ve(()=>k[3]||(k[3]=[Oe(" Search ")])),_:1},8,["disabled"]),d(At,{value:h.value[0].value,"input-el":c.value,class:"keyboard-regex",type:"regex",visible:"",onSubmit:r},null,8,["value","input-el"]),(N(!0),q(Q,null,qe(h.value,({value:V,label:A,name:P})=>(N(),Se(We,{key:P,"model-value":V,label:A,class:dt(`input_${P}`),style:{"min-width":"200px"},variant:"outlined",density:"compact","hide-details":"",clearable:"","onUpdate:modelValue":D=>y(D,P),onKeydown:Ra(qa(m,["prevent"]),["enter"])},null,8,["model-value","label","class","onUpdate:modelValue","onKeydown"]))),128)),Fa(g.$slots,"default",{class:"slot"},void 0,!0)]),d(sn,{modelValue:i.value,"onUpdate:modelValue":k[2]||(k[2]=V=>i.value=V),"hide-overlay":"",fullscreen:""},{default:ve(()=>[d(At,{visible:i.value,value:l.value.textus,"input-name":e.textusLabel,"onUpdate:visible":k[1]||(k[1]=V=>i.value=V),onSubmit:r},null,8,["visible","value","input-name"])]),_:1},8,["modelValue"])]))}}),bl=Ve(pl,[["__scopeId","data-v-03777d1e"]]),da=300;function Ke({hash:e="",keepLocation:n=!1,className:t="chosen"}){return new Promise(a=>{setTimeout(()=>{n||(location.hash=e,setTimeout(()=>scrollBy(0,-200),0));const s=document.querySelector(e);s&&(s.classList.add(t),setTimeout(a,1))},da)})}function Sl(e){const n=document.querySelector(e);n&&Qe(n)}function Qe(e,n="chosen"){e&&setTimeout(()=>{e.classList.remove(n)},da)}const kl=["id"],wl={class:"controls-wrapper"},Vl={class:"lines"},Cl=ke({__name:"LineCard",props:{line:{},searchers:{}},setup(e){const n=e,t=T(),a=Xt(),s=$a(),l=p(()=>Ga.map(y=>({lineName:y,str:n.line[y],searcher:n.searchers.data[y]}))),o=p(()=>!n.searchers.areAllEmpty),i=p(()=>a.hash),c=p(()=>"#"+n.line.hash),f=p(()=>{var m;const y=((m=n.line)==null?void 0:m.volumeName.toLowerCase())||"";return y.includes("abou")?"":["jastrow","ritter","arnold","lehrbuch","luf","prym","hors","talay","baxa","ubbadin","maalula","lieder","britta"].some(u=>y.includes(u))?"German":""});function b(){Qe(t.value,"chosen")}se(i,(y,r)=>{!y&&r&&b()});async function S(){if(!o.value)return;const{volumeName:y,textNumber:r}=n.line;await s.push({query:{mode:Ae.browse,volume:y,text:r}}),await Ke({hash:c.value})}function h(){if(!a.hash){Ke({hash:c.value});return}Sl(a.hash),a.hash===c.value?s.replace({query:a.query,hash:""}):(Ke({hash:c.value,keepLocation:!0}),s.replace({query:a.query,hash:c.value}));const y=Array.from(document.querySelectorAll('div.line-card[id^="h"]'));for(const r of y)r.style.background&&r.id!==n.line.hash&&Qe(r)}return(y,r)=>y.line?(N(),q("div",{key:0,class:"line-card",id:y.line.hash,ref_key:"lineCardRef",ref:t},[ae("div",wl,[o.value?(N(),q("div",{key:1,class:"control-sign",onClick:r[1]||(r[1]=m=>S())},"▤")):(N(),q("div",{key:0,class:"control-sign",onClick:r[0]||(r[0]=m=>h())},"#"))]),ae("div",Vl,[(N(!0),q(Q,null,qe(l.value,(m,u)=>(N(),Se(za,U({ref_for:!0},m,{key:u,"translation-language":m.lineName==="versio"&&f.value,class:"mb-1"}),null,16,["translation-language"]))),128)),r[2]||(r[2]=ae("div",null,[ae("br")],-1))])],8,kl)):pe("",!0)}}),xl=Ve(Cl,[["__scopeId","data-v-7742c643"]]),Al={key:1},Il=ke({__name:"Results",props:{results:{},searchers:{}},setup(e){const n=window,t=T(),a=Xt(),s=Ha(),l=E(s,"isDark"),o=p(()=>!e.searchers.areAllEmpty);return He(async()=>{var c;const i=a.hash;i&&(await Wa(1e3),(c=document.querySelector(i))==null||c.scrollIntoView({behavior:"smooth",block:"center"}))}),(i,c)=>{const f=cn;return N(),q("div",{class:dt(["results w-100",{invert:l.value}])},[o.value?(N(),q("div",{key:0,ref_key:"stats",ref:t,class:"results-stats mb-1"},[ae("div",null,"Found "+De(i.results.length)+" contexts",1)],512)):pe("",!0),c[0]||(c[0]=ae("br",null,null,-1)),i.results?(N(),q("div",Al,[d(f,{items:i.results,el:re(n)},{default:ve(({items:b})=>[(N(!0),q(Q,null,qe(b,S=>(N(),q("div",null,[S?(N(),Se(xl,{line:S,searchers:i.searchers,key:S.hash},null,8,["line","searchers"])):pe("",!0)]))),256))]),_:1},8,["items","el"])])):pe("",!0)],2)}}}),Pl=Ve(Il,[["__scopeId","data-v-025f8b33"]]),_l={key:0,class:"searcher-wrapper"},Tl=ke({__name:"BrowseAndSearch",setup(e){const n=fn(),t=Ua(),a=p(()=>!!t.text.value),s=p(()=>f.value===Ae.search),l=p(()=>f.value===Ae.browse),o=p(()=>s.value?b.value:c.searchers),i=T(!1);we(dn.isEager,i);const c={get searchers(){return new It({textus:"",versio:""})}},f=Pe("mode");f.value||(f.value=Ae.search);const b=T(c.searchers),S=T({volume:null,text:null}),h=p(()=>{if(!S.value.text||!n.corpusArray.length)return[];const k=be.find(n.corpusArray,{volumeName:S.value.volume});return be.find(k.texts,{textNumber:S.value.text}).contents}),y=p(()=>n.corpusLines),r=p(()=>b.value.areAllEmpty?[]:y.value.filter(b.value.test)),m=p(()=>f.value===Ae.browse?h.value:r.value);function u(k){Vt(()=>{b.value=new It(k)})}function g(k){Vt(()=>{S.value=k})}return(k,V)=>(N(),q("div",{class:dt([{"no-hashes":a.value},"browse-and-search"]),ref:"wrapper"},[s.value?(N(),q("div",_l,[d(bl,{"corpus-arr-prop":re(n).corpusArray,"textus-label":"Aramaic text","versio-label":"Translation text",onSearchers:u},{default:ve(()=>[d(vn,{count:m.value.length,class:"mr-5",onClick:V[0]||(V[0]=A=>i.value=!0)},null,8,["count"])]),_:1},8,["corpus-arr-prop"])])):l.value?(N(),Se(dl,{key:1,"corpus-arr":re(n).corpusArray,onChosen:g},null,8,["corpus-arr"])):pe("",!0),d(Pl,{results:m.value,searchers:o.value},null,8,["results","searchers"]),d(re(ja),{to:"#app-bar-slot"},{default:ve(()=>[d(yn,{modelValue:re(f),"onUpdate:modelValue":V[1]||(V[1]=A=>ze(f)?f.value=A:null),class:"mr-5 button-switcher"},null,8,["modelValue"])]),_:1})],2))}}),Wl=Ve(Tl,[["__scopeId","data-v-e8e98c58"]]);export{Wl as B};
