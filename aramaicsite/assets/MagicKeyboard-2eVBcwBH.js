var ve=Object.defineProperty;var ye=(e,a,t)=>a in e?ve(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var A=(e,a,t)=>ye(e,typeof a!="symbol"?a+"":a,t);import{v as L,s as B,ae as fe,x as R,g as s,q as N,Q as q,aI as ge,ak as E,aa as Z,F as w,aJ as H,ap as b,ao as O,aK as ke,al as be,aq as pe,aL as xe,aM as Ce,aN as he,ar as Ve,aO as Ae,S as Ie,aP as Se,am as Te,T as Pe,aQ as De,aR as _e,ab as we,an as Le,as as Be,aw as Re,aS as Ee,aT as Ne,at as Me,aU as Ke,c as S,$ as ze,a0 as Fe,aV as Oe,az as $e,aW as qe,O as We,a as je,e as Ue,a9 as W,w as Ge,aX as ee,b as te,u as ae,r as ne,o as p,D as $,h as o,p as v,k as x,V as I,_ as se,E as He,aY as Qe,aZ as Je,a_ as Xe,t as Ye,a$ as Ze,b0 as Q,f as _,n as J,i as k,j as et,l as F}from"./index-Byd1hbUc.js";import{V as tt}from"./VDialog-UOgBHeLD.js";import{V as at}from"./VTextarea-CCES6cd3.js";import"./VOverlay-DOlyhJIF.js";import"./forwardRefs-DWGaNmQL.js";import"./lazy-Dd3Y_z0Q.js";import"./VInput-CW9hEprG.js";const le=L()({name:"VCardActions",props:B(),setup(e,a){let{slots:t}=a;return fe({VBtn:{slim:!0,variant:"text"}}),R(()=>{var n;return s("div",{class:["v-card-actions",e.class],style:e.style},[(n=t.default)==null?void 0:n.call(t)])}),{}}}),nt=N({opacity:[Number,String],...B(),...q()},"VCardSubtitle"),st=L()({name:"VCardSubtitle",props:nt(),setup(e,a){let{slots:t}=a;return R(()=>s(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},t)),{}}}),ie=ge("v-card-title"),lt=N({appendAvatar:String,appendIcon:E,prependAvatar:String,prependIcon:E,subtitle:[String,Number],title:[String,Number],...B(),...Z()},"VCardItem"),it=L()({name:"VCardItem",props:lt(),setup(e,a){let{slots:t}=a;return R(()=>{var u;const n=!!(e.prependAvatar||e.prependIcon),d=!!(n||t.prepend),y=!!(e.appendAvatar||e.appendIcon),l=!!(y||t.append),f=!!(e.title!=null||t.title),r=!!(e.subtitle!=null||t.subtitle);return s("div",{class:["v-card-item",e.class],style:e.style},[d&&s("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?s(O,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},t.prepend):s(w,null,[e.prependAvatar&&s(H,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&s(b,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),s("div",{class:"v-card-item__content"},[f&&s(ie,{key:"title"},{default:()=>{var c;return[((c=t.title)==null?void 0:c.call(t))??e.title]}}),r&&s(st,{key:"subtitle"},{default:()=>{var c;return[((c=t.subtitle)==null?void 0:c.call(t))??e.subtitle]}}),(u=t.default)==null?void 0:u.call(t)]),l&&s("div",{key:"append",class:"v-card-item__append"},[t.append?s(O,{key:"append-defaults",disabled:!y,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},t.append):s(w,null,[e.appendIcon&&s(b,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&s(H,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),ot=N({opacity:[Number,String],...B(),...q()},"VCardText"),oe=L()({name:"VCardText",props:ot(),setup(e,a){let{slots:t}=a;return R(()=>s(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},t)),{}}}),rt=N({appendAvatar:String,appendIcon:E,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:E,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...ke(),...B(),...Z(),...be(),...pe(),...xe(),...Ce(),...he(),...Ve(),...Ae(),...q(),...Ie(),...Se({variant:"elevated"})},"VCard"),dt=L()({name:"VCard",directives:{Ripple:Te},props:rt(),setup(e,a){let{attrs:t,slots:n}=a;const{themeClasses:d}=Pe(e),{borderClasses:y}=De(e),{colorClasses:l,colorStyles:f,variantClasses:r}=_e(e),{densityClasses:u}=we(e),{dimensionStyles:c}=Le(e),{elevationClasses:T}=Be(e),{loaderClasses:C}=Re(e),{locationStyles:M}=Ee(e),{positionClasses:P}=Ne(e),{roundedClasses:D}=Me(e),h=Ke(e,t),K=S(()=>e.link!==!1&&h.isLink.value),V=S(()=>!e.disabled&&e.link!==!1&&(e.link||h.isClickable.value));return R(()=>{const m=K.value?"a":e.tag,i=!!(n.title||e.title!=null),g=!!(n.subtitle||e.subtitle!=null),z=i||g,re=!!(n.append||e.appendAvatar||e.appendIcon),de=!!(n.prepend||e.prependAvatar||e.prependIcon),ue=!!(n.image||e.image),ce=z||de||re,me=!!(n.text||e.text!=null);return ze(s(m,We({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":V.value},d.value,y.value,l.value,u.value,T.value,C.value,P.value,D.value,r.value,e.class],style:[f.value,c.value,M.value,e.style],onClick:V.value&&h.navigate,tabindex:e.disabled?-1:void 0},h.linkProps),{default:()=>{var U;return[ue&&s("div",{key:"image",class:"v-card__image"},[n.image?s(O,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):s(Oe,{key:"image-img",cover:!0,src:e.image},null)]),s($e,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:n.loader}),ce&&s(it,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),me&&s(oe,{key:"text"},{default:()=>{var G;return[((G=n.text)==null?void 0:G.call(n))??e.text]}}),(U=n.default)==null?void 0:U.call(n),n.actions&&s(le,null,{default:n.actions}),qe(V.value,"v-card")]}}),[[Fe("ripple"),V.value&&e.ripple]])}),{}}}),ut=(e,a)=>{const t=je({start:0,end:0});return Ue(a,async()=>{const n=e.value;n&&(await W(),t.start=n.selectionStart||0,t.end=n.selectionEnd||0)},{immediate:!0}),Ge(()=>{const n=e.value;n&&(n.setSelectionRange(t.start,t.end),n.focus())}),ee(()=>{t.start=a.value.length,t.end=a.value.length}),t},ct=["input","textarea"],mt=e=>S(()=>{if(!(e!=null&&e.value))return null;const a=e.value.$el;return ct.map(t=>a.querySelector(t)).find(Boolean)}),vt=(e,a)=>{const t=mt(e),n=ut(t,a),d=S(()=>{const r=a.value.slice(0,n.start),u=ft(r);return r.slice(u,n.start)}),y=S(()=>/\S/.test(d.value));async function l(r,u=!1){const c=u?d.value.length:0,T=a.value.slice(0,n.start-c),C=a.value.slice(n.end);a.value=T+r+C,await W(),n.start+=r.length-c,n.end=n.start}function f(r){if(!y.value)return;const u=(d.value+r).normalize("NFC");l(u,!0)}return{previousLetter:d,insertText:l,combineText:f}},yt=new Intl.Segmenter("en",{granularity:"grapheme"});function ft(e){const a=Array.from(yt.segment(e));let t=e.length;for(const n of a.reverse())if(t-=n.segment.length,t<e.length)break;return Math.max(t,0)}const gt=[{key:"Digit1",name:"Grave Accent",text:"̀",symbol:"1"},{key:"Digit2",name:"Acute Accent",text:"́",symbol:"2"},{key:"Digit3",name:"Circumflex",text:"̂",symbol:"3"},{key:"Digit4",name:"Tilde",text:"̃",symbol:"4"},{key:"Digit5",name:"Dot Below",text:"̣",symbol:"5"},{key:"Digit6",name:"Breve",text:"̆",symbol:"6"},{key:"Digit7",name:"Dot Above",text:"̇",symbol:"7"},{key:"Digit8",name:"Diaeresis",text:"̈",symbol:"8"},{key:"Digit9",name:"Ring Above",text:"̊",symbol:"9"},{key:"KeyV",name:"Caron",text:"̌",symbol:"v"},{key:"Minus",name:"Macron",text:"̄",symbol:"-"},{key:"Equal",name:"Macron Below",text:"̱",symbol:"="},{key:"Comma",name:"Cedilla",text:"̧",symbol:","}],kt=[{key:"KeyA",name:"Glottal Stop",text:"ʔ",symbol:"a"},{key:"KeyW",name:"Ayn",text:"ʕ",symbol:"w"}],bt=()=>{ee(async()=>{var e;await W(),(e=document.activeElement)==null||e.blur()})},pt=te({__name:"RestoreDialog",props:{storageName:{}},setup(e){bt();const a=ae(e.storageName,""),t=ne(!!a.value),n=()=>{t.value=!1},d=()=>{a.value="",t.value=!1};return(y,l)=>(p(),$(tt,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=f=>t.value=f),height:"60vh","max-width":"80vw","overlay-color":"rgba(0, 0, 0, 1)","overlay-opacity":"1",class:"opaque-overlay"},{default:o(()=>[s(dt,{class:"pt-3 pl-3 pr-3 h-100"},{default:o(()=>[s(ie,{class:"ml-2"},{default:o(()=>l[1]||(l[1]=[v("Restore Previous Text")])),_:1}),l[7]||(l[7]=x("hr",{class:"ml-3 mr-3"},null,-1)),s(oe,{class:"mt-5 h-100 d-flex flex-column justify-center"},{default:o(()=>l[2]||(l[2]=[x("p",{class:"mb-5"},"We found unsaved text from your previous session.",-1),x("p",null,"Would you like to restore it?",-1)])),_:1}),s(le,{class:"d-flex ga-6 mb-3 mr-5"},{default:o(()=>[s(I,{color:"secondary",variant:"outlined",size:"large",onClick:n},{default:o(()=>[s(b,{class:"mr-3"},{default:o(()=>l[3]||(l[3]=[v("mdi-restore")])),_:1}),l[4]||(l[4]=v(" Restore "))]),_:1}),s(I,{color:"warning",variant:"outlined",size:"large",onClick:d},{default:o(()=>[s(b,{class:"mr-3"},{default:o(()=>l[5]||(l[5]=[v("mdi-delete")])),_:1}),l[6]||(l[6]=v(" Discard "))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),xt=se(pt,[["__scopeId","data-v-574810a0"]]);class j{constructor(a={}){A(this,"key");A(this,"name");A(this,"text");A(this,"symbol");A(this,"modifier");this.key=a.key||"",this.name=a.name||"",this.text=a.text||"",this.symbol=a.symbol||"",this.modifier=a.modifier||"alt"}get keyWithModifier(){return[this.modifier,this.key].join("_")}applyTo(a){return new j({...this,text:a+this.text})}}class X{constructor(a=[],t="alt"){this.rawList=a,this.modifier=t}get list(){return this.rawList.map(a=>new j({...a,modifier:this.modifier}))}get keys(){return He.map(this.list,"key")}getListAppliedTo(a){return/\S/.test(a)?this.list.map(t=>t.applyTo(a)):[]}}const Ct={class:"info-panel"},ht={key:0,class:"array"},Vt={class:"symbol"},At={class:"buttons"},Y="magic-keyboard-content",It="alt",St=te({__name:"MagicKeyboard",setup(e){const a=ne(null),t=ae(Y,""),{undo:n,redo:d,canUndo:y,canRedo:l}=Qe(t,{debounce:1e3}),{copy:f,copied:r}=Je({source:t}),{previousLetter:u,insertText:c,combineText:T}=vt(a,t),C=Xe(),M=Ye(C,It),P=new X(gt),D=new X(kt),h=new Set([...P.keys,...D.keys]);Ze("keydown",m=>{m.altKey&&h.has(m.code)&&m.preventDefault()}),P.list.forEach(({text:m,keyWithModifier:i})=>{Q(C[i],()=>{T(m)})}),D.list.forEach(({text:m,keyWithModifier:i})=>{Q(C[i],()=>{c(m)})});const K=["Press Alt to see the list of magic keys.","Press any of them in combination with Alt to get the result."],V=S(()=>[...P.getListAppliedTo(u.value),...D.list]);return(m,i)=>(p(),_(w,null,[x("div",Ct,[M.value?(p(),_("div",ht,[(p(!0),_(w,null,J(V.value,({symbol:g,text:z})=>(p(),_("div",{key:m.key},[x("div",Vt,F(g),1),x("div",null,F(z),1)]))),128))])):(p(),_(w,{key:1},J(K,g=>x("p",null,F(g),1)),64))]),s(k(at),{modelValue:k(t),"onUpdate:modelValue":i[0]||(i[0]=g=>et(t)?t.value=g:null),ref_key:"textarea",ref:a,placeholder:"Type something",rows:"10",variant:"outlined","hide-details":"","auto-grow":""},null,8,["modelValue"]),x("div",At,[s(I,{variant:"outlined",class:"copy-button",size:"large",onClick:i[1]||(i[1]=g=>k(f)())},{default:o(()=>[k(r)?(p(),$(b,{key:0,left:""},{default:o(()=>i[3]||(i[3]=[v("mdi-check")])),_:1})):(p(),$(b,{key:1,left:""},{default:o(()=>i[4]||(i[4]=[v("mdi-content-copy")])),_:1}))]),_:1}),s(I,{disabled:!k(y),variant:"outlined",size:"large",onClick:k(n)},{default:o(()=>[s(b,null,{default:o(()=>i[5]||(i[5]=[v("mdi-undo")])),_:1})]),_:1},8,["disabled","onClick"]),s(I,{disabled:!k(l),variant:"outlined",size:"large",onClick:k(d)},{default:o(()=>[s(b,null,{default:o(()=>i[6]||(i[6]=[v("mdi-redo")])),_:1})]),_:1},8,["disabled","onClick"]),s(I,{onClick:i[2]||(i[2]=g=>t.value=""),disabled:k(t)==="",variant:"outlined",size:"large"},{default:o(()=>[s(b,{left:""},{default:o(()=>i[7]||(i[7]=[v("mdi-broom")])),_:1})]),_:1},8,["disabled"])]),s(xt,{"storage-name":Y})],64))}}),Et=se(St,[["__scopeId","data-v-0b4f8f39"]]);export{Et as default};
