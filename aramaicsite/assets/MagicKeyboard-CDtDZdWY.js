var pe=Object.defineProperty;var he=(e,n,a)=>n in e?pe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a;var x=(e,n,a)=>he(e,typeof n!="symbol"?n+"":n,a);import{q as E,av as Ce,s as K,g as s,x as $,v as q,J as ae,aV as xe,F as V,aW as se,aC as p,aB as te,K as re,aD as F,E as Ve,aX as Ae,aY as Ie,G as _e,O as Se,P as Te,aJ as Pe,aZ as De,a_ as we,aF as Le,a$ as Re,c as P,$ as z,a2 as de,b0 as Be,aM as Me,b1 as Ne,T as Ee,b2 as Ke,I as $e,b3 as ze,aG as Fe,b4 as We,b5 as qe,b6 as Ge,U as je,W as He,b7 as Oe,aE as Ue,a as Je,e as Ze,aq as G,w as Xe,b8 as ce,b as ue,o as d,D as T,h as o,j as h,k as S,n as _,f as k,i as W,V as N,p as me,_ as ve,M as Ye,u as Qe,r as ee,b9 as et,t as ie,ba as tt,bb as at,bc as nt,bd as st,Z as le,l as it,m as b}from"./index-D3YnXnPf.js";import{V as lt}from"./VDialog-B4W6FNk0.js";import{V as ot}from"./VTextarea-Ckx6TTT0.js";import"./VOverlay-BhPmzvus.js";import"./forwardRefs-DWGaNmQL.js";import"./scopeId-BxvtPtAa.js";import"./VInput-oQEocetH.js";const ye=E()({name:"VCardActions",props:$(),setup(e,n){let{slots:a}=n;return Ce({VBtn:{slim:!0,variant:"text"}}),K(()=>{var t;return s("div",{class:["v-card-actions",e.class],style:e.style},[(t=a.default)==null?void 0:t.call(a)])}),{}}}),rt=q({opacity:[Number,String],...$(),...ae()},"VCardSubtitle"),dt=E()({name:"VCardSubtitle",props:rt(),setup(e,n){let{slots:a}=n;return K(()=>s(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},a)),{}}}),fe=xe("v-card-title"),ct=q({appendAvatar:String,appendIcon:F,prependAvatar:String,prependIcon:F,subtitle:[String,Number],title:[String,Number],...$(),...re()},"VCardItem"),ut=E()({name:"VCardItem",props:ct(),setup(e,n){let{slots:a}=n;return K(()=>{var v;const t=!!(e.prependAvatar||e.prependIcon),l=!!(t||a.prepend),c=!!(e.appendAvatar||e.appendIcon),u=!!(c||a.append),f=!!(e.title!=null||a.title),m=!!(e.subtitle!=null||a.subtitle);return s("div",{class:["v-card-item",e.class],style:e.style},[l&&s("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?s(te,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},a.prepend):s(V,null,[e.prependAvatar&&s(se,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&s(p,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),s("div",{class:"v-card-item__content"},[f&&s(fe,{key:"title"},{default:()=>{var y;return[((y=a.title)==null?void 0:y.call(a))??e.title]}}),m&&s(dt,{key:"subtitle"},{default:()=>{var y;return[((y=a.subtitle)==null?void 0:y.call(a))??e.subtitle]}}),(v=a.default)==null?void 0:v.call(a)]),u&&s("div",{key:"append",class:"v-card-item__append"},[a.append?s(te,{key:"append-defaults",disabled:!c,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},a.append):s(V,null,[e.appendIcon&&s(p,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&s(se,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),mt=q({opacity:[Number,String],...$(),...ae()},"VCardText"),be=E()({name:"VCardText",props:mt(),setup(e,n){let{slots:a}=n;return K(()=>s(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},a)),{}}}),vt=q({appendAvatar:String,appendIcon:F,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:F,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Oe(),...$(),...re(),...He(),...je(),...Ge(),...qe(),...We(),...Fe(),...ze(),...ae(),...$e(),...Ke({variant:"elevated"})},"VCard"),yt=E()({name:"VCard",directives:{Ripple:Ue},props:vt(),setup(e,n){let{attrs:a,slots:t}=n;const{themeClasses:l}=Ve(e),{borderClasses:c}=Ae(e),{colorClasses:u,colorStyles:f,variantClasses:m}=Ie(e),{densityClasses:v}=_e(e),{dimensionStyles:y}=Se(e),{elevationClasses:D}=Te(e),{loaderClasses:w}=Pe(e),{locationStyles:j}=De(e),{positionClasses:H}=we(e),{roundedClasses:O}=Le(e),A=Re(e,a),U=P(()=>e.link!==!1&&A.isLink.value),I=P(()=>!e.disabled&&e.link!==!1&&(e.link||A.isClickable.value));return K(()=>{const J=U.value?"a":e.tag,L=!!(t.title||e.title!=null),R=!!(t.subtitle||e.subtitle!=null),B=L||R,M=!!(t.append||e.appendAvatar||e.appendIcon),Z=!!(t.prepend||e.prependAvatar||e.prependIcon),X=!!(t.image||e.image),Y=B||Z||M,r=!!(t.text||e.text!=null);return z(s(J,Ee({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":I.value},l.value,c.value,u.value,v.value,D.value,w.value,H.value,O.value,m.value,e.class],style:[f.value,y.value,j.value,e.style],onClick:I.value&&A.navigate,tabindex:e.disabled?-1:void 0},A.linkProps),{default:()=>{var i;return[X&&s("div",{key:"image",class:"v-card__image"},[t.image?s(te,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):s(Be,{key:"image-img",cover:!0,src:e.image},null)]),s(Me,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:t.loader}),Y&&s(ut,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:t.item,prepend:t.prepend,title:t.title,subtitle:t.subtitle,append:t.append}),r&&s(be,{key:"text"},{default:()=>{var g;return[((g=t.text)==null?void 0:g.call(t))??e.text]}}),(i=t.default)==null?void 0:i.call(t),t.actions&&s(ye,null,{default:t.actions}),Ne(I.value,"v-card")]}}),[[de("ripple"),I.value&&e.ripple]])}),{}}}),ft=(e,n)=>{const a=Je({start:0,end:0});return Ze(n,async()=>{const t=e.value;t&&(await G(),a.start=t.selectionStart||0,a.end=t.selectionEnd||0)},{immediate:!0}),Xe(()=>{const t=e.value;t&&(t.setSelectionRange(a.start,a.end),t.focus())}),ce(()=>{a.start=n.value.length,a.end=n.value.length}),a},bt=["input","textarea"],gt=e=>P(()=>{if(!(e!=null&&e.value))return null;const n=e.value.$el;return bt.map(a=>n.querySelector(a)).find(Boolean)}),kt=(e,n)=>{const a=gt(e),t=ft(a,n),l=P(()=>{const m=n.value.slice(0,t.start),v=ht(m);return m.slice(v,t.start)}),c=P(()=>/\S/.test(l.value));async function u(m,v=!1){const y=v?l.value.length:0,D=n.value.slice(0,t.start-y),w=n.value.slice(t.end);n.value=D+m+w,await G(),t.start+=m.length-y,t.end=t.start}function f(m){if(!c.value)return;const v=(l.value+m).normalize("NFC");u(v,!0)}return{previousLetter:l,insertText:u,combineText:f}},pt=new Intl.Segmenter("en",{granularity:"grapheme"});function ht(e){const n=Array.from(pt.segment(e));let a=e.length;for(const t of n.reverse())if(a-=t.segment.length,a<e.length)break;return Math.max(a,0)}const Ct=[{key:"Digit1",name:"Grave Accent",text:"̀",symbol:"1"},{key:"Digit2",name:"Acute Accent",text:"́",symbol:"2"},{key:"Digit3",name:"Circumflex",text:"̂",symbol:"3"},{key:"Digit4",name:"Tilde",text:"̃",symbol:"4"},{key:"Digit5",name:"Dot Below",text:"̣",symbol:"5"},{key:"Digit6",name:"Breve",text:"̆",symbol:"6"},{key:"Digit7",name:"Dot Above",text:"̇",symbol:"7"},{key:"Digit8",name:"Diaeresis",text:"̈",symbol:"8"},{key:"Digit9",name:"Ring Above",text:"̊",symbol:"9"},{key:"KeyV",name:"Caron",text:"̌",symbol:"v"},{key:"Minus",name:"Macron",text:"̄",symbol:"-"},{key:"Equal",name:"Macron Below",text:"̱",symbol:"="},{key:"Comma",name:"Cedilla",text:"̧",symbol:","}],xt=[{key:"KeyA",name:"Glottal Stop",text:"ʔ",symbol:"a"},{key:"KeyW",name:"Ayn",text:"ʕ",symbol:"w"}],Vt=()=>{ce(async()=>{var e;await G(),(e=document.activeElement)==null||e.blur()})},At=ue({__name:"ConfirmDialog",props:{title:{default:"Confirmation"},messages:{default:()=>["Are you sure?"]},buttonNames:{default:()=>["Confirm","Cancel"]},buttonIcons:{},buttonContents:{default:()=>[{color:"secondary",action:"confirm"},{color:"warning",action:"cancel"}]}},emits:["action"],setup(e,{emit:n}){const a=n;return Vt(),(t,l)=>(d(),T(lt,{"model-value":!0,height:"60vh","max-width":"60vw","overlay-color":"rgba(0, 0, 0, 1)","overlay-opacity":"1",class:"opaque-overlay"},{default:o(()=>[s(yt,{class:"pt-3 pl-3 pr-3 h-100"},{default:o(()=>[s(fe,{class:"ml-2"},{default:o(()=>[h(S(t.title),1)]),_:1}),l[0]||(l[0]=_("hr",{class:"ml-3 mr-3"},null,-1)),s(be,{class:"mt-5 h-100 d-flex flex-column justify-center ga-5"},{default:o(()=>[(d(!0),k(V,null,W(t.messages,c=>(d(),k("p",null,S(c),1))),256))]),_:1}),s(ye,{class:"d-flex ga-6 mb-3 mr-5"},{default:o(()=>[(d(!0),k(V,null,W(t.buttonNames,(c,u)=>(d(),T(N,{key:t.buttonContents[u].action,color:t.buttonContents[u].color,variant:"outlined",size:"large",onClick:f=>a("action",t.buttonContents[u].action)},{default:o(()=>[t.buttonIcons?(d(),T(p,{key:0,class:"mr-3"},{default:o(()=>[h(S(t.buttonIcons[u]),1)]),_:2},1024)):me("",!0),h(" "+S(c),1)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1})]),_:1}))}}),It=ve(At,[["__scopeId","data-v-5f41fbec"]]);class ne{constructor(n={}){x(this,"key");x(this,"name");x(this,"text");x(this,"symbol");x(this,"modifier");x(this,"str");this.key=n.key||"",this.name=n.name||"",this.text=n.text||"",this.symbol=n.symbol||"",this.modifier=n.modifier||"alt",this.str=n.str}get keyWithModifier(){return[this.modifier,this.key].join("_")}applyTo(n){return new ne({...this,text:n+this.text,str:n})}}class oe{constructor(n=[],a="alt",t=void 0){this.rawList=n,this.modifier=a,this.str=t}get list(){return this.rawList.map(n=>new ne({...n,modifier:this.modifier,str:this.str}))}get keys(){return Ye.map(this.list,"key")}getListAppliedTo(n){return this.list.map(a=>a.applyTo(n.trim()))}}const _t=(e,n)=>{const a=Qe(e,n),t=a.value;a.value=n;const l=t!==n;function c(){a.value=t}return{state:a,isRestorable:l,restore:c}},St={class:"info-panel"},Tt={class:"symbol"},Pt={class:"text"},Dt=["innerHTML"],wt={class:"buttons"},Lt="magic-keyboard-content",Rt=ue({__name:"MagicKeyboard",setup(e){const n=ee(null),a=ee(null),t=ee(null),{state:l,restore:c,isRestorable:u}=_t(Lt,""),f=et(),m=ie(f,"isRevealed");u&&f.reveal(),f.onConfirm(y);function v(r){f[r]()}async function y(){var i,g;c(),await G(),(i=t.value)==null||i.focus();const r=l.value.length;(g=t.value)==null||g.setSelectionRange(r,r)}const{undo:D,redo:w,canUndo:j,canRedo:H}=tt(l,{debounce:1e3}),{copy:O,copied:A}=at({source:l}),{previousLetter:U,insertText:I,combineText:J}=kt(t,l),L=nt(),R=ie(L,"alt"),B=new oe(Ct),M=new oe(xt),Z=new Set([...B.keys,...M.keys]);st("keydown",r=>{r.altKey&&Z.has(r.code)&&r.preventDefault()}),B.list.forEach(({text:r,keyWithModifier:i})=>{le(L[i],()=>{J(r)})}),M.list.forEach(({text:r,keyWithModifier:i})=>{le(L[i],()=>{I(r)})});const X=["Press <kbd>Alt</kbd> to see the list of magic keys.","Press any of them in combination with <kbd>Alt</kbd> to get the result."],Y=P(()=>[...M.list,...B.getListAppliedTo(U.value)]);return(r,i)=>{const g=de("visibility");return d(),k(V,null,[_("div",St,[z((d(),k("div",{ref_key:"array",ref:n,class:"array"},[(d(!0),k(V,null,W(Y.value,({symbol:C,text:Q,str:ge},ke)=>z((d(),k("div",{key:ke},[_("div",Tt,S(C),1),_("div",Pt,S(Q),1)])),[[g,R.value&&ge!==""]])),128))])),[[g,R.value]]),z((d(),k("div",{ref_key:"infoTexts",ref:a,class:"info-texts"},[(d(),k(V,null,W(X,(C,Q)=>_("p",{innerHTML:C,key:Q},null,8,Dt)),64))])),[[g,!R.value]])]),s(b(ot),{modelValue:b(l),"onUpdate:modelValue":i[0]||(i[0]=C=>it(l)?l.value=C:null),ref_key:"textarea",ref:t,placeholder:"Type something",rows:"10",variant:"outlined","hide-details":"","auto-grow":""},null,8,["modelValue"]),_("div",wt,[s(N,{variant:"outlined",class:"copy-button",size:"large",disabled:b(l)==="",onClick:i[1]||(i[1]=C=>b(O)())},{default:o(()=>[b(A)?(d(),T(p,{key:0,left:""},{default:o(()=>i[3]||(i[3]=[h("mdi-check")])),_:1})):(d(),T(p,{key:1,left:""},{default:o(()=>i[4]||(i[4]=[h("mdi-content-copy")])),_:1}))]),_:1},8,["disabled"]),s(N,{disabled:!b(j),variant:"outlined",size:"large",onClick:b(D)},{default:o(()=>[s(p,null,{default:o(()=>i[5]||(i[5]=[h("mdi-undo")])),_:1})]),_:1},8,["disabled","onClick"]),s(N,{disabled:!b(H),variant:"outlined",size:"large",onClick:b(w)},{default:o(()=>[s(p,null,{default:o(()=>i[6]||(i[6]=[h("mdi-redo")])),_:1})]),_:1},8,["disabled","onClick"]),s(N,{onClick:i[2]||(i[2]=C=>l.value=""),disabled:b(l)==="",variant:"outlined",size:"large"},{default:o(()=>[s(p,{left:""},{default:o(()=>i[7]||(i[7]=[h("mdi-broom")])),_:1})]),_:1},8,["disabled"])]),m.value?(d(),T(It,{key:0,title:"Restore Previous Text",messages:["We found unsaved text from your previous session.","Would you like to restore it?"],buttonNames:["Restore","Discard"],"button-icons":["mdi-restore","mdi-delete"],onAction:v})):me("",!0)],64)}}}),Wt=ve(Rt,[["__scopeId","data-v-2db25278"]]);export{Wt as default};
