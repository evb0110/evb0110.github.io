const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auto-fit-height-Cs9j9wBI.js","assets/index-CKquqASV.js","assets/index-HP7ZKhpL.css","assets/auto-fit-width-Bi4I5OQC.js","assets/do-fullscreen-C7KjzqUR.js","assets/external-link-BTwKqXQn.js","assets/fast-arrow-left-Dgj3DvhS.js","assets/fast-arrow-right-DoVzJEgv.js","assets/minus-circle-BvSyWLY3.js","assets/nav-arrow-left-DCatEqJO.js","assets/nav-arrow-right-DxyzHnJi.js","assets/plus-circle-B4WWnTha.js","assets/undo-fullscreen-B7PR80gw.js"])))=>i.map(i=>d[i]);
var k=Object.defineProperty;var P=(r,e,t)=>e in r?k(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var v=(r,e,t)=>P(r,typeof e!="symbol"?e+"":e,t);import{d as B,a5 as R,M as h,a6 as x,R as V,c as T,b as C,a7 as N,e as L,a8 as O,a9 as i,o as S,D as M,aa as X,_ as $}from"./index-CKquqASV.js";import{o as f}from"./index-Dob3nYDb.js";var b={exports:{}},y={exports:{}};(function(){function r(e){if(typeof e!="string"&&!(e instanceof String))throw new TypeError("toArabic expects a string");if(/^nulla$/i.test(e)||!e.length)return 0;if(e=e.toUpperCase().match(/^(M{0,3})(CM|DC{0,3}|CD|C{0,3})(XC|LX{0,3}|XL|X{0,3})(IX|VI{0,3}|IV|I{0,3})$/),!e)throw new Error("toArabic expects a valid roman number");var t=0;return t+=e[1].length*1e3,e[2]==="CM"?t+=900:e[2]==="CD"?t+=400:t+=e[2].length*100+(e[2][0]==="D"?400:0),e[3]==="XC"?t+=90:e[3]==="XL"?t+=40:t+=e[3].length*10+(e[3][0]==="L"?40:0),e[4]==="IX"?t+=9:e[4]==="IV"?t+=4:t+=e[4].length*1+(e[4][0]==="V"?4:0),t}y.exports=r})();var U=y.exports,A={exports:{}};(function(){function r(t,o,n,s){var a="";switch(t){case 0:return a;case 9:return o+s;case 4:return o+n}for(t>=5&&(a=n,t-=5);t-- >0;)a+=o;return a}function e(t){if(t instanceof Number&&(t=parseInt(t,10)),(typeof t=="string"||t instanceof String)&&(t=parseInt(t,10),isNaN(t)))throw new TypeError("toArabic expects a number");if(typeof t!="number")throw new TypeError("toArabic expects a number");if(isNaN(t))throw new TypeError("toArabic expects a real number");if(t<0)throw new Error("toArabic cannot express negative numbers");if(t>3999)throw new Error("toArabic cannot express numbers over 3999");if(t===0)return"nulla";var o="";return o+=r(Math.floor(t/1e3),"M","",""),t%=1e3,o+=r(Math.floor(t/100),"C","D","M"),t%=100,o+=r(Math.floor(t/10),"X","L","C"),t%=10,o+=r(t,"I","V","X"),o}A.exports=e})();var W=A.exports;(function(){b.exports={toArabic:U,toRoman:W}})();var E=b.exports;class j{constructor(e){v(this,"upgradeQueuePromise",Promise.resolve());this.dbName=e}async getVersion(){return new Promise((e,t)=>{const o=indexedDB.open(this.dbName);o.onsuccess=()=>{const n=o.result,s=n.version;n.close(),e(s)},o.onerror=()=>t(o.error)}).catch(()=>1)}async _openDBRaw(e){let t=await f(this.dbName);if(t.objectStoreNames.contains(e))return t.close(),t=await f(this.dbName),t;t.close();const n=await this.getVersion()+1;return await f(this.dbName,n,{upgrade(s){s.objectStoreNames.contains(e)||s.createObjectStore(e)}})}async _openDB(e){return this.upgradeQueuePromise=this.upgradeQueuePromise.then(this._openDBRaw.bind(this,e)),await this.upgradeQueuePromise,await f(this.dbName)}async set(e,t,o){const s=(await this._openDB(e)).transaction(e,"readwrite");await s.store.put(o,t),await s.done}async get(e,t){const n=(await this._openDB(e)).transaction(e,"readonly"),s=await n.store.get(t);return await n.done,s}}const p=new Map;function m(r){return p.has(r)||p.set(r,new j(r)),p.get(r)}class D{static async get(e,t,o){try{return await m(e).get(t,o)}catch(n){window.console.error(n)}}static async set(e,t,o,n){try{return await m(e).set(t,o,n)}catch(s){window.console.error(s)}}}const _=18,I=-1;function Q(r){if(!h.isNaN(Number(r))){let e=Number(r);return e>=1002&&(e-=1),e+_}try{const e=E.toArabic(r);return h.isNumber(e)?e+I:1}catch{return 1}}function q(r){if(r<=_)return E.toRoman(r-I);let e=r-_;return e>=1002&&(e+=1),String(e)}const w=[{title:"Das Neuwestaramäische. VI. Wörterbuch",shortTitle:"Arnold. NWA Wörterbuch",author:"Werner Arnold",year:2019,linkBase:"https://evb0110.github.io/static/pdf/Arnold-Woerterbuch/pg_",pageCount:1035,getPageNumber:Q,getPageString:q}];let c;const H=(async()=>{c=await D.get("bookStore","cache","uint")||new Map})(),Z=B("bookStore",()=>{const r=R(async()=>{const o=w.map(x),s=await Promise.all(o);return w.map((a,d)=>{const u=s[d];return{...a,hash:u,to:{name:V.Book,params:{hash:u}}}})},[]),e=T(()=>h.keyBy(r.value,"hash"));async function t(o,n){await H;const s=JSON.stringify({hash:o,pageNumber:n});if(c.has(s)){const g=c.get(s);return g?g.slice(0):null}const a=e.value[o];if(!a)return null;const u=`${a.linkBase}${n.toString().padStart(4,"0")}.pdf`,l=await F(u);return l&&(c.set(s,l),D.set("bookStore","cache","uint",c),l.slice(0))}return{books:r,bookByHash:e,getUintPromise:t}});async function F(r){try{const e=await fetch(r);if(!e.ok)return null;const o=await(await e.blob()).arrayBuffer();return new Uint8Array(o)}catch{return null}}const J=(r,e,t)=>{const o=r[e];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((n,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})},z=C({__name:"Icon",props:{name:{},width:{default:"20"},height:{default:"20"},stroke:{default:"currentColor"},fill:{default:"none"}},setup(r){const e=N();return L(()=>r.name,async t=>{t&&(e.value=O(()=>J(Object.assign({"./svg/auto-fit-height.svg":()=>i(()=>import("./auto-fit-height-Cs9j9wBI.js"),__vite__mapDeps([0,1,2])),"./svg/auto-fit-width.svg":()=>i(()=>import("./auto-fit-width-Bi4I5OQC.js"),__vite__mapDeps([3,1,2])),"./svg/do-fullscreen.svg":()=>i(()=>import("./do-fullscreen-C7KjzqUR.js"),__vite__mapDeps([4,1,2])),"./svg/external-link.svg":()=>i(()=>import("./external-link-BTwKqXQn.js"),__vite__mapDeps([5,1,2])),"./svg/fast-arrow-left.svg":()=>i(()=>import("./fast-arrow-left-Dgj3DvhS.js"),__vite__mapDeps([6,1,2])),"./svg/fast-arrow-right.svg":()=>i(()=>import("./fast-arrow-right-DoVzJEgv.js"),__vite__mapDeps([7,1,2])),"./svg/minus-circle.svg":()=>i(()=>import("./minus-circle-BvSyWLY3.js"),__vite__mapDeps([8,1,2])),"./svg/nav-arrow-left.svg":()=>i(()=>import("./nav-arrow-left-DCatEqJO.js"),__vite__mapDeps([9,1,2])),"./svg/nav-arrow-right.svg":()=>i(()=>import("./nav-arrow-right-DxyzHnJi.js"),__vite__mapDeps([10,1,2])),"./svg/plus-circle.svg":()=>i(()=>import("./plus-circle-B4WWnTha.js"),__vite__mapDeps([11,1,2])),"./svg/undo-fullscreen.svg":()=>i(()=>import("./undo-fullscreen-B7PR80gw.js"),__vite__mapDeps([12,1,2]))}),`./svg/${t}.svg`,3)))},{immediate:!0}),(t,o)=>(S(),M(X(e.value),{width:t.width,height:t.height,stroke:t.stroke,fill:t.fill},null,8,["width","height","stroke","fill"]))}}),ee=$(z,[["__scopeId","data-v-051b4b78"]]);export{ee as I,Z as u};
