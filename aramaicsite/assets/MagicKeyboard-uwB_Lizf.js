var fe=Object.defineProperty;var be=(e,n,t)=>n in e?fe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var S=(e,n,t)=>be(e,typeof n!="symbol"?n+"":n,t);import{q as N,ad as ge,s as E,g as s,x as M,v as $,Z as Q,aK as ke,F as V,aL as te,am as p,al as Z,ae as le,ao as F,P as pe,aM as Ce,aN as he,aa as xe,ak as Ve,aq as Ae,aw as Ie,aO as Se,aP as Te,ar as Pe,aQ as _e,c as P,W as De,X as we,aR as Re,az as Le,aS as Be,L as Ne,aT as Ee,Y as Me,aU as Ke,as as ze,aV as Fe,aW as We,aX as $e,at as qe,an as Oe,aY as je,ap as Ge,a as Ue,e as He,a4 as J,w as ie,aZ as oe,b as re,o as c,D as T,h as o,j as C,k as h,n as k,f as x,i as W,V as B,p as de,_ as ue,E as Xe,u as Ye,r as Y,a_ as Ze,t as ae,a$ as Qe,b0 as Je,b1 as et,b2 as tt,b3 as ne,l as at,m as g}from"./index-DJ82nRD_.js";import{V as nt}from"./VDialog-CzzlVcdx.js";import{V as st}from"./VTextarea-ChTZwm8v.js";import"./VOverlay-1FSrlni9.js";import"./forwardRefs-DWGaNmQL.js";import"./lazy-BTTGR7GJ.js";import"./VInput-OTYUkM3-.js";const ce=N()({name:"VCardActions",props:M(),setup(e,n){let{slots:t}=n;return ge({VBtn:{slim:!0,variant:"text"}}),E(()=>{var a;return s("div",{class:["v-card-actions",e.class],style:e.style},[(a=t.default)==null?void 0:a.call(t)])}),{}}}),lt=$({opacity:[Number,String],...M(),...Q()},"VCardSubtitle"),it=N()({name:"VCardSubtitle",props:lt(),setup(e,n){let{slots:t}=n;return E(()=>s(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},t)),{}}}),me=ke("v-card-title"),ot=$({appendAvatar:String,appendIcon:F,prependAvatar:String,prependIcon:F,subtitle:[String,Number],title:[String,Number],...M(),...le()},"VCardItem"),rt=N()({name:"VCardItem",props:ot(),setup(e,n){let{slots:t}=n;return E(()=>{var m;const a=!!(e.prependAvatar||e.prependIcon),l=!!(a||t.prepend),r=!!(e.appendAvatar||e.appendIcon),d=!!(r||t.append),f=!!(e.title!=null||t.title),u=!!(e.subtitle!=null||t.subtitle);return s("div",{class:["v-card-item",e.class],style:e.style},[l&&s("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?s(Z,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},t.prepend):s(V,null,[e.prependAvatar&&s(te,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&s(p,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),s("div",{class:"v-card-item__content"},[f&&s(me,{key:"title"},{default:()=>{var v;return[((v=t.title)==null?void 0:v.call(t))??e.title]}}),u&&s(it,{key:"subtitle"},{default:()=>{var v;return[((v=t.subtitle)==null?void 0:v.call(t))??e.subtitle]}}),(m=t.default)==null?void 0:m.call(t)]),d&&s("div",{key:"append",class:"v-card-item__append"},[t.append?s(Z,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},t.append):s(V,null,[e.appendIcon&&s(p,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&s(te,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),dt=$({opacity:[Number,String],...M(),...Q()},"VCardText"),ve=N()({name:"VCardText",props:dt(),setup(e,n){let{slots:t}=n;return E(()=>s(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},t)),{}}}),ut=$({appendAvatar:String,appendIcon:F,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:F,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...je(),...M(),...le(),...Oe(),...qe(),...$e(),...We(),...Fe(),...ze(),...Ke(),...Q(),...Me(),...Ee({variant:"elevated"})},"VCard"),ct=N()({name:"VCard",directives:{Ripple:Ge},props:ut(),setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:l}=pe(e),{borderClasses:r}=Ce(e),{colorClasses:d,colorStyles:f,variantClasses:u}=he(e),{densityClasses:m}=xe(e),{dimensionStyles:v}=Ve(e),{elevationClasses:_}=Ae(e),{loaderClasses:D}=Ie(e),{locationStyles:q}=Se(e),{positionClasses:O}=Te(e),{roundedClasses:j}=Pe(e),A=_e(e,t),G=P(()=>e.link!==!1&&A.isLink.value),I=P(()=>!e.disabled&&e.link!==!1&&(e.link||A.isClickable.value));return E(()=>{const w=G.value?"a":e.tag,K=!!(a.title||e.title!=null),R=!!(a.subtitle||e.subtitle!=null),L=K||R,U=!!(a.append||e.appendAvatar||e.appendIcon),H=!!(a.prepend||e.prependAvatar||e.prependIcon),X=!!(a.image||e.image),y=L||H||U,i=!!(a.text||e.text!=null);return De(s(w,Ne({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":I.value},l.value,r.value,d.value,m.value,_.value,D.value,O.value,j.value,u.value,e.class],style:[f.value,v.value,q.value,e.style],onClick:I.value&&A.navigate,tabindex:e.disabled?-1:void 0},A.linkProps),{default:()=>{var b;return[X&&s("div",{key:"image",class:"v-card__image"},[a.image?s(Z,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):s(Re,{key:"image-img",cover:!0,src:e.image},null)]),s(Le,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),y&&s(rt,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),i&&s(ve,{key:"text"},{default:()=>{var z;return[((z=a.text)==null?void 0:z.call(a))??e.text]}}),(b=a.default)==null?void 0:b.call(a),a.actions&&s(ce,null,{default:a.actions}),Be(I.value,"v-card")]}}),[[we("ripple"),I.value&&e.ripple]])}),{}}}),mt=(e,n)=>{const t=Ue({start:0,end:0});return He(n,async()=>{const a=e.value;a&&(await J(),t.start=a.selectionStart||0,t.end=a.selectionEnd||0)},{immediate:!0}),ie(()=>{const a=e.value;a&&(a.setSelectionRange(t.start,t.end),a.focus())}),oe(()=>{t.start=n.value.length,t.end=n.value.length}),t},vt=["input","textarea"],yt=e=>P(()=>{if(!(e!=null&&e.value))return null;const n=e.value.$el;return vt.map(t=>n.querySelector(t)).find(Boolean)}),ft=(e,n)=>{const t=yt(e),a=mt(t,n),l=P(()=>{const u=n.value.slice(0,a.start),m=gt(u);return u.slice(m,a.start)}),r=P(()=>/\S/.test(l.value));async function d(u,m=!1){const v=m?l.value.length:0,_=n.value.slice(0,a.start-v),D=n.value.slice(a.end);n.value=_+u+D,await J(),a.start+=u.length-v,a.end=a.start}function f(u){if(!r.value)return;const m=(l.value+u).normalize("NFC");d(m,!0)}return{previousLetter:l,insertText:d,combineText:f}},bt=new Intl.Segmenter("en",{granularity:"grapheme"});function gt(e){const n=Array.from(bt.segment(e));let t=e.length;for(const a of n.reverse())if(t-=a.segment.length,t<e.length)break;return Math.max(t,0)}const kt=[{key:"Digit1",name:"Grave Accent",text:"̀",symbol:"1"},{key:"Digit2",name:"Acute Accent",text:"́",symbol:"2"},{key:"Digit3",name:"Circumflex",text:"̂",symbol:"3"},{key:"Digit4",name:"Tilde",text:"̃",symbol:"4"},{key:"Digit5",name:"Dot Below",text:"̣",symbol:"5"},{key:"Digit6",name:"Breve",text:"̆",symbol:"6"},{key:"Digit7",name:"Dot Above",text:"̇",symbol:"7"},{key:"Digit8",name:"Diaeresis",text:"̈",symbol:"8"},{key:"Digit9",name:"Ring Above",text:"̊",symbol:"9"},{key:"KeyV",name:"Caron",text:"̌",symbol:"v"},{key:"Minus",name:"Macron",text:"̄",symbol:"-"},{key:"Equal",name:"Macron Below",text:"̱",symbol:"="},{key:"Comma",name:"Cedilla",text:"̧",symbol:","}],pt=[{key:"KeyA",name:"Glottal Stop",text:"ʔ",symbol:"a"},{key:"KeyW",name:"Ayn",text:"ʕ",symbol:"w"}],Ct=()=>{oe(async()=>{var e;await J(),(e=document.activeElement)==null||e.blur()})},ht=re({__name:"ConfirmDialog",props:{title:{default:"Confirmation"},messages:{default:()=>["Are you sure?"]},buttonNames:{default:()=>["Confirm","Cancel"]},buttonIcons:{},buttonContents:{default:()=>[{color:"secondary",action:"confirm"},{color:"warning",action:"cancel"}]}},emits:["action"],setup(e,{emit:n}){const t=n;return Ct(),(a,l)=>(c(),T(nt,{"model-value":!0,height:"60vh","max-width":"60vw","overlay-color":"rgba(0, 0, 0, 1)","overlay-opacity":"1",class:"opaque-overlay"},{default:o(()=>[s(ct,{class:"pt-3 pl-3 pr-3 h-100"},{default:o(()=>[s(me,{class:"ml-2"},{default:o(()=>[C(h(a.title),1)]),_:1}),l[0]||(l[0]=k("hr",{class:"ml-3 mr-3"},null,-1)),s(ve,{class:"mt-5 h-100 d-flex flex-column justify-center ga-5"},{default:o(()=>[(c(!0),x(V,null,W(a.messages,r=>(c(),x("p",null,h(r),1))),256))]),_:1}),s(ce,{class:"d-flex ga-6 mb-3 mr-5"},{default:o(()=>[(c(!0),x(V,null,W(a.buttonNames,(r,d)=>(c(),T(B,{key:a.buttonContents[d].action,color:a.buttonContents[d].color,variant:"outlined",size:"large",onClick:f=>t("action",a.buttonContents[d].action)},{default:o(()=>[a.buttonIcons?(c(),T(p,{key:0,class:"mr-3"},{default:o(()=>[C(h(a.buttonIcons[d]),1)]),_:2},1024)):de("",!0),C(" "+h(r),1)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1})]),_:1}))}}),xt=ue(ht,[["__scopeId","data-v-5f41fbec"]]);class ee{constructor(n={}){S(this,"key");S(this,"name");S(this,"text");S(this,"symbol");S(this,"modifier");this.key=n.key||"",this.name=n.name||"",this.text=n.text||"",this.symbol=n.symbol||"",this.modifier=n.modifier||"alt"}get keyWithModifier(){return[this.modifier,this.key].join("_")}applyTo(n){return new ee({...this,text:n+this.text})}}class se{constructor(n=[],t="alt"){this.rawList=n,this.modifier=t}get list(){return this.rawList.map(n=>new ee({...n,modifier:this.modifier}))}get keys(){return Xe.map(this.list,"key")}getListAppliedTo(n){return/\S/.test(n)?this.list.map(t=>t.applyTo(n)):[]}}const Vt=(e,n)=>{const t=Ye(e,n),a=t.value;t.value=n;const l=a!==n;function r(){t.value=a}return{state:t,isRestorable:l,restore:r}},At={class:"info-panel"},It={class:"symbol"},St={class:"buttons"},Tt="magic-keyboard-content",Pt="alt",_t=re({__name:"MagicKeyboard",setup(e){const n=Y(null),t=Y(null),a=Y(null),{state:l,restore:r,isRestorable:d}=Vt(Tt,""),f=Ze(),u=ae(f,"isRevealed");d&&f.reveal(),f.onConfirm(r);function m(y){f[y]()}const{undo:v,redo:_,canUndo:D,canRedo:q}=Qe(l,{debounce:1e3}),{copy:O,copied:j}=Je({source:l}),{previousLetter:A,insertText:G,combineText:I}=ft(a,l),w=et(),K=ae(w,Pt);ie(()=>{n.value&&(n.value.style.visibility=K.value?"visible":"hidden"),t.value&&(t.value.style.visibility=K.value?"hidden":"visible")});const R=new se(kt),L=new se(pt),U=new Set([...R.keys,...L.keys]);tt("keydown",y=>{y.altKey&&U.has(y.code)&&y.preventDefault()}),R.list.forEach(({text:y,keyWithModifier:i})=>{ne(w[i],()=>{I(y)})}),L.list.forEach(({text:y,keyWithModifier:i})=>{ne(w[i],()=>{G(y)})});const H=["Press Alt to see the list of magic keys.","Press any of them in combination with Alt to get the result."],X=P(()=>[...R.getListAppliedTo(A.value),...L.list]);return(y,i)=>(c(),x(V,null,[k("div",At,[k("div",{ref_key:"array",ref:n,class:"array"},[(c(!0),x(V,null,W(X.value,({symbol:b,text:z},ye)=>(c(),x("div",{key:ye},[k("div",It,h(b),1),k("div",null,h(z),1)]))),128))],512),k("div",{ref_key:"infoTexts",ref:t,class:"info-texts"},[(c(),x(V,null,W(H,b=>k("p",null,h(b),1)),64))],512)]),s(g(st),{modelValue:g(l),"onUpdate:modelValue":i[0]||(i[0]=b=>at(l)?l.value=b:null),ref_key:"textarea",ref:a,placeholder:"Type something",rows:"10",variant:"outlined","hide-details":"","auto-grow":""},null,8,["modelValue"]),k("div",St,[s(B,{variant:"outlined",class:"copy-button",size:"large",disabled:g(l)==="",onClick:i[1]||(i[1]=b=>g(O)())},{default:o(()=>[g(j)?(c(),T(p,{key:0,left:""},{default:o(()=>i[3]||(i[3]=[C("mdi-check")])),_:1})):(c(),T(p,{key:1,left:""},{default:o(()=>i[4]||(i[4]=[C("mdi-content-copy")])),_:1}))]),_:1},8,["disabled"]),s(B,{disabled:!g(D),variant:"outlined",size:"large",onClick:g(v)},{default:o(()=>[s(p,null,{default:o(()=>i[5]||(i[5]=[C("mdi-undo")])),_:1})]),_:1},8,["disabled","onClick"]),s(B,{disabled:!g(q),variant:"outlined",size:"large",onClick:g(_)},{default:o(()=>[s(p,null,{default:o(()=>i[6]||(i[6]=[C("mdi-redo")])),_:1})]),_:1},8,["disabled","onClick"]),s(B,{onClick:i[2]||(i[2]=b=>l.value=""),disabled:g(l)==="",variant:"outlined",size:"large"},{default:o(()=>[s(p,{left:""},{default:o(()=>i[7]||(i[7]=[C("mdi-broom")])),_:1})]),_:1},8,["disabled"])]),u.value?(c(),T(xt,{key:0,title:"Restore Previous Text",messages:["We found unsaved text from your previous session.","Would you like to restore it?"],buttonNames:["Restore","Discard"],"button-icons":["mdi-restore","mdi-delete"],onAction:m})):de("",!0)],64))}}),Kt=ue(_t,[["__scopeId","data-v-cb64ec0d"]]);export{Kt as default};
