import{c as b,a9 as D,E as T,b as L,r as V,aI as M,aJ as w,aK as k,aL as N,o as y,f as m,k as S,F as h,p as A,l as _,m as E,n as P,g as K,i as I,h as W,V as F,aM as R,_ as $}from"./index-D-rKwEeH.js";import{V as q}from"./VTextarea-DEP4OVF1.js";import"./VInput-Cz6blUpM.js";import"./forwardRefs-DWGaNmQL.js";const z=["input","textarea"],G=c=>b(()=>{if(!(c!=null&&c.value))return null;const n=c.value.$el;return z.map(i=>n.querySelector(i)).find(Boolean)}),J=(c,n)=>{const i=G(c),u=b(()=>{const o=i.value;if(o){const e=o.selectionStart||0;return n.value.slice(e-1,e)}return""}),d=b(()=>/\S/.test(u.value));async function p(o){const e=i.value;if(e){const a=e.selectionStart||0,r=e.selectionEnd||0;n.value=n.value.slice(0,a)+o+n.value.slice(r),await D(),e.setSelectionRange(a+o.length,a+o.length),e.focus(),e.focus()}}async function g(o){if(!d.value)return;const e=i.value;if(e){const a=e.selectionStart||0,r=e.selectionEnd||0,t=(u.value+o).normalize("NFC");n.value=n.value.slice(0,a-1)+t+n.value.slice(r),await D(),e.setSelectionRange(a+o.length,a+o.length),e.focus(),e.focus()}}return{previousLetter:u,hasPreviousLetter:d,insertText:p,combineText:g}},v={Digit1:{name:"Grave Accent",unicode:"̀",keySymbol:"1"},Digit2:{name:"Acute Accent",unicode:"́",keySymbol:"2"},Digit3:{name:"Circumflex",unicode:"̂",keySymbol:"3"},Digit4:{name:"Tilde",unicode:"̃",keySymbol:"4"},Digit5:{name:"Dot Below",unicode:"̣",keySymbol:"5"},Digit6:{name:"Breve",unicode:"̆",keySymbol:"6"},Digit7:{name:"Dot Above",unicode:"̇",keySymbol:"7"},Digit8:{name:"Diaeresis",unicode:"̈",keySymbol:"8"},Digit9:{name:"Ring Above",unicode:"̊",keySymbol:"9"},KeyV:{name:"Caron",unicode:"̌",keySymbol:"v"},Minus:{name:"Macron",unicode:"̄",keySymbol:"-"},Equal:{name:"Macron Below",unicode:"̱",keySymbol:"="},Comma:{name:"Cedilla",unicode:"̧",keySymbol:","}},x=T.keys(v),f={KeyA:{name:"Glottal Stop",unicode:"ʔ",keySymbol:"a"},KeyW:{name:"Ayn",unicode:"ʕ",keySymbol:"w"}},C=T.keys(f),U={class:"info-panel"},j={key:1,class:"array"},H={class:"symbol"},O=L({__name:"MagicKeyboard",setup(c){const n=V(null),i=V(""),{copy:u}=M({source:i}),{previousLetter:d,hasPreviousLetter:p,insertText:g,combineText:o}=J(n,i),e=w();k(n,()=>{var t;(t=n.value)==null||t.focus()}),N("keydown",t=>{[...x,...C].forEach(s=>{t.code===s&&t.altKey&&t.preventDefault()})}),x.forEach(t=>{const s=`alt_${t}`;k(e[s],()=>{o(v[t].unicode)})}),C.forEach(t=>{const s=`alt_${t}`;k(e[s],()=>{g(f[t].unicode)})});const a=b(()=>{if(!e.alt.value)return{text:"Press Alt to see the list of magic keys. Press any of them in combination with Alt to get the result",type:0};const t=p.value?x.map(l=>({symbol:v[l].keySymbol,text:d.value+v[l].unicode})):[],s=C.map(l=>({symbol:f[l].keySymbol,text:f[l].unicode}));return{value:[...t,...s],type:1}});function r(){u().then(()=>{R.success("Copied to clipboard")})}return(t,s)=>(y(),m(h,null,[S("div",U,[a.value.type===0?(y(),m(h,{key:0},[A(_(a.value.text),1)],64)):E("",!0),a.value.type===1?(y(),m("div",j,[(y(!0),m(h,null,P(a.value.value,({symbol:l,text:B})=>(y(),m("div",{key:t.key},[S("div",H,_(l),1),S("div",null,_(B),1)]))),128))])):E("",!0)]),K(I(q),{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=l=>i.value=l),ref_key:"textarea",ref:n,placeholder:"Type something",rows:"10",clearable:"","hide-details":""},null,8,["modelValue"]),K(F,{variant:"outlined",class:"copy-button",size:"large",onClick:r},{default:W(()=>s[1]||(s[1]=[A(" Copy to clipboard ")])),_:1})],64))}}),ee=$(O,[["__scopeId","data-v-27f58f76"]]);export{ee as default};
