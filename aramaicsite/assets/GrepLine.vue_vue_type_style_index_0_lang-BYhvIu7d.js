var Z=Object.defineProperty;var _=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var I=(e,t,n)=>_(e,typeof t!="symbol"?t+"":t,n);import{E as V,bz as ee,c as p,b as H,af as J,t as P,r as w,w as O,aY as te,o as r,f as d,k as $,D as U,B as ae,m as y,F as z,n as M,i as Y,g as S,h as x,V as C,ag as h,p as B,l as R,_ as se,bK as j}from"./index-QbBoz4qz.js";import{s as le}from"./sleep-mAKpSMLY.js";import{V as ne}from"./VTextField-BwmyCn67.js";import{b as ue}from"./betterSplit-CW8NIeFU.js";const re="(?:a|e|i|iͧ|o|u|ä|å|ë|ö|ü|á|á̧|â|ä|å|é|ê|ë|í|î|ó|ô|ö|ú|û|ü|ā|ā́|ă|ą̂|ē|ĕ|ī|ı|ō|ŏ|ū|ŭ|ŭ́|ə|ə́|и|о|ю|ạ|ạ|ạ́|ậ|ắ|ẹ|ọ|ộ|ụ|ụ̂|а|о|у|э|ы|и|ь)",oe="(?:b|b́|c|c̄|d|f|f̣|g|h|j|k|k̇|l|m|n|n̄|p|p̄|p̣|q|q̣|r|r̄|r̄̄|s|s̄|t|t́|v|w|x|y|z|z̄|ç|ć|č|ğ|ġ|ģ|ķ|ń|ň|ŕ|ś|ŝ|ş|ş́|ş̇|š|ţ|ž|ǧ|ǧ̣|Ɂ|ɧ|ʔ|ʕ|ʕ́|ʕ̣|ʾ|ʿ|б|в|й|к|п|р|с|т|х|ҫ|ҫ́|ҫ̂|ҫ̄|ع|ḅ|ḇ|ḉ|ḍ|ḏ|ḏ̣|ḏ̣̣|ḥ|ḳ|ḳ̇|ḷ|ṃ|ṅ|ṇ|ṗ|ṛ|ṝ|ṡ|ṣ|ṫ|ṭ|ṯ|ẓ|ẖ|ﻉ)",ie=new RegExp("[\\\\]v","gi"),ce=new RegExp("[\\\\]c","gi"),ve=V.memoize(function(t){return t.replace(ie,re).replace(ce,oe)});class T{constructor(t){I(this,"_value");this._value=t||""}get value(){return this._value}set value(t){this._value=t||""}get valueNormalized(){return ve(this.value)}get isEmpty(){return!this.value}get regex(){return RegExp(this.valueNormalized,"iu")}static instantiate(t){return new T(t)}}class Re{constructor(t){I(this,"data");this.data=V.mapValues(t,T.instantiate)}get searchersArr(){return V.values(this.data)}get areAllEmpty(){return this.searchersArr.every(t=>t.isEmpty)}get test(){return t=>V.keys(this.data).every(n=>this.data[n].regex.test(t[n]))}}const de=()=>{const e=ee();return p(()=>e.path.split("/")[1])};var K=(e=>(e.turoyo="turoyo",e.urmi="urmi",e.maalula="maalula",e))(K||{});const me="a á ä ā b ḅ c č ç d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ ģ h ḥ i í î ī ı j k ḳ l m ṃ ň ṇ o ó ö p q r ṛ s š ṡ ş ṣ t ţ ṭ ṯ u ú ü ụ v w x y z ž ʔ ʕ",fe=me.split(/\s+/),pe="a ä b ʙ c č ç d e ǝ ə f g Ģ h i I ı j k l m n o ö p q r s ş ṣ ș t ţ ṭ ț u ü v w x y z ž ƶ а ә б в г д е ж з и й к л м н о п р с т у ф х һ ц ч ш щ ъ ы ь э ю я",ge=pe.split(/\s+/),ye="ʔ ʕ a á ā b c ć č d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ h ḥ i í ī k ḳ l ḷ m n o ō p r s š ṣ t ṭ ṯ u ú ū w x y z ž ẓ",he=ye.split(/\s+/),ke={[K.turoyo]:fe,[K.urmi]:ge,[K.maalula]:he},be=()=>{const e=de();return p(()=>ke[e.value])},we={class:"working-block"},xe={class:"keyboard specific-keys"},Ce={class:"keyboard common-keys"},Be={key:1,class:"submit-wrapper"},Ee=H({__name:"Keyboard",props:{value:{default:""},inputName:{default:""},visible:{type:Boolean,default:!1},type:{default:"full"},inputEl:{default:null}},emits:["submit","update:visible"],setup(e,{emit:t}){const n=t,D=J(),k=P(D,"isDark"),m=w(0),f=w(0),E=w(null),c=w(e.value),q=[String.raw`\v`,String.raw`\c`,"^","$","\\"],N=["⬅","space","del","backspace","⮕"],b=be(),u=w(null);O(()=>{u.value=E.value||e.inputEl},{flush:"sync"}),O(()=>{c.value=e.value});function Q(l){c.value=l,G()}function F(){n("update:visible",!1)}function L(){n("submit",c.value),F()}function G(){var l,a;m.value=((l=u.value)==null?void 0:l.selectionStart)||0,f.value=((a=u.value)==null?void 0:a.selectionEnd)||0}async function W(){await le(20),G()}function A(l){if(!u.value)return;const a=c.value;m.value=u.value.selectionStart||0,f.value=u.value.selectionEnd||0;const{buttonValueMod:s,selectionStartMod:o,selectionEndMod:i}=X({buttonValue:l,selectionStart:m.value,selectionEnd:f.value,existingValue:a});u.value.value=a.slice(0,o)+s+a.slice(i,a.length),c.value=u.value.value,u.value.focus(),m.value=u.value.selectionStart=o+s.length,f.value=u.value.selectionEnd=o+s.length,e.type==="regex"&&n("submit",c.value)}te(()=>{E.value=document.querySelector(".keyboard-wrapper .v-text-field input"),m.value=f.value=e.value.length});function X({buttonValue:l,selectionStart:a,selectionEnd:s,existingValue:o}){let i,v=a,g=s;return l==="backspace"?(a>0&&a===s&&(v=a-1),i=""):l==="del"?(a<o.length&&a===s&&(g=s+1),i=""):l==="space"?i=" ":l==="⬅"?(a<s?g=a:(v=Math.max(0,a-1),g=v),i=""):l==="⮕"?(a<s?v=s:(v=Math.min(o.length,a+1),g=v),i=""):(i=l,v=a,g=s),{buttonValueMod:i,selectionStartMod:v,selectionEndMod:g}}return(l,a)=>l.visible?(r(),d("div",{key:0,class:h([{full:l.type==="full",regex:l.type==="regex"},"keyboard-wrapper"])},[$("div",we,[l.type==="full"?(r(),U(ne,{key:0,label:l.inputName,"model-value":c.value,class:"input",density:"compact",variant:"outlined",clearable:"",onFocus:W,"onUpdate:modelValue":Q,onKeyup:ae(L,["enter","native"])},null,8,["label","model-value"])):y("",!0),$("div",xe,[q?(r(),d(z,{key:0},M(q,s=>S(C,{key:s,color:"warning",variant:"outlined",class:h({invert:k.value}),rounded:"",onClick:o=>A(s)},{default:x(()=>[B(R(s),1)]),_:2},1032,["class","onClick"])),64)):y("",!0),Y(b)&&l.type==="full"?(r(!0),d(z,{key:1},M(Y(b),s=>(r(),U(C,{key:s,variant:"outlined",rounded:"",onClick:o=>A(s)},{default:x(()=>[B(R(s),1)]),_:2},1032,["onClick"]))),128)):y("",!0)]),$("div",Ce,[N&&l.type==="full"?(r(),d(z,{key:0},M(N,s=>S(C,{key:s,class:h({invert:k.value}),color:"teal",rounded:"",size:"large",variant:"outlined",onClick:o=>A(s)},{default:x(()=>[B(R(s),1)]),_:2},1032,["class","onClick"])),64)):y("",!0)]),l.type==="full"?(r(),d("div",Be,[S(C,{class:"mr-5",variant:"outlined",onClick:F},{default:x(()=>a[0]||(a[0]=[B(" Cancel ")])),_:1}),S(C,{color:"primary",variant:"outlined",class:h({invert:k.value}),onClick:L},{default:x(()=>a[1]||(a[1]=[B(" Search ")])),_:1},8,["class"])])):y("",!0)])],2)):y("",!0)}}),Ke=se(Ee,[["__scopeId","data-v-e7e93995"]]),Te=H({__name:"GrepLine",props:{str:{default:""},searcher:{default:()=>new T},lineName:{default:""}},setup(e){const t=J(),n=P(t,"isDark"),D=p(()=>!e.searcher||e.searcher.isEmpty?[e.str]:ue(e.str,e.searcher.regex)),k=p(()=>e.lineName===j.title),m=p(()=>!e.lineName||e.lineName===j.textus),f=p(()=>e.lineName===j.versio),E=p(()=>({"line-title":k.value,textus:m.value,versio:f.value}));return(c,q)=>(r(),d("div",{class:h(E.value)},[(r(!0),d(z,null,M(D.value,(N,b)=>(r(),d("span",{key:b,class:h({highlight:b%2,invert:n.value})},R(N),3))),128))],2))}});export{Ke as K,K as L,Re as S,Te as _,T as a,de as u};
