import{E as l,r as u,aM as c,b as d,t as i,o as p,D as m,h as y,V as f,p as g}from"./index-D-rKwEeH.js";import{s as C}from"./sleep-mAKpSMLY.js";function b(t){const e=document.createElement("div");e.contentEditable="true",e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.innerHTML=t;const n=document.createRange();n.selectNodeContents(e);const o=getSelection();o==null||o.removeAllRanges(),o==null||o.addRange(n),document.execCommand("copy"),document.body.removeChild(e),o==null||o.removeAllRanges()}function E(t){const e=l.map(t,"outerHTML").join("");b(e)}const _=()=>{const t=u(!1);return{loading:t,do:e};async function e(n){if(n>500){c.warning(`Too many results to copy!
Please narrow down your search.`),t.value=!1;return}t.value=!0,await C(100);const a=document.querySelector(".results .results-stats"),r=Array.from(document.querySelectorAll(".results .lines"));try{E([a,...r]),c.success("Search results successfully copied to clipboard!")}catch(s){c.error((s==null?void 0:s.message)||"Something went wrong â€” nothing copied!")}t.value=!1}},v=d({__name:"CopyResults",props:{count:{}},setup(t){const e=t,n=_(),o=i(n,"loading");function a(){n.do(e.count)}return(r,s)=>(p(),m(f,{disabled:!r.count,loading:o.value,class:"copy_btn mr-10 mb-2",variant:"outlined",onClick:a},{default:y(()=>s[0]||(s[0]=[g(" Copy to Clipboard ")])),_:1},8,["disabled","loading"]))}});export{v as _};
