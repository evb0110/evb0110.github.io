var ue=Object.defineProperty;var ce=(e,t,a)=>t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var G=(e,t,a)=>ce(e,typeof t!="symbol"?t+"":t,a);import{v as se,g as C,O as I,bv as _,q as oe,E as R,bl as de,c as B,d as ve,b as U,G as re,t as Y,r as D,w as me,ah as fe,o as y,f as w,an as z,k as M,m as S,D as J,B as pe,F,n as q,h as A,p as $,l as K,V as N,_ as le,bw as ge,i as W,a2 as he,ad as ye,aD as be,e as Q,x as ke,a9 as we,au as xe,b2 as Ee,bx as X}from"./index-HTschJaO.js";import{s as Ve}from"./sleep-mAKpSMLY.js";import{V as Ce}from"./VTextField-RU6R8uO2.js";import{C as Z}from"./Color-l8zxla4Y.js";import{V as Be,m as Se,b as ee}from"./VTooltip-Dh9x81GG.js";import{a as L,d as ze,s as te,b as Pe,g as Ae,n as De,f as Te}from"./forwardRefs-DWGaNmQL.js";import{b as $e}from"./betterSplit-CW8NIeFU.js";const Ne=oe({target:[Object,Array]},"v-dialog-transition"),Me=se()({name:"VDialogTransition",props:Ne(),setup(e,t){let{slots:a}=t;const v={onBeforeEnter(n){n.style.pointerEvents="none",n.style.visibility="hidden"},async onEnter(n,g){var p;await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),n.style.visibility="";const{x:s,y:c,sx:d,sy:m,speed:o}=ne(e.target,n),f=L(n,[{transform:`translate(${s}px, ${c}px) scale(${d}, ${m})`,opacity:0},{}],{duration:225*o,easing:ze});(p=ae(n))==null||p.forEach(u=>{L(u,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*o,easing:te})}),f.finished.then(()=>g())},onAfterEnter(n){n.style.removeProperty("pointer-events")},onBeforeLeave(n){n.style.pointerEvents="none"},async onLeave(n,g){var p;await new Promise(u=>requestAnimationFrame(u));const{x:s,y:c,sx:d,sy:m,speed:o}=ne(e.target,n);L(n,[{},{transform:`translate(${s}px, ${c}px) scale(${d}, ${m})`,opacity:0}],{duration:125*o,easing:Pe}).finished.then(()=>g()),(p=ae(n))==null||p.forEach(u=>{L(u,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*o,easing:te})})},onAfterLeave(n){n.style.removeProperty("pointer-events")}};return()=>e.target?C(_,I({name:"dialog-transition"},v,{css:!1}),a):C(_,{name:"dialog-transition"},a)}});function ae(e){var a;const t=(a=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:a.children;return t&&[...t]}function ne(e,t){const a=Ae(e),v=De(t),[n,g]=getComputedStyle(t).transformOrigin.split(" ").map(T=>parseFloat(T)),[s,c]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=a.left+a.width/2;s==="left"||c==="left"?d-=a.width/2:(s==="right"||c==="right")&&(d+=a.width/2);let m=a.top+a.height/2;s==="top"||c==="top"?m-=a.height/2:(s==="bottom"||c==="bottom")&&(m+=a.height/2);const o=a.width/v.width,f=a.height/v.height,p=Math.max(1,o,f),u=o/p||0,b=f/p||0,h=v.width*v.height/(window.innerWidth*window.innerHeight),x=h>.12?Math.min(1.5,(h-.12)*10+1):1;return{x:d-(n+v.left),y:m-(g+v.top),sx:u,sy:b,speed:x}}const Ie="(?:a|e|i|iͧ|o|u|ä|å|ë|ö|ü|á|á̧|â|ä|å|é|ê|ë|í|î|ó|ô|ö|ú|û|ü|ā|ā́|ă|ą̂|ē|ĕ|ī|ı|ō|ŏ|ū|ŭ|ŭ́|ə|ə́|и|о|ю|ạ|ạ|ạ́|ậ|ắ|ẹ|ọ|ộ|ụ|ụ̂|а|о|у|э|ы|и|ь)",Le="(?:b|b́|c|c̄|d|f|f̣|g|h|j|k|k̇|l|m|n|n̄|p|p̄|p̣|q|q̣|r|r̄|r̄̄|s|s̄|t|t́|v|w|x|y|z|z̄|ç|ć|č|ğ|ġ|ģ|ķ|ń|ň|ŕ|ś|ŝ|ş|ş́|ş̇|š|ţ|ž|ǧ|ǧ̣|Ɂ|ɧ|ʔ|ʕ|ʕ́|ʕ̣|ʾ|ʿ|б|в|й|к|п|р|с|т|х|ҫ|ҫ́|ҫ̂|ҫ̄|ع|ḅ|ḇ|ḉ|ḍ|ḏ|ḏ̣|ḏ̣̣|ḥ|ḳ|ḳ̇|ḷ|ṃ|ṅ|ṇ|ṗ|ṛ|ṝ|ṡ|ṣ|ṫ|ṭ|ṯ|ẓ|ẖ|ﻉ)",Re=new RegExp("[\\\\]v","gi"),Fe=new RegExp("[\\\\]c","gi"),qe=R.memoize(function(t){return t.replace(Re,Ie).replace(Fe,Le)});class H{constructor(t){G(this,"_value");this._value=t||""}get value(){return this._value}set value(t){this._value=t||""}get valueNormalized(){return qe(this.value)}get isEmpty(){return!this.value}get regex(){return RegExp(this.valueNormalized,"iu")}static instantiate(t){return new H(t)}}class vt{constructor(t){G(this,"data");this.data=R.mapValues(t,H.instantiate)}get searchersArr(){return R.values(this.data)}get areAllEmpty(){return this.searchersArr.every(t=>t.isEmpty)}get test(){return t=>R.keys(this.data).every(a=>this.data[a].regex.test(t[a]))}}const Ke=()=>{const e=de();return{language:B(()=>e.path.split("/")[1])}};var O=(e=>(e.turoyo="turoyo",e.urmi="urmi",e.maalula="maalula",e))(O||{});const Oe="a á ä ā b ḅ c č ç d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ ģ h ḥ i í î ī ı j k ḳ l m ṃ ň ṇ o ó ö p q r ṛ s š ṡ ş ṣ t ţ ṭ ṯ u ú ü ụ v w x y z ž ʔ ʕ",He=Oe.split(/\s+/),je="a ä b ʙ c č ç d e ǝ ə f g Ģ h i I ı j k l m n o ö p q r s ş ṣ ș t ţ ṭ ț u ü v w x y z ž ƶ а ә б в г д е ж з и й к л м н о п р с т у ф х һ ц ч ш щ ъ ы ь э ю я",Ge=je.split(/\s+/),We="ʔ ʕ a á ā b c ć č d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ h ḥ i í ī k ḳ l ḷ m n o ō p r s š ṣ t ṭ ṯ u ú ū w x y z ž ẓ",Xe=We.split(/\s+/),Ye={[O.turoyo]:He,[O.urmi]:Ge,[O.maalula]:Xe},Ue=ve("keyboardStore",()=>{const{language:e}=Ke();return{letters:B(()=>Ye[e.value])}}),_e={class:"working-block"},Je={class:"keyboard specific-keys"},Qe={class:"keyboard common-keys"},Ze={key:1,class:"submit-wrapper"},et=U({__name:"Keyboard",props:{value:{default:""},inputName:{default:""},visible:{type:Boolean,default:!1},type:{default:"full"},inputEl:{default:null}},emits:["submit","update:visible"],setup(e,{emit:t}){const a=t,v=re(),n=Y(v,"isDark"),g=D(0),s=D(0),c=D(null),d=D(e.value),m=[String.raw`\v`,String.raw`\c`,"^","$","\\"],o=["⬅","space","del","backspace","⮕"],f=Ue(),p=Y(f,"letters");me(()=>{d.value=e.value});function u(i){d.value=i,x()}function b(){a("update:visible",!1)}function h(){a("submit",d.value),b()}function x(){var i,r;g.value=((i=c.value)==null?void 0:i.selectionStart)||0,s.value=((r=c.value)==null?void 0:r.selectionEnd)||0}async function T(){await Ve(20),x()}function j(i){const r=c.value||e.inputEl;if(!r)return;const l=d.value,{buttonValueMod:V,selectionStartMod:k,selectionEndMod:E}=ie({buttonValue:i,selectionStart:g.value,selectionEnd:s.value,existingValue:l});r.value=l.slice(0,k)+V+l.slice(E,l.length),d.value=r.value,r.focus(),g.value=r.selectionStart=k+V.length,s.value=r.selectionEnd=k+V.length,e.type==="service"&&a("submit",d.value)}fe(()=>{c.value=document.querySelector(".keyboard-wrapper .v-text-field input"),g.value=s.value=e.value.length});function ie({buttonValue:i,selectionStart:r,selectionEnd:l,existingValue:V}){let k,E=r,P=l;return i==="backspace"?(r>0&&r===l&&(E=r-1),k=""):i==="del"?(r<V.length&&r===l&&(P=l+1),k=""):i==="space"?k=" ":i==="⬅"?(r<l?P=r:(E=Math.max(0,r-1),P=E),k=""):i==="⮕"?(r<l?E=l:(E=Math.min(V.length,r+1),P=E),k=""):(k=i,E=r,P=l),{buttonValueMod:k,selectionStartMod:E,selectionEndMod:P}}return(i,r)=>i.visible?(y(),w("div",{key:0,class:z(["keyboard-wrapper",{full:i.type==="full",service:i.type==="service"}])},[i.type==="full"?(y(),w("div",{key:0,class:z(["close-button",{invert:n.value}])},[M("span",{class:"closer",onClick:b},"×")],2)):S("",!0),M("div",_e,[i.type==="full"?(y(),J(Ce,{key:0,label:i.inputName,"model-value":d.value,class:"input",density:"compact",variant:"outlined",clearable:"",onChange:u,onFocus:T,onKeyup:pe(h,["enter","native"])},null,8,["label","model-value"])):S("",!0),M("div",Je,[m?(y(),w(F,{key:0},q(m,l=>C(N,{key:l,color:"warning",variant:"outlined",class:z({invert:n.value}),rounded:"",onClick:V=>j(l)},{default:A(()=>[$(K(l),1)]),_:2},1032,["class","onClick"])),64)):S("",!0),p.value&&i.type==="full"?(y(!0),w(F,{key:1},q(p.value,l=>(y(),J(N,{key:l,variant:"outlined",rounded:"",onClick:V=>j(l)},{default:A(()=>[$(K(l),1)]),_:2},1032,["onClick"]))),128)):S("",!0)]),M("div",Qe,[o&&i.type==="full"?(y(),w(F,{key:0},q(o,l=>C(N,{key:l,class:z({invert:n.value}),color:"teal",rounded:"",size:"large",variant:"outlined",onClick:V=>j(l)},{default:A(()=>[$(K(l),1)]),_:2},1032,["class","onClick"])),64)):S("",!0)]),i.type==="full"?(y(),w("div",Ze,[C(N,{class:"mr-5",variant:"outlined",onClick:b},{default:A(()=>r[0]||(r[0]=[$(" Cancel ")])),_:1}),C(N,{color:"primary",variant:"outlined",class:z({invert:n.value}),onClick:h},{default:A(()=>r[1]||(r[1]=[$(" Search ")])),_:1},8,["class"])])):S("",!0)])],2)):S("",!0)}}),mt=le(et,[["__scopeId","data-v-dd988678"]]),tt=["fill"],at=U({__name:"KeyboardIcon",props:{tooltip:{type:String,default:"Click to open a virtual keyboard"}},emits:["click"],setup(e,{emit:t}){ge(d=>({"343572bc":W(s),"75de9347":W(c)}));const a=e,v=t,n=D(!0),g=B(()=>!a.tooltip||!n.value),{darkGrey:s,lightBrown:c}=Z;return(d,m)=>(y(),w("span",{onClick:m[0]||(m[0]=o=>v("click"))},[C(Be,{disabled:g.value,text:e.tooltip,location:"bottom","open-delay":"500"},{activator:A(({props:o})=>[(y(),w("svg",I(o,{fill:W(Z).grey,class:"keyboard-icon-svg",height:"50px",viewBox:"0 0 24 24",width:"50px",xmlns:"http://www.w3.org/2000/svg"}),m[1]||(m[1]=[M("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"},null,-1)]),16,tt))]),_:1},8,["disabled","text"])]))}}),ft=le(at,[["__scopeId","data-v-43d9ee52"]]),nt=oe({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Se({origin:"center center",scrollStrategy:"block",transition:{component:Me},zIndex:2400})},"VDialog"),pt=se()({name:"VDialog",props:nt(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:v}=t;const n=he(e,"modelValue"),{scopeId:g}=ye(),s=D();function c(o){var u,b;const f=o.relatedTarget,p=o.target;if(f!==p&&((u=s.value)!=null&&u.contentEl)&&((b=s.value)!=null&&b.globalTop)&&![document,s.value.contentEl].includes(p)&&!s.value.contentEl.contains(p)){const h=Ee(s.value.contentEl);if(!h.length)return;const x=h[0],T=h[h.length-1];f===x?T.focus():x.focus()}}be&&Q(()=>n.value&&e.retainFocus,o=>{o?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)},{immediate:!0});function d(){var o;a("afterEnter"),(o=s.value)!=null&&o.contentEl&&!s.value.contentEl.contains(document.activeElement)&&s.value.contentEl.focus({preventScroll:!0})}function m(){a("afterLeave")}return Q(n,async o=>{var f;o||(await we(),(f=s.value.activatorEl)==null||f.focus({preventScroll:!0}))}),ke(()=>{const o=ee.filterProps(e),f=I({"aria-haspopup":"dialog"},e.activatorProps),p=I({tabindex:-1},e.contentProps);return C(ee,I({ref:s,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},o,{modelValue:n.value,"onUpdate:modelValue":u=>n.value=u,"aria-modal":"true",activatorProps:f,contentProps:p,role:"dialog",onAfterEnter:d,onAfterLeave:m},g),{activator:v.activator,default:function(){for(var u=arguments.length,b=new Array(u),h=0;h<u;h++)b[h]=arguments[h];return C(xe,{root:"VDialog"},{default:()=>{var x;return[(x=v.default)==null?void 0:x.call(v,...b)]}})}})}),Te({},s)}}),gt=U({__name:"GrepLine",props:{str:{default:""},searcher:{default:()=>new H},lineName:{default:""}},setup(e){const t=re(),a=Y(t,"isDark"),v=B(()=>!e.searcher||e.searcher.isEmpty?[e.str]:$e(e.str,e.searcher.regex)),n=B(()=>e.lineName===X.title),g=B(()=>!e.lineName||e.lineName===X.textus),s=B(()=>e.lineName===X.versio),c=B(()=>({"line-title":n.value,textus:g.value,versio:s.value}));return(d,m)=>(y(),w("div",{class:z(c.value)},[(y(!0),w(F,null,q(v.value,(o,f)=>(y(),w("span",{key:f,class:z({highlight:f%2,invert:a.value})},K(o),3))),128))],2))}});export{ft as K,O as L,vt as S,Me as V,gt as _,pt as a,mt as b,H as c,Ke as u};
