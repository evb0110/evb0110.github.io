var Z=Object.defineProperty;var _=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var I=(e,t,n)=>_(e,typeof t!="symbol"?t+"":t,n);import{E as V,by as ee,c as g,d as te,b as H,G as P,t as F,r as b,w as U,aX as ae,o as r,f as d,k as $,D as X,B as se,m as p,F as z,n as M,g as N,h as w,V as x,ag as h,p as C,l as R,_ as le,bJ as j}from"./index-CeXCJhcw.js";import{s as ne}from"./sleep-mAKpSMLY.js";import{V as ue}from"./VTextField-VmMDyh7r.js";import{b as re}from"./betterSplit-CW8NIeFU.js";const oe="(?:a|e|i|iͧ|o|u|ä|å|ë|ö|ü|á|á̧|â|ä|å|é|ê|ë|í|î|ó|ô|ö|ú|û|ü|ā|ā́|ă|ą̂|ē|ĕ|ī|ı|ō|ŏ|ū|ŭ|ŭ́|ə|ə́|и|о|ю|ạ|ạ|ạ́|ậ|ắ|ẹ|ọ|ộ|ụ|ụ̂|а|о|у|э|ы|и|ь)",ie="(?:b|b́|c|c̄|d|f|f̣|g|h|j|k|k̇|l|m|n|n̄|p|p̄|p̣|q|q̣|r|r̄|r̄̄|s|s̄|t|t́|v|w|x|y|z|z̄|ç|ć|č|ğ|ġ|ģ|ķ|ń|ň|ŕ|ś|ŝ|ş|ş́|ş̇|š|ţ|ž|ǧ|ǧ̣|Ɂ|ɧ|ʔ|ʕ|ʕ́|ʕ̣|ʾ|ʿ|б|в|й|к|п|р|с|т|х|ҫ|ҫ́|ҫ̂|ҫ̄|ع|ḅ|ḇ|ḉ|ḍ|ḏ|ḏ̣|ḏ̣̣|ḥ|ḳ|ḳ̇|ḷ|ṃ|ṅ|ṇ|ṗ|ṛ|ṝ|ṡ|ṣ|ṫ|ṭ|ṯ|ẓ|ẖ|ﻉ)",ce=new RegExp("[\\\\]v","gi"),ve=new RegExp("[\\\\]c","gi"),de=V.memoize(function(t){return t.replace(ce,oe).replace(ve,ie)});class T{constructor(t){I(this,"_value");this._value=t||""}get value(){return this._value}set value(t){this._value=t||""}get valueNormalized(){return de(this.value)}get isEmpty(){return!this.value}get regex(){return RegExp(this.valueNormalized,"iu")}static instantiate(t){return new T(t)}}class Ke{constructor(t){I(this,"data");this.data=V.mapValues(t,T.instantiate)}get searchersArr(){return V.values(this.data)}get areAllEmpty(){return this.searchersArr.every(t=>t.isEmpty)}get test(){return t=>V.keys(this.data).every(n=>this.data[n].regex.test(t[n]))}}const me=()=>{const e=ee();return{language:g(()=>e.path.split("/")[1])}};var K=(e=>(e.turoyo="turoyo",e.urmi="urmi",e.maalula="maalula",e))(K||{});const fe="a á ä ā b ḅ c č ç d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ ģ h ḥ i í î ī ı j k ḳ l m ṃ ň ṇ o ó ö p q r ṛ s š ṡ ş ṣ t ţ ṭ ṯ u ú ü ụ v w x y z ž ʔ ʕ",ge=fe.split(/\s+/),ye="a ä b ʙ c č ç d e ǝ ə f g Ģ h i I ı j k l m n o ö p q r s ş ṣ ș t ţ ṭ ț u ü v w x y z ž ƶ а ә б в г д е ж з и й к л м н о п р с т у ф х һ ц ч ш щ ъ ы ь э ю я",pe=ye.split(/\s+/),he="ʔ ʕ a á ā b c ć č d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ h ḥ i í ī k ḳ l ḷ m n o ō p r s š ṣ t ṭ ṯ u ú ū w x y z ž ẓ",ke=he.split(/\s+/),be={[K.turoyo]:ge,[K.urmi]:pe,[K.maalula]:ke},we=te("keyboardStore",()=>{const{language:e}=me();return{letters:g(()=>be[e.value])}}),xe={class:"working-block"},Ce={class:"keyboard specific-keys"},Se={class:"keyboard common-keys"},Be={key:1,class:"submit-wrapper"},Ee=H({__name:"Keyboard",props:{value:{default:""},inputName:{default:""},visible:{type:Boolean,default:!1},type:{default:"full"},inputEl:{default:null}},emits:["submit","update:visible"],setup(e,{emit:t}){const n=t,D=P(),k=F(D,"isDark"),m=b(0),f=b(0),S=b(null),c=b(e.value),q=[String.raw`\v`,String.raw`\c`,"^","$","\\"],B=["⬅","space","del","backspace","⮕"],E=we(),L=F(E,"letters"),u=b(null);U(()=>{u.value=S.value||e.inputEl},{flush:"sync"}),U(()=>{c.value=e.value});function Q(l){c.value=l,O()}function G(){n("update:visible",!1)}function J(){n("submit",c.value),G()}function O(){var l,a;m.value=((l=u.value)==null?void 0:l.selectionStart)||0,f.value=((a=u.value)==null?void 0:a.selectionEnd)||0}async function W(){await ne(20),O()}function A(l){if(!u.value)return;const a=c.value;m.value=u.value.selectionStart||0,f.value=u.value.selectionEnd||0;const{buttonValueMod:s,selectionStartMod:o,selectionEndMod:i}=Y({buttonValue:l,selectionStart:m.value,selectionEnd:f.value,existingValue:a});u.value.value=a.slice(0,o)+s+a.slice(i,a.length),c.value=u.value.value,u.value.focus(),m.value=u.value.selectionStart=o+s.length,f.value=u.value.selectionEnd=o+s.length,e.type==="regex"&&n("submit",c.value)}ae(()=>{S.value=document.querySelector(".keyboard-wrapper .v-text-field input"),m.value=f.value=e.value.length});function Y({buttonValue:l,selectionStart:a,selectionEnd:s,existingValue:o}){let i,v=a,y=s;return l==="backspace"?(a>0&&a===s&&(v=a-1),i=""):l==="del"?(a<o.length&&a===s&&(y=s+1),i=""):l==="space"?i=" ":l==="⬅"?(a<s?y=a:(v=Math.max(0,a-1),y=v),i=""):l==="⮕"?(a<s?v=s:(v=Math.min(o.length,a+1),y=v),i=""):(i=l,v=a,y=s),{buttonValueMod:i,selectionStartMod:v,selectionEndMod:y}}return(l,a)=>l.visible?(r(),d("div",{key:0,class:h([{full:l.type==="full",regex:l.type==="regex"},"keyboard-wrapper"])},[$("div",xe,[l.type==="full"?(r(),X(ue,{key:0,label:l.inputName,"model-value":c.value,class:"input",density:"compact",variant:"outlined",clearable:"",onFocus:W,"onUpdate:modelValue":Q,onKeyup:se(J,["enter","native"])},null,8,["label","model-value"])):p("",!0),$("div",Ce,[q?(r(),d(z,{key:0},M(q,s=>N(x,{key:s,color:"warning",variant:"outlined",class:h({invert:k.value}),rounded:"",onClick:o=>A(s)},{default:w(()=>[C(R(s),1)]),_:2},1032,["class","onClick"])),64)):p("",!0),L.value&&l.type==="full"?(r(!0),d(z,{key:1},M(L.value,s=>(r(),X(x,{key:s,variant:"outlined",rounded:"",onClick:o=>A(s)},{default:w(()=>[C(R(s),1)]),_:2},1032,["onClick"]))),128)):p("",!0)]),$("div",Se,[B&&l.type==="full"?(r(),d(z,{key:0},M(B,s=>N(x,{key:s,class:h({invert:k.value}),color:"teal",rounded:"",size:"large",variant:"outlined",onClick:o=>A(s)},{default:w(()=>[C(R(s),1)]),_:2},1032,["class","onClick"])),64)):p("",!0)]),l.type==="full"?(r(),d("div",Be,[N(x,{class:"mr-5",variant:"outlined",onClick:G},{default:w(()=>a[0]||(a[0]=[C(" Cancel ")])),_:1}),N(x,{color:"primary",variant:"outlined",class:h({invert:k.value}),onClick:J},{default:w(()=>a[1]||(a[1]=[C(" Search ")])),_:1},8,["class"])])):p("",!0)])],2)):p("",!0)}}),Te=le(Ee,[["__scopeId","data-v-706a05a7"]]),De=H({__name:"GrepLine",props:{str:{default:""},searcher:{default:()=>new T},lineName:{default:""}},setup(e){const t=P(),n=F(t,"isDark"),D=g(()=>!e.searcher||e.searcher.isEmpty?[e.str]:re(e.str,e.searcher.regex)),k=g(()=>e.lineName===j.title),m=g(()=>!e.lineName||e.lineName===j.textus),f=g(()=>e.lineName===j.versio),S=g(()=>({"line-title":k.value,textus:m.value,versio:f.value}));return(c,q)=>(r(),d("div",{class:h(S.value)},[(r(!0),d(z,null,M(D.value,(B,E)=>(r(),d("span",{key:E,class:h({highlight:E%2,invert:n.value})},R(B),3))),128))],2))}});export{Te as K,K as L,Ke as S,De as _,T as a,me as u};
