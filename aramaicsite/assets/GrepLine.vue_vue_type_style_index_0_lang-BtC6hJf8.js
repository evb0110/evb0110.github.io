var ie=Object.defineProperty;var ue=(e,t,a)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var G=(e,t,a)=>ue(e,typeof t!="symbol"?t+"":t,a);import{v as ae,g as B,O as L,bA as Y,q as ne,E as M,bq as ce,c as S,d as de,b as se,G as oe,t as X,r as D,w as H,aO as ve,o as b,f as V,k as U,D as J,B as fe,m as A,F as q,n as z,h as N,V as R,ag as T,p as $,l as I,_ as me,a2 as ge,ad as pe,ax as ye,e as Q,x as he,a9 as be,ao as ke,b7 as we,bB as W}from"./index-BS_Jxlmh.js";import{s as xe}from"./sleep-mAKpSMLY.js";import{V as Ee}from"./VTextField-BITQxKLZ.js";import{m as Ve,a as Z}from"./VOverlay-Fz9kGqnn.js";import{a as F,d as Be,s as _,b as Se,g as Ce,n as Pe,f as Ae}from"./forwardRefs-DWGaNmQL.js";import{b as De}from"./betterSplit-CW8NIeFU.js";const Te=ne({target:[Object,Array]},"v-dialog-transition"),Ne=ae()({name:"VDialogTransition",props:Te(),setup(e,t){let{slots:a}=t;const v={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,g){var f;await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>requestAnimationFrame(n)),s.style.visibility="";const{x:o,y:m,sx:c,sy:y,speed:r}=te(e.target,s),d=F(s,[{transform:`translate(${o}px, ${m}px) scale(${c}, ${y})`,opacity:0},{}],{duration:225*r,easing:Be});(f=ee(s))==null||f.forEach(n=>{F(n,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*r,easing:_})}),d.finished.then(()=>g())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,g){var f;await new Promise(n=>requestAnimationFrame(n));const{x:o,y:m,sx:c,sy:y,speed:r}=te(e.target,s);F(s,[{},{transform:`translate(${o}px, ${m}px) scale(${c}, ${y})`,opacity:0}],{duration:125*r,easing:Se}).finished.then(()=>g()),(f=ee(s))==null||f.forEach(n=>{F(n,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*r,easing:_})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>e.target?B(Y,L({name:"dialog-transition"},v,{css:!1}),a):B(Y,{name:"dialog-transition"},a)}});function ee(e){var a;const t=(a=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:a.children;return t&&[...t]}function te(e,t){const a=Ce(e),v=Pe(t),[s,g]=getComputedStyle(t).transformOrigin.split(" ").map(C=>parseFloat(C)),[o,m]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let c=a.left+a.width/2;o==="left"||m==="left"?c-=a.width/2:(o==="right"||m==="right")&&(c+=a.width/2);let y=a.top+a.height/2;o==="top"||m==="top"?y-=a.height/2:(o==="bottom"||m==="bottom")&&(y+=a.height/2);const r=a.width/v.width,d=a.height/v.height,f=Math.max(1,r,d),n=r/f||0,k=d/f||0,p=v.width*v.height/(window.innerWidth*window.innerHeight),h=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:c-(s+v.left),y:y-(g+v.top),sx:n,sy:k,speed:h}}const Re="(?:a|e|i|iͧ|o|u|ä|å|ë|ö|ü|á|á̧|â|ä|å|é|ê|ë|í|î|ó|ô|ö|ú|û|ü|ā|ā́|ă|ą̂|ē|ĕ|ī|ı|ō|ŏ|ū|ŭ|ŭ́|ə|ə́|и|о|ю|ạ|ạ|ạ́|ậ|ắ|ẹ|ọ|ộ|ụ|ụ̂|а|о|у|э|ы|и|ь)",$e="(?:b|b́|c|c̄|d|f|f̣|g|h|j|k|k̇|l|m|n|n̄|p|p̄|p̣|q|q̣|r|r̄|r̄̄|s|s̄|t|t́|v|w|x|y|z|z̄|ç|ć|č|ğ|ġ|ģ|ķ|ń|ň|ŕ|ś|ŝ|ş|ş́|ş̇|š|ţ|ž|ǧ|ǧ̣|Ɂ|ɧ|ʔ|ʕ|ʕ́|ʕ̣|ʾ|ʿ|б|в|й|к|п|р|с|т|х|ҫ|ҫ́|ҫ̂|ҫ̄|ع|ḅ|ḇ|ḉ|ḍ|ḏ|ḏ̣|ḏ̣̣|ḥ|ḳ|ḳ̇|ḷ|ṃ|ṅ|ṇ|ṗ|ṛ|ṝ|ṡ|ṣ|ṫ|ṭ|ṯ|ẓ|ẖ|ﻉ)",Fe=new RegExp("[\\\\]v","gi"),Le=new RegExp("[\\\\]c","gi"),Me=M.memoize(function(t){return t.replace(Fe,Re).replace(Le,$e)});class K{constructor(t){G(this,"_value");this._value=t||""}get value(){return this._value}set value(t){this._value=t||""}get valueNormalized(){return Me(this.value)}get isEmpty(){return!this.value}get regex(){return RegExp(this.valueNormalized,"iu")}static instantiate(t){return new K(t)}}class rt{constructor(t){G(this,"data");this.data=M.mapValues(t,K.instantiate)}get searchersArr(){return M.values(this.data)}get areAllEmpty(){return this.searchersArr.every(t=>t.isEmpty)}get test(){return t=>M.keys(this.data).every(a=>this.data[a].regex.test(t[a]))}}const qe=()=>{const e=ce();return{language:S(()=>e.path.split("/")[1])}};var O=(e=>(e.turoyo="turoyo",e.urmi="urmi",e.maalula="maalula",e))(O||{});const ze="a á ä ā b ḅ c č ç d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ ģ h ḥ i í î ī ı j k ḳ l m ṃ ň ṇ o ó ö p q r ṛ s š ṡ ş ṣ t ţ ṭ ṯ u ú ü ụ v w x y z ž ʔ ʕ",Ie=ze.split(/\s+/),Oe="a ä b ʙ c č ç d e ǝ ə f g Ģ h i I ı j k l m n o ö p q r s ş ṣ ș t ţ ṭ ț u ü v w x y z ž ƶ а ә б в г д е ж з и й к л м н о п р с т у ф х һ ц ч ш щ ъ ы ь э ю я",Ke=Oe.split(/\s+/),je="ʔ ʕ a á ā b c ć č d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ h ḥ i í ī k ḳ l ḷ m n o ō p r s š ṣ t ṭ ṯ u ú ū w x y z ž ẓ",Ge=je.split(/\s+/),Ue={[O.turoyo]:Ie,[O.urmi]:Ke,[O.maalula]:Ge},We=de("keyboardStore",()=>{const{language:e}=qe();return{letters:S(()=>Ue[e.value])}}),Xe={class:"working-block"},Ye={class:"keyboard specific-keys"},He={class:"keyboard common-keys"},Je={key:1,class:"submit-wrapper"},Qe=se({__name:"Keyboard",props:{value:{default:""},inputName:{default:""},visible:{type:Boolean,default:!1},type:{default:"full"},inputEl:{default:null}},emits:["submit","update:visible"],setup(e,{emit:t}){const a=t,v=oe(),s=X(v,"isDark"),g=D(0),o=D(0),m=D(null),c=D(e.value),y=[String.raw`\v`,String.raw`\c`,"^","$","\\"],r=["⬅","space","del","backspace","⮕"],d=We(),f=X(d,"letters"),n=D(null);H(()=>{n.value=m.value||e.inputEl},{flush:"sync"}),H(()=>{c.value=e.value});function k(u){c.value=u,C()}function p(){a("update:visible",!1)}function h(){a("submit",c.value),p()}function C(){var u,l;g.value=((u=n.value)==null?void 0:u.selectionStart)||0,o.value=((l=n.value)==null?void 0:l.selectionEnd)||0}async function re(){await xe(20),C()}function j(u){if(!n.value)return;const l=c.value;g.value=n.value.selectionStart||0,o.value=n.value.selectionEnd||0;const{buttonValueMod:i,selectionStartMod:w,selectionEndMod:x}=le({buttonValue:u,selectionStart:g.value,selectionEnd:o.value,existingValue:l});n.value.value=l.slice(0,w)+i+l.slice(x,l.length),c.value=n.value.value,n.value.focus(),g.value=n.value.selectionStart=w+i.length,o.value=n.value.selectionEnd=w+i.length,e.type==="regex"&&a("submit",c.value)}ve(()=>{m.value=document.querySelector(".keyboard-wrapper .v-text-field input"),g.value=o.value=e.value.length});function le({buttonValue:u,selectionStart:l,selectionEnd:i,existingValue:w}){let x,E=l,P=i;return u==="backspace"?(l>0&&l===i&&(E=l-1),x=""):u==="del"?(l<w.length&&l===i&&(P=i+1),x=""):u==="space"?x=" ":u==="⬅"?(l<i?P=l:(E=Math.max(0,l-1),P=E),x=""):u==="⮕"?(l<i?E=i:(E=Math.min(w.length,l+1),P=E),x=""):(x=u,E=l,P=i),{buttonValueMod:x,selectionStartMod:E,selectionEndMod:P}}return(u,l)=>u.visible?(b(),V("div",{key:0,class:T([{full:u.type==="full",regex:u.type==="regex"},"keyboard-wrapper"])},[U("div",Xe,[u.type==="full"?(b(),J(Ee,{key:0,label:u.inputName,"model-value":c.value,class:"input",density:"compact",variant:"outlined",clearable:"",onFocus:re,"onUpdate:modelValue":k,onKeyup:fe(h,["enter","native"])},null,8,["label","model-value"])):A("",!0),U("div",Ye,[y?(b(),V(q,{key:0},z(y,i=>B(R,{key:i,color:"warning",variant:"outlined",class:T({invert:s.value}),rounded:"",onClick:w=>j(i)},{default:N(()=>[$(I(i),1)]),_:2},1032,["class","onClick"])),64)):A("",!0),f.value&&u.type==="full"?(b(!0),V(q,{key:1},z(f.value,i=>(b(),J(R,{key:i,variant:"outlined",rounded:"",onClick:w=>j(i)},{default:N(()=>[$(I(i),1)]),_:2},1032,["onClick"]))),128)):A("",!0)]),U("div",He,[r&&u.type==="full"?(b(),V(q,{key:0},z(r,i=>B(R,{key:i,class:T({invert:s.value}),color:"teal",rounded:"",size:"large",variant:"outlined",onClick:w=>j(i)},{default:N(()=>[$(I(i),1)]),_:2},1032,["class","onClick"])),64)):A("",!0)]),u.type==="full"?(b(),V("div",Je,[B(R,{class:"mr-5",variant:"outlined",onClick:p},{default:N(()=>l[0]||(l[0]=[$(" Cancel ")])),_:1}),B(R,{color:"primary",variant:"outlined",class:T({invert:s.value}),onClick:h},{default:N(()=>l[1]||(l[1]=[$(" Search ")])),_:1},8,["class"])])):A("",!0)])],2)):A("",!0)}}),lt=me(Qe,[["__scopeId","data-v-706a05a7"]]),Ze=ne({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ve({origin:"center center",scrollStrategy:"block",transition:{component:Ne},zIndex:2400})},"VDialog"),it=ae()({name:"VDialog",props:Ze(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:v}=t;const s=ge(e,"modelValue"),{scopeId:g}=pe(),o=D();function m(r){var n,k;const d=r.relatedTarget,f=r.target;if(d!==f&&((n=o.value)!=null&&n.contentEl)&&((k=o.value)!=null&&k.globalTop)&&![document,o.value.contentEl].includes(f)&&!o.value.contentEl.contains(f)){const p=we(o.value.contentEl);if(!p.length)return;const h=p[0],C=p[p.length-1];d===h?C.focus():h.focus()}}ye&&Q(()=>s.value&&e.retainFocus,r=>{r?document.addEventListener("focusin",m):document.removeEventListener("focusin",m)},{immediate:!0});function c(){var r;a("afterEnter"),(r=o.value)!=null&&r.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function y(){a("afterLeave")}return Q(s,async r=>{var d;r||(await be(),(d=o.value.activatorEl)==null||d.focus({preventScroll:!0}))}),he(()=>{const r=Z.filterProps(e),d=L({"aria-haspopup":"dialog"},e.activatorProps),f=L({tabindex:-1},e.contentProps);return B(Z,L({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},r,{modelValue:s.value,"onUpdate:modelValue":n=>s.value=n,"aria-modal":"true",activatorProps:d,contentProps:f,role:"dialog",onAfterEnter:c,onAfterLeave:y},g),{activator:v.activator,default:function(){for(var n=arguments.length,k=new Array(n),p=0;p<n;p++)k[p]=arguments[p];return B(ke,{root:"VDialog"},{default:()=>{var h;return[(h=v.default)==null?void 0:h.call(v,...k)]}})}})}),Ae({},o)}}),ut=se({__name:"GrepLine",props:{str:{default:""},searcher:{default:()=>new K},lineName:{default:""}},setup(e){const t=oe(),a=X(t,"isDark"),v=S(()=>!e.searcher||e.searcher.isEmpty?[e.str]:De(e.str,e.searcher.regex)),s=S(()=>e.lineName===W.title),g=S(()=>!e.lineName||e.lineName===W.textus),o=S(()=>e.lineName===W.versio),m=S(()=>({"line-title":s.value,textus:g.value,versio:o.value}));return(c,y)=>(b(),V("div",{class:T(m.value)},[(b(!0),V(q,null,z(v.value,(r,d)=>(b(),V("span",{key:d,class:T({highlight:d%2,invert:a.value})},I(r),3))),128))],2))}});export{lt as K,O as L,rt as S,Ne as V,ut as _,it as a,K as b,qe as u};
