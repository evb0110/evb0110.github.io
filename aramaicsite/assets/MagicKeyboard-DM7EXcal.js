var pe=Object.defineProperty;var he=(e,n,a)=>n in e?pe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a;var x=(e,n,a)=>he(e,typeof n!="symbol"?n+"":n,a);import{q as M,av as Ce,s as K,g as s,x as $,v as G,J as te,aW as xe,F as V,aX as ne,aC as p,aB as ee,K as oe,aD as F,E as Ae,aY as Ve,aZ as Ie,G as Se,O as _e,P as Te,aJ as Pe,a_ as De,a$ as we,aF as Re,b0 as Le,c as P,$ as z,a1 as re,b1 as Be,aM as Ne,b2 as Ee,T as Me,b3 as Ke,I as $e,b4 as ze,aG as Fe,b5 as We,b6 as Ge,b7 as je,U as qe,W as Oe,b8 as Ue,aE as He,a as Je,e as Ze,ap as j,w as Xe,b9 as de,b as ce,o as d,D as T,h as o,j as h,k as A,n as _,f as k,i as W,V as E,p as ue,_ as me,M as Ye,u as Qe,r as Q,ba as et,t as se,bb as tt,bc as at,bd as nt,be as st,Z as ie,l as it,m as b}from"./index-CxOlNMeS.js";import{V as lt}from"./VDialog-DtDOeO_3.js";import{V as ot}from"./VTextarea-C6sNOUDE.js";import"./VOverlay-BntVN6wj.js";import"./forwardRefs-DWGaNmQL.js";import"./lazy-BOUdUTNV.js";import"./VInput-BickoxXb.js";const ve=M()({name:"VCardActions",props:$(),setup(e,n){let{slots:a}=n;return Ce({VBtn:{slim:!0,variant:"text"}}),K(()=>{var t;return s("div",{class:["v-card-actions",e.class],style:e.style},[(t=a.default)==null?void 0:t.call(a)])}),{}}}),rt=G({opacity:[Number,String],...$(),...te()},"VCardSubtitle"),dt=M()({name:"VCardSubtitle",props:rt(),setup(e,n){let{slots:a}=n;return K(()=>s(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},a)),{}}}),ye=xe("v-card-title"),ct=G({appendAvatar:String,appendIcon:F,prependAvatar:String,prependIcon:F,subtitle:[String,Number],title:[String,Number],...$(),...oe()},"VCardItem"),ut=M()({name:"VCardItem",props:ct(),setup(e,n){let{slots:a}=n;return K(()=>{var v;const t=!!(e.prependAvatar||e.prependIcon),l=!!(t||a.prepend),c=!!(e.appendAvatar||e.appendIcon),u=!!(c||a.append),f=!!(e.title!=null||a.title),m=!!(e.subtitle!=null||a.subtitle);return s("div",{class:["v-card-item",e.class],style:e.style},[l&&s("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?s(ee,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},a.prepend):s(V,null,[e.prependAvatar&&s(ne,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&s(p,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),s("div",{class:"v-card-item__content"},[f&&s(ye,{key:"title"},{default:()=>{var y;return[((y=a.title)==null?void 0:y.call(a))??e.title]}}),m&&s(dt,{key:"subtitle"},{default:()=>{var y;return[((y=a.subtitle)==null?void 0:y.call(a))??e.subtitle]}}),(v=a.default)==null?void 0:v.call(a)]),u&&s("div",{key:"append",class:"v-card-item__append"},[a.append?s(ee,{key:"append-defaults",disabled:!c,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},a.append):s(V,null,[e.appendIcon&&s(p,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&s(ne,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),mt=G({opacity:[Number,String],...$(),...te()},"VCardText"),fe=M()({name:"VCardText",props:mt(),setup(e,n){let{slots:a}=n;return K(()=>s(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},a)),{}}}),vt=G({appendAvatar:String,appendIcon:F,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:F,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Ue(),...$(),...oe(),...Oe(),...qe(),...je(),...Ge(),...We(),...Fe(),...ze(),...te(),...$e(),...Ke({variant:"elevated"})},"VCard"),yt=M()({name:"VCard",directives:{Ripple:He},props:vt(),setup(e,n){let{attrs:a,slots:t}=n;const{themeClasses:l}=Ae(e),{borderClasses:c}=Ve(e),{colorClasses:u,colorStyles:f,variantClasses:m}=Ie(e),{densityClasses:v}=Se(e),{dimensionStyles:y}=_e(e),{elevationClasses:D}=Te(e),{loaderClasses:w}=Pe(e),{locationStyles:q}=De(e),{positionClasses:O}=we(e),{roundedClasses:U}=Re(e),I=Le(e,a),H=P(()=>e.link!==!1&&I.isLink.value),S=P(()=>!e.disabled&&e.link!==!1&&(e.link||I.isClickable.value));return K(()=>{const J=H.value?"a":e.tag,R=!!(t.title||e.title!=null),L=!!(t.subtitle||e.subtitle!=null),B=R||L,N=!!(t.append||e.appendAvatar||e.appendIcon),Z=!!(t.prepend||e.prependAvatar||e.prependIcon),X=!!(t.image||e.image),Y=B||Z||N,r=!!(t.text||e.text!=null);return z(s(J,Me({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":S.value},l.value,c.value,u.value,v.value,D.value,w.value,O.value,U.value,m.value,e.class],style:[f.value,y.value,q.value,e.style],onClick:S.value&&I.navigate,tabindex:e.disabled?-1:void 0},I.linkProps),{default:()=>{var i;return[X&&s("div",{key:"image",class:"v-card__image"},[t.image?s(ee,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):s(Be,{key:"image-img",cover:!0,src:e.image},null)]),s(Ne,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:t.loader}),Y&&s(ut,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:t.item,prepend:t.prepend,title:t.title,subtitle:t.subtitle,append:t.append}),r&&s(fe,{key:"text"},{default:()=>{var g;return[((g=t.text)==null?void 0:g.call(t))??e.text]}}),(i=t.default)==null?void 0:i.call(t),t.actions&&s(ve,null,{default:t.actions}),Ee(S.value,"v-card")]}}),[[re("ripple"),S.value&&e.ripple]])}),{}}}),ft=(e,n)=>{const a=Je({start:0,end:0});return Ze(n,async()=>{const t=e.value;t&&(await j(),a.start=t.selectionStart||0,a.end=t.selectionEnd||0)},{immediate:!0}),Xe(()=>{const t=e.value;t&&(t.setSelectionRange(a.start,a.end),t.focus())}),de(()=>{a.start=n.value.length,a.end=n.value.length}),a},bt=["input","textarea"],gt=e=>P(()=>{if(!(e!=null&&e.value))return null;const n=e.value.$el;return bt.map(a=>n.querySelector(a)).find(Boolean)}),kt=(e,n)=>{const a=gt(e),t=ft(a,n),l=P(()=>{const m=n.value.slice(0,t.start),v=ht(m);return m.slice(v,t.start)}),c=P(()=>/\S/.test(l.value));async function u(m,v=!1){const y=v?l.value.length:0,D=n.value.slice(0,t.start-y),w=n.value.slice(t.end);n.value=D+m+w,await j(),t.start+=m.length-y,t.end=t.start}function f(m){if(!c.value)return;const v=(l.value+m).normalize("NFC");u(v,!0)}return{previousLetter:l,insertText:u,combineText:f}},pt=new Intl.Segmenter("en",{granularity:"grapheme"});function ht(e){const n=Array.from(pt.segment(e));let a=e.length;for(const t of n.reverse())if(a-=t.segment.length,a<e.length)break;return Math.max(a,0)}const Ct=[{key:"Digit1",name:"Grave Accent",text:"̀",symbol:"1"},{key:"Digit2",name:"Acute Accent",text:"́",symbol:"2"},{key:"Digit3",name:"Circumflex",text:"̂",symbol:"3"},{key:"Digit4",name:"Tilde",text:"̃",symbol:"4"},{key:"Digit5",name:"Dot Below",text:"̣",symbol:"5"},{key:"Digit6",name:"Breve",text:"̆",symbol:"6"},{key:"Digit7",name:"Dot Above",text:"̇",symbol:"7"},{key:"Digit8",name:"Diaeresis",text:"̈",symbol:"8"},{key:"Digit9",name:"Ring Above",text:"̊",symbol:"9"},{key:"KeyV",name:"Caron",text:"̌",symbol:"v"},{key:"Minus",name:"Macron",text:"̄",symbol:"-"},{key:"Equal",name:"Macron Below",text:"̱",symbol:"="},{key:"Comma",name:"Cedilla",text:"̧",symbol:","}],xt=[{key:"KeyA",name:"Glottal Stop",text:"ʔ",symbol:"a"},{key:"KeyW",name:"Ayn",text:"ʕ",symbol:"w"}],At=()=>{de(async()=>{var e;await j(),(e=document.activeElement)==null||e.blur()})},Vt=ce({__name:"ConfirmDialog",props:{title:{default:"Confirmation"},messages:{default:()=>["Are you sure?"]},buttonNames:{default:()=>["Confirm","Cancel"]},buttonIcons:{},buttonContents:{default:()=>[{color:"secondary",action:"confirm"},{color:"warning",action:"cancel"}]}},emits:["action"],setup(e,{emit:n}){const a=n;return At(),(t,l)=>(d(),T(lt,{"model-value":!0,height:"60vh","max-width":"60vw","overlay-color":"rgba(0, 0, 0, 1)","overlay-opacity":"1",class:"opaque-overlay"},{default:o(()=>[s(yt,{class:"pt-3 pl-3 pr-3 h-100"},{default:o(()=>[s(ye,{class:"ml-2"},{default:o(()=>[h(A(t.title),1)]),_:1}),l[0]||(l[0]=_("hr",{class:"ml-3 mr-3"},null,-1)),s(fe,{class:"mt-5 h-100 d-flex flex-column justify-center ga-5"},{default:o(()=>[(d(!0),k(V,null,W(t.messages,c=>(d(),k("p",null,A(c),1))),256))]),_:1}),s(ve,{class:"d-flex ga-6 mb-3 mr-5"},{default:o(()=>[(d(!0),k(V,null,W(t.buttonNames,(c,u)=>(d(),T(E,{key:t.buttonContents[u].action,color:t.buttonContents[u].color,variant:"outlined",size:"large",onClick:f=>a("action",t.buttonContents[u].action)},{default:o(()=>[t.buttonIcons?(d(),T(p,{key:0,class:"mr-3"},{default:o(()=>[h(A(t.buttonIcons[u]),1)]),_:2},1024)):ue("",!0),h(" "+A(c),1)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1})]),_:1}))}}),It=me(Vt,[["__scopeId","data-v-5f41fbec"]]);class ae{constructor(n={}){x(this,"key");x(this,"name");x(this,"text");x(this,"symbol");x(this,"modifier");x(this,"str");this.key=n.key||"",this.name=n.name||"",this.text=n.text||"",this.symbol=n.symbol||"",this.modifier=n.modifier||"alt",this.str=n.str}get keyWithModifier(){return[this.modifier,this.key].join("_")}applyTo(n){return new ae({...this,text:n+this.text,str:n})}}class le{constructor(n=[],a="alt",t=void 0){this.rawList=n,this.modifier=a,this.str=t}get list(){return this.rawList.map(n=>new ae({...n,modifier:this.modifier,str:this.str}))}get keys(){return Ye.map(this.list,"key")}getListAppliedTo(n){return this.list.map(a=>a.applyTo(n.trim()))}}const St=(e,n)=>{const a=Qe(e,n),t=a.value;a.value=n;const l=t!==n;function c(){a.value=t}return{state:a,isRestorable:l,restore:c}},_t={class:"info-panel"},Tt={class:"symbol"},Pt={class:"text"},Dt={class:"buttons"},wt="magic-keyboard-content",Rt=ce({__name:"MagicKeyboard",setup(e){const n=Q(null),a=Q(null),t=Q(null),{state:l,restore:c,isRestorable:u}=St(wt,""),f=et(),m=se(f,"isRevealed");u&&f.reveal(),f.onConfirm(y);function v(r){f[r]()}async function y(){var i,g;c(),await j(),(i=t.value)==null||i.focus();const r=l.value.length;(g=t.value)==null||g.setSelectionRange(r,r)}const{undo:D,redo:w,canUndo:q,canRedo:O}=tt(l,{debounce:1e3}),{copy:U,copied:I}=at({source:l}),{previousLetter:H,insertText:S,combineText:J}=kt(t,l),R=nt(),L=se(R,"alt"),B=new le(Ct),N=new le(xt),Z=new Set([...B.keys,...N.keys]);st("keydown",r=>{r.altKey&&Z.has(r.code)&&r.preventDefault()}),B.list.forEach(({text:r,keyWithModifier:i})=>{ie(R[i],()=>{J(r)})}),N.list.forEach(({text:r,keyWithModifier:i})=>{ie(R[i],()=>{S(r)})});const X=["Press Alt to see the list of magic keys.","Press any of them in combination with Alt to get the result."],Y=P(()=>[...N.list,...B.getListAppliedTo(H.value)]);return(r,i)=>{const g=re("visibility");return d(),k(V,null,[_("div",_t,[z((d(),k("div",{ref_key:"array",ref:n,class:"array"},[(d(!0),k(V,null,W(Y.value,({symbol:C,text:be,str:ge},ke)=>z((d(),k("div",{key:ke},[_("div",Tt,A(C),1),_("div",Pt,A(be),1)])),[[g,L.value&&ge!==""]])),128))])),[[g,L.value]]),z((d(),k("div",{ref_key:"infoTexts",ref:a,class:"info-texts"},[(d(),k(V,null,W(X,C=>_("p",null,A(C),1)),64))])),[[g,!L.value]])]),s(b(ot),{modelValue:b(l),"onUpdate:modelValue":i[0]||(i[0]=C=>it(l)?l.value=C:null),ref_key:"textarea",ref:t,placeholder:"Type something",rows:"10",variant:"outlined","hide-details":"","auto-grow":""},null,8,["modelValue"]),_("div",Dt,[s(E,{variant:"outlined",class:"copy-button",size:"large",disabled:b(l)==="",onClick:i[1]||(i[1]=C=>b(U)())},{default:o(()=>[b(I)?(d(),T(p,{key:0,left:""},{default:o(()=>i[3]||(i[3]=[h("mdi-check")])),_:1})):(d(),T(p,{key:1,left:""},{default:o(()=>i[4]||(i[4]=[h("mdi-content-copy")])),_:1}))]),_:1},8,["disabled"]),s(E,{disabled:!b(q),variant:"outlined",size:"large",onClick:b(D)},{default:o(()=>[s(p,null,{default:o(()=>i[5]||(i[5]=[h("mdi-undo")])),_:1})]),_:1},8,["disabled","onClick"]),s(E,{disabled:!b(O),variant:"outlined",size:"large",onClick:b(w)},{default:o(()=>[s(p,null,{default:o(()=>i[6]||(i[6]=[h("mdi-redo")])),_:1})]),_:1},8,["disabled","onClick"]),s(E,{onClick:i[2]||(i[2]=C=>l.value=""),disabled:b(l)==="",variant:"outlined",size:"large"},{default:o(()=>[s(p,{left:""},{default:o(()=>i[7]||(i[7]=[h("mdi-broom")])),_:1})]),_:1},8,["disabled"])]),m.value?(d(),T(It,{key:0,title:"Restore Previous Text",messages:["We found unsaved text from your previous session.","Would you like to restore it?"],buttonNames:["Restore","Discard"],"button-icons":["mdi-restore","mdi-delete"],onAction:v})):ue("",!0)],64)}}}),Ft=me(Rt,[["__scopeId","data-v-e686e734"]]);export{Ft as default};
