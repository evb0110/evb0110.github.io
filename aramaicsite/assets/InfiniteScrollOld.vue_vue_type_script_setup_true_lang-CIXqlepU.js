import{z as y,B as g,ar as p,H as V,R as b,U as z,g as v,J as B,ab as L,M,ac as N,b as P,r as C,c as u,y as S,o as a,f as s,F as c,i as h,bJ as f,v as D,h as I,n as F,p as H}from"./index-DGANnDqU.js";import{M as T,m as U}from"./transition-Dv-y1MVq.js";import{I as $}from"./index-CRzc9MH5.js";const w=B({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...N(),...M(),...L(),...U({transition:"fade-transition"})},"VLazy"),E=y()({name:"VLazy",directives:{intersect:$},props:w(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:n}=r;const{dimensionStyles:d}=g(e),l=p(e,"modelValue");function m(t){l.value||(l.value=t)}return V(()=>b(v(e.tag,{class:["v-lazy",e.class],style:[d.value,e.style]},{default:()=>[l.value&&v(T,{transition:e.transition,appear:!0},{default:()=>{var t;return[(t=n.default)==null?void 0:t.call(n)]}})]}),[[z("intersect"),{handler:m,options:e.options},null]])),{}}}),J={key:0},O={key:0},R={key:1},G=P({__name:"InfiniteScrollOld",props:{items:{default:()=>[]},chunkSize:{default:50},threshold:{default:.3},minHeight:{default:200},eagerNumber:{default:3}},setup(e){const r=C([]),n=u(()=>S.chunk(e.items,e.chunkSize)),d=u(()=>n.value.slice(0,e.eagerNumber)),l=u(()=>n.value.slice(e.eagerNumber)),m=u(()=>e.items.length<500);return(t,j)=>t.items.length?(a(),s("div",J,[m.value?(a(),s("div",R,[(a(!0),s(c,null,h(n.value,(i,o)=>(a(),s("div",{key:o},[f(t.$slots,"default",{items:i})]))),128))])):(a(),s("div",O,[(a(!0),s(c,null,h(d.value,(i,o)=>(a(),s("div",{key:"eager"+o},[f(t.$slots,"default",{items:i})]))),128)),(a(!0),s(c,null,h(l.value,(i,o)=>(a(),D(E,{modelValue:r.value[o],"onUpdate:modelValue":k=>r.value[o]=k,key:"chunk"+o,options:{threshold:t.threshold},"min-height":t.minHeight},{default:I(()=>[F("div",null,[f(t.$slots,"default",{items:i})])]),_:2},1032,["modelValue","onUpdate:modelValue","options","min-height"]))),128))]))])):H("",!0)}});export{G as _};
