import{x as y,L as g,al as p,A as V,X as b,$ as z,g as v,C as L,E as C,R as N,H as P,b as B,r as M,c as u,J as S,o as a,f as s,F as c,i as h,by as f,v as D,h as I,n as $,p as E}from"./index-B10NB7dS.js";import{M as F,m as H}from"./transition-D4E5EwjX.js";import{I as T}from"./index-D-y2J-0b.js";const w=L({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...P(),...N(),...C(),...H({transition:"fade-transition"})},"VLazy"),A=y()({name:"VLazy",directives:{intersect:T},props:w(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:n}=r;const{dimensionStyles:d}=g(e),l=p(e,"modelValue");function m(t){l.value||(l.value=t)}return V(()=>b(v(e.tag,{class:["v-lazy",e.class],style:[d.value,e.style]},{default:()=>[l.value&&v(F,{transition:e.transition,appear:!0},{default:()=>{var t;return[(t=n.default)==null?void 0:t.call(n)]}})]}),[[z("intersect"),{handler:m,options:e.options},null]])),{}}}),O={key:0},R={key:0},U={key:1},q=B({__name:"InfiniteScrollOld",props:{items:{default:()=>[]},chunkSize:{default:50},threshold:{default:.3},minHeight:{default:200},eagerNumber:{default:3}},setup(e){const r=M([]),n=u(()=>S.chunk(e.items,e.chunkSize)),d=u(()=>n.value.slice(0,e.eagerNumber)),l=u(()=>n.value.slice(e.eagerNumber)),m=u(()=>e.items.length<500);return(t,j)=>t.items.length?(a(),s("div",O,[m.value?(a(),s("div",U,[(a(!0),s(c,null,h(n.value,(i,o)=>(a(),s("div",{key:o},[f(t.$slots,"default",{items:i})]))),128))])):(a(),s("div",R,[(a(!0),s(c,null,h(d.value,(i,o)=>(a(),s("div",{key:"eager"+o},[f(t.$slots,"default",{items:i})]))),128)),(a(!0),s(c,null,h(l.value,(i,o)=>(a(),D(A,{modelValue:r.value[o],"onUpdate:modelValue":k=>r.value[o]=k,key:"chunk"+o,options:{threshold:t.threshold},"min-height":t.minHeight},{default:I(()=>[$("div",null,[f(t.$slots,"default",{items:i})])]),_:2},1032,["modelValue","onUpdate:modelValue","options","min-height"]))),128))]))])):E("",!0)}});export{q as _};
