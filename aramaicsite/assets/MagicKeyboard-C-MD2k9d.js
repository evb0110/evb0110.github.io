var me=Object.defineProperty;var ve=(e,n,t)=>n in e?me(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var I=(e,n,t)=>ve(e,typeof n!="symbol"?n+"":n,t);import{v as N,s as E,af as ye,x as M,g as s,q as F,S as J,aJ as fe,al as K,ab as se,F as x,aK as ee,aq as k,ap as H,aL as ge,am as be,ar as ke,aM as pe,aN as Ce,aO as he,as as xe,aP as Ae,T as Ve,aQ as Ie,an as Se,U as Pe,aR as Te,aS as _e,ac as De,ao as Re,at as we,ax as Le,aT as Be,aU as Ne,au as Ee,aV as Me,c as T,a0 as Ke,a1 as ze,aW as Fe,aA as $e,aX as qe,P as Oe,a as We,e as je,aa as Q,w as Ue,aY as le,b as ie,o as d,D as P,h as o,p,l as h,k as S,f as C,n as z,V as B,m as oe,_ as re,E as Ge,u as He,r as Je,aZ as Qe,t as te,a_ as Xe,a$ as Ye,b0 as Ze,b1 as et,b2 as ae,i as g,j as tt}from"./index-CpLdkV83.js";import{V as at}from"./VDialog-D_uD74t6.js";import{V as nt}from"./VTextarea-CuNeQu9F.js";import"./VOverlay-De48y1pr.js";import"./forwardRefs-DWGaNmQL.js";import"./lazy-KWuur_if.js";import"./VInput-_2C16mxW.js";const de=N()({name:"VCardActions",props:E(),setup(e,n){let{slots:t}=n;return ye({VBtn:{slim:!0,variant:"text"}}),M(()=>{var a;return s("div",{class:["v-card-actions",e.class],style:e.style},[(a=t.default)==null?void 0:a.call(t)])}),{}}}),st=F({opacity:[Number,String],...E(),...J()},"VCardSubtitle"),lt=N()({name:"VCardSubtitle",props:st(),setup(e,n){let{slots:t}=n;return M(()=>s(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},t)),{}}}),ue=fe("v-card-title"),it=F({appendAvatar:String,appendIcon:K,prependAvatar:String,prependIcon:K,subtitle:[String,Number],title:[String,Number],...E(),...se()},"VCardItem"),ot=N()({name:"VCardItem",props:it(),setup(e,n){let{slots:t}=n;return M(()=>{var v;const a=!!(e.prependAvatar||e.prependIcon),r=!!(a||t.prepend),i=!!(e.appendAvatar||e.appendIcon),u=!!(i||t.append),b=!!(e.title!=null||t.title),c=!!(e.subtitle!=null||t.subtitle);return s("div",{class:["v-card-item",e.class],style:e.style},[r&&s("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?s(H,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},t.prepend):s(x,null,[e.prependAvatar&&s(ee,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&s(k,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),s("div",{class:"v-card-item__content"},[b&&s(ue,{key:"title"},{default:()=>{var y;return[((y=t.title)==null?void 0:y.call(t))??e.title]}}),c&&s(lt,{key:"subtitle"},{default:()=>{var y;return[((y=t.subtitle)==null?void 0:y.call(t))??e.subtitle]}}),(v=t.default)==null?void 0:v.call(t)]),u&&s("div",{key:"append",class:"v-card-item__append"},[t.append?s(H,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},t.append):s(x,null,[e.appendIcon&&s(k,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&s(ee,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),rt=F({opacity:[Number,String],...E(),...J()},"VCardText"),ce=N()({name:"VCardText",props:rt(),setup(e,n){let{slots:t}=n;return M(()=>s(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},t)),{}}}),dt=F({appendAvatar:String,appendIcon:K,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:K,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...ge(),...E(),...se(),...be(),...ke(),...pe(),...Ce(),...he(),...xe(),...Ae(),...J(),...Ve(),...Ie({variant:"elevated"})},"VCard"),ut=N()({name:"VCard",directives:{Ripple:Se},props:dt(),setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:r}=Pe(e),{borderClasses:i}=Te(e),{colorClasses:u,colorStyles:b,variantClasses:c}=_e(e),{densityClasses:v}=De(e),{dimensionStyles:y}=Re(e),{elevationClasses:_}=we(e),{loaderClasses:D}=Le(e),{locationStyles:$}=Be(e),{positionClasses:q}=Ne(e),{roundedClasses:O}=Ee(e),A=Me(e,t),R=T(()=>e.link!==!1&&A.isLink.value),V=T(()=>!e.disabled&&e.link!==!1&&(e.link||A.isClickable.value));return M(()=>{const w=R.value?"a":e.tag,L=!!(a.title||e.title!=null),W=!!(a.subtitle||e.subtitle!=null),j=L||W,U=!!(a.append||e.appendAvatar||e.appendIcon),m=!!(a.prepend||e.prependAvatar||e.prependIcon),l=!!(a.image||e.image),f=j||m||U,G=!!(a.text||e.text!=null);return Ke(s(w,Oe({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":V.value},r.value,i.value,u.value,v.value,_.value,D.value,q.value,O.value,c.value,e.class],style:[b.value,y.value,$.value,e.style],onClick:V.value&&A.navigate,tabindex:e.disabled?-1:void 0},A.linkProps),{default:()=>{var Y;return[l&&s("div",{key:"image",class:"v-card__image"},[a.image?s(H,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):s(Fe,{key:"image-img",cover:!0,src:e.image},null)]),s($e,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),f&&s(ot,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),G&&s(ce,{key:"text"},{default:()=>{var Z;return[((Z=a.text)==null?void 0:Z.call(a))??e.text]}}),(Y=a.default)==null?void 0:Y.call(a),a.actions&&s(de,null,{default:a.actions}),qe(V.value,"v-card")]}}),[[ze("ripple"),V.value&&e.ripple]])}),{}}}),ct=(e,n)=>{const t=We({start:0,end:0});return je(n,async()=>{const a=e.value;a&&(await Q(),t.start=a.selectionStart||0,t.end=a.selectionEnd||0)},{immediate:!0}),Ue(()=>{const a=e.value;a&&(a.setSelectionRange(t.start,t.end),a.focus())}),le(()=>{t.start=n.value.length,t.end=n.value.length}),t},mt=["input","textarea"],vt=e=>T(()=>{if(!(e!=null&&e.value))return null;const n=e.value.$el;return mt.map(t=>n.querySelector(t)).find(Boolean)}),yt=(e,n)=>{const t=vt(e),a=ct(t,n),r=T(()=>{const c=n.value.slice(0,a.start),v=gt(c);return c.slice(v,a.start)}),i=T(()=>/\S/.test(r.value));async function u(c,v=!1){const y=v?r.value.length:0,_=n.value.slice(0,a.start-y),D=n.value.slice(a.end);n.value=_+c+D,await Q(),a.start+=c.length-y,a.end=a.start}function b(c){if(!i.value)return;const v=(r.value+c).normalize("NFC");u(v,!0)}return{previousLetter:r,insertText:u,combineText:b}},ft=new Intl.Segmenter("en",{granularity:"grapheme"});function gt(e){const n=Array.from(ft.segment(e));let t=e.length;for(const a of n.reverse())if(t-=a.segment.length,t<e.length)break;return Math.max(t,0)}const bt=[{key:"Digit1",name:"Grave Accent",text:"̀",symbol:"1"},{key:"Digit2",name:"Acute Accent",text:"́",symbol:"2"},{key:"Digit3",name:"Circumflex",text:"̂",symbol:"3"},{key:"Digit4",name:"Tilde",text:"̃",symbol:"4"},{key:"Digit5",name:"Dot Below",text:"̣",symbol:"5"},{key:"Digit6",name:"Breve",text:"̆",symbol:"6"},{key:"Digit7",name:"Dot Above",text:"̇",symbol:"7"},{key:"Digit8",name:"Diaeresis",text:"̈",symbol:"8"},{key:"Digit9",name:"Ring Above",text:"̊",symbol:"9"},{key:"KeyV",name:"Caron",text:"̌",symbol:"v"},{key:"Minus",name:"Macron",text:"̄",symbol:"-"},{key:"Equal",name:"Macron Below",text:"̱",symbol:"="},{key:"Comma",name:"Cedilla",text:"̧",symbol:","}],kt=[{key:"KeyA",name:"Glottal Stop",text:"ʔ",symbol:"a"},{key:"KeyW",name:"Ayn",text:"ʕ",symbol:"w"}],pt=()=>{le(async()=>{var e;await Q(),(e=document.activeElement)==null||e.blur()})},Ct=ie({__name:"ConfirmDialog",props:{title:{default:"Confirmation"},messages:{default:()=>["Are you sure?"]},buttonNames:{default:()=>["Confirm","Cancel"]},buttonIcons:{},buttonContents:{default:()=>[{color:"secondary",action:"confirm"},{color:"warning",action:"cancel"}]}},emits:["action"],setup(e,{emit:n}){const t=n;return pt(),(a,r)=>(d(),P(at,{"model-value":!0,height:"60vh","max-width":"60vw","overlay-color":"rgba(0, 0, 0, 1)","overlay-opacity":"1",class:"opaque-overlay"},{default:o(()=>[s(ut,{class:"pt-3 pl-3 pr-3 h-100"},{default:o(()=>[s(ue,{class:"ml-2"},{default:o(()=>[p(h(a.title),1)]),_:1}),r[0]||(r[0]=S("hr",{class:"ml-3 mr-3"},null,-1)),s(ce,{class:"mt-5 h-100 d-flex flex-column justify-center ga-5"},{default:o(()=>[(d(!0),C(x,null,z(a.messages,i=>(d(),C("p",null,h(i),1))),256))]),_:1}),s(de,{class:"d-flex ga-6 mb-3 mr-5"},{default:o(()=>[(d(!0),C(x,null,z(a.buttonNames,(i,u)=>(d(),P(B,{key:a.buttonContents[u].action,color:a.buttonContents[u].color,variant:"outlined",size:"large",onClick:b=>t("action",a.buttonContents[u].action)},{default:o(()=>[a.buttonIcons?(d(),P(k,{key:0,class:"mr-3"},{default:o(()=>[p(h(a.buttonIcons[u]),1)]),_:2},1024)):oe("",!0),p(" "+h(i),1)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1})]),_:1}))}}),ht=re(Ct,[["__scopeId","data-v-5f41fbec"]]);class X{constructor(n={}){I(this,"key");I(this,"name");I(this,"text");I(this,"symbol");I(this,"modifier");this.key=n.key||"",this.name=n.name||"",this.text=n.text||"",this.symbol=n.symbol||"",this.modifier=n.modifier||"alt"}get keyWithModifier(){return[this.modifier,this.key].join("_")}applyTo(n){return new X({...this,text:n+this.text})}}class ne{constructor(n=[],t="alt"){this.rawList=n,this.modifier=t}get list(){return this.rawList.map(n=>new X({...n,modifier:this.modifier}))}get keys(){return Ge.map(this.list,"key")}getListAppliedTo(n){return/\S/.test(n)?this.list.map(t=>t.applyTo(n)):[]}}const xt=(e,n)=>{const t=He(e,n),a=t.value;t.value=n;const r=a!==n;function i(){t.value=a}return{state:t,isRestorable:r,restore:i}},At={class:"info-panel"},Vt={key:0,class:"array"},It={class:"symbol"},St={class:"buttons"},Pt="magic-keyboard-content",Tt="alt",_t=ie({__name:"MagicKeyboard",setup(e){const n=Je(null),{state:t,restore:a,isRestorable:r}=xt(Pt,""),i=Qe(),u=te(i,"isRevealed");r&&i.reveal(),i.onConfirm(a);function b(m){i[m]()}const{undo:c,redo:v,canUndo:y,canRedo:_}=Xe(t,{debounce:1e3}),{copy:D,copied:$}=Ye({source:t}),{previousLetter:q,insertText:O,combineText:A}=yt(n,t),R=Ze(),V=te(R,Tt),w=new ne(bt),L=new ne(kt),W=new Set([...w.keys,...L.keys]);et("keydown",m=>{m.altKey&&W.has(m.code)&&m.preventDefault()}),w.list.forEach(({text:m,keyWithModifier:l})=>{ae(R[l],()=>{A(m)})}),L.list.forEach(({text:m,keyWithModifier:l})=>{ae(R[l],()=>{O(m)})});const j=["Press Alt to see the list of magic keys.","Press any of them in combination with Alt to get the result."],U=T(()=>[...w.getListAppliedTo(q.value),...L.list]);return(m,l)=>(d(),C(x,null,[S("div",At,[V.value?(d(),C("div",Vt,[(d(!0),C(x,null,z(U.value,({symbol:f,text:G})=>(d(),C("div",{key:m.key},[S("div",It,h(f),1),S("div",null,h(G),1)]))),128))])):(d(),C(x,{key:1},z(j,f=>S("p",null,h(f),1)),64))]),s(g(nt),{modelValue:g(t),"onUpdate:modelValue":l[0]||(l[0]=f=>tt(t)?t.value=f:null),ref_key:"textarea",ref:n,placeholder:"Type something",rows:"10",variant:"outlined","hide-details":"","auto-grow":""},null,8,["modelValue"]),S("div",St,[s(B,{variant:"outlined",class:"copy-button",size:"large",onClick:l[1]||(l[1]=f=>g(D)())},{default:o(()=>[g($)?(d(),P(k,{key:0,left:""},{default:o(()=>l[3]||(l[3]=[p("mdi-check")])),_:1})):(d(),P(k,{key:1,left:""},{default:o(()=>l[4]||(l[4]=[p("mdi-content-copy")])),_:1}))]),_:1}),s(B,{disabled:!g(y),variant:"outlined",size:"large",onClick:g(c)},{default:o(()=>[s(k,null,{default:o(()=>l[5]||(l[5]=[p("mdi-undo")])),_:1})]),_:1},8,["disabled","onClick"]),s(B,{disabled:!g(_),variant:"outlined",size:"large",onClick:g(v)},{default:o(()=>[s(k,null,{default:o(()=>l[6]||(l[6]=[p("mdi-redo")])),_:1})]),_:1},8,["disabled","onClick"]),s(B,{onClick:l[2]||(l[2]=f=>t.value=""),disabled:g(t)==="",variant:"outlined",size:"large"},{default:o(()=>[s(k,{left:""},{default:o(()=>l[7]||(l[7]=[p("mdi-broom")])),_:1})]),_:1},8,["disabled"])]),u.value?(d(),P(ht,{key:0,title:"Restore Previous Text",messages:["We found unsaved text from your previous session.","Would you like to restore it?"],buttonNames:["Restore","Discard"],"button-icons":["mdi-restore","mdi-delete"],onAction:b})):oe("",!0)],64))}}),Kt=re(_t,[["__scopeId","data-v-54f8fd73"]]);export{Kt as default};
