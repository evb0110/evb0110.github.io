var ve=Object.defineProperty;var de=(e,t,a)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var G=(e,t,a)=>de(e,typeof t!="symbol"?t+"":t,a);import{v as oe,g as V,O as I,bv as _,q as le,E as R,bl as me,c as B,d as fe,b as U,G as re,t as Y,r as z,w as J,ah as pe,o as y,f as b,an as P,k as M,m as S,D as Q,B as ge,F,n as q,h as T,p as $,l as K,V as N,_ as ie,bw as he,i as W,a2 as ye,ad as be,aD as ke,e as Z,x as we,a9 as xe,au as Ee,b2 as Ve,bx as X}from"./index-B2Sys05F.js";import{s as Ce}from"./sleep-mAKpSMLY.js";import{V as Be}from"./VTextField-BoUwoQ1D.js";import{C as ee}from"./Color-l8zxla4Y.js";import{V as Se,m as ze,b as te}from"./VTooltip-C6mYSBAs.js";import{a as L,d as Pe,s as ae,b as Ae,g as De,n as Te,f as $e}from"./forwardRefs-DWGaNmQL.js";import{b as Ne}from"./betterSplit-CW8NIeFU.js";const Me=le({target:[Object,Array]},"v-dialog-transition"),Ie=oe()({name:"VDialogTransition",props:Me(),setup(e,t){let{slots:a}=t;const v={onBeforeEnter(n){n.style.pointerEvents="none",n.style.visibility="hidden"},async onEnter(n,p){var g;await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),n.style.visibility="";const{x:o,y:d,sx:c,sy:m,speed:l}=se(e.target,n),f=L(n,[{transform:`translate(${o}px, ${d}px) scale(${c}, ${m})`,opacity:0},{}],{duration:225*l,easing:Pe});(g=ne(n))==null||g.forEach(s=>{L(s,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*l,easing:ae})}),f.finished.then(()=>p())},onAfterEnter(n){n.style.removeProperty("pointer-events")},onBeforeLeave(n){n.style.pointerEvents="none"},async onLeave(n,p){var g;await new Promise(s=>requestAnimationFrame(s));const{x:o,y:d,sx:c,sy:m,speed:l}=se(e.target,n);L(n,[{},{transform:`translate(${o}px, ${d}px) scale(${c}, ${m})`,opacity:0}],{duration:125*l,easing:Ae}).finished.then(()=>p()),(g=ne(n))==null||g.forEach(s=>{L(s,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*l,easing:ae})})},onAfterLeave(n){n.style.removeProperty("pointer-events")}};return()=>e.target?V(_,I({name:"dialog-transition"},v,{css:!1}),a):V(_,{name:"dialog-transition"},a)}});function ne(e){var a;const t=(a=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:a.children;return t&&[...t]}function se(e,t){const a=De(e),v=Te(t),[n,p]=getComputedStyle(t).transformOrigin.split(" ").map(A=>parseFloat(A)),[o,d]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let c=a.left+a.width/2;o==="left"||d==="left"?c-=a.width/2:(o==="right"||d==="right")&&(c+=a.width/2);let m=a.top+a.height/2;o==="top"||d==="top"?m-=a.height/2:(o==="bottom"||d==="bottom")&&(m+=a.height/2);const l=a.width/v.width,f=a.height/v.height,g=Math.max(1,l,f),s=l/g||0,w=f/g||0,h=v.width*v.height/(window.innerWidth*window.innerHeight),k=h>.12?Math.min(1.5,(h-.12)*10+1):1;return{x:c-(n+v.left),y:m-(p+v.top),sx:s,sy:w,speed:k}}const Le="(?:a|e|i|iͧ|o|u|ä|å|ë|ö|ü|á|á̧|â|ä|å|é|ê|ë|í|î|ó|ô|ö|ú|û|ü|ā|ā́|ă|ą̂|ē|ĕ|ī|ı|ō|ŏ|ū|ŭ|ŭ́|ə|ə́|и|о|ю|ạ|ạ|ạ́|ậ|ắ|ẹ|ọ|ộ|ụ|ụ̂|а|о|у|э|ы|и|ь)",Re="(?:b|b́|c|c̄|d|f|f̣|g|h|j|k|k̇|l|m|n|n̄|p|p̄|p̣|q|q̣|r|r̄|r̄̄|s|s̄|t|t́|v|w|x|y|z|z̄|ç|ć|č|ğ|ġ|ģ|ķ|ń|ň|ŕ|ś|ŝ|ş|ş́|ş̇|š|ţ|ž|ǧ|ǧ̣|Ɂ|ɧ|ʔ|ʕ|ʕ́|ʕ̣|ʾ|ʿ|б|в|й|к|п|р|с|т|х|ҫ|ҫ́|ҫ̂|ҫ̄|ع|ḅ|ḇ|ḉ|ḍ|ḏ|ḏ̣|ḏ̣̣|ḥ|ḳ|ḳ̇|ḷ|ṃ|ṅ|ṇ|ṗ|ṛ|ṝ|ṡ|ṣ|ṫ|ṭ|ṯ|ẓ|ẖ|ﻉ)",Fe=new RegExp("[\\\\]v","gi"),qe=new RegExp("[\\\\]c","gi"),Ke=R.memoize(function(t){return t.replace(Fe,Le).replace(qe,Re)});class H{constructor(t){G(this,"_value");this._value=t||""}get value(){return this._value}set value(t){this._value=t||""}get valueNormalized(){return Ke(this.value)}get isEmpty(){return!this.value}get regex(){return RegExp(this.valueNormalized,"iu")}static instantiate(t){return new H(t)}}class mt{constructor(t){G(this,"data");this.data=R.mapValues(t,H.instantiate)}get searchersArr(){return R.values(this.data)}get areAllEmpty(){return this.searchersArr.every(t=>t.isEmpty)}get test(){return t=>R.keys(this.data).every(a=>this.data[a].regex.test(t[a]))}}const Oe=()=>{const e=me();return{language:B(()=>e.path.split("/")[1])}};var O=(e=>(e.turoyo="turoyo",e.urmi="urmi",e.maalula="maalula",e))(O||{});const He="a á ä ā b ḅ c č ç d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ ģ h ḥ i í î ī ı j k ḳ l m ṃ ň ṇ o ó ö p q r ṛ s š ṡ ş ṣ t ţ ṭ ṯ u ú ü ụ v w x y z ž ʔ ʕ",je=He.split(/\s+/),Ge="a ä b ʙ c č ç d e ǝ ə f g Ģ h i I ı j k l m n o ö p q r s ş ṣ ș t ţ ṭ ț u ü v w x y z ž ƶ а ә б в г д е ж з и й к л м н о п р с т у ф х һ ц ч ш щ ъ ы ь э ю я",We=Ge.split(/\s+/),Xe="ʔ ʕ a á ā b c ć č d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ h ḥ i í ī k ḳ l ḷ m n o ō p r s š ṣ t ṭ ṯ u ú ū w x y z ž ẓ",Ye=Xe.split(/\s+/),Ue={[O.turoyo]:je,[O.urmi]:We,[O.maalula]:Ye},_e=fe("keyboardStore",()=>{const{language:e}=Oe();return{letters:B(()=>Ue[e.value])}}),Je={class:"working-block"},Qe={class:"keyboard specific-keys"},Ze={class:"keyboard common-keys"},et={key:1,class:"submit-wrapper"},tt=U({__name:"Keyboard",props:{value:{default:""},inputName:{default:""},visible:{type:Boolean,default:!1},type:{default:"full"},inputEl:{default:null}},emits:["submit","update:visible"],setup(e,{emit:t}){const a=t,v=re(),n=Y(v,"isDark"),p=z(0),o=z(0),d=z(null),c=z(e.value),m=[String.raw`\v`,String.raw`\c`,"^","$","\\"],l=["⬅","space","del","backspace","⮕"],f=_e(),g=Y(f,"letters"),s=z(null);J(()=>{s.value=d.value||e.inputEl},{flush:"sync"}),J(()=>{c.value=e.value});function w(u){c.value=u,A()}function h(){a("update:visible",!1)}function k(){a("submit",c.value),h()}function A(){var u,r;p.value=((u=s.value)==null?void 0:u.selectionStart)||0,o.value=((r=s.value)==null?void 0:r.selectionEnd)||0}async function ue(){await Ce(20),A()}function j(u){if(!s.value)return;const r=c.value;p.value=s.value.selectionStart||0,o.value=s.value.selectionEnd||0;const{buttonValueMod:i,selectionStartMod:x,selectionEndMod:E}=ce({buttonValue:u,selectionStart:p.value,selectionEnd:o.value,existingValue:r});s.value.value=r.slice(0,x)+i+r.slice(E,r.length),c.value=s.value.value,s.value.focus(),p.value=s.value.selectionStart=x+i.length,o.value=s.value.selectionEnd=x+i.length,s.value.blur(),e.type==="service"&&a("submit",c.value)}pe(()=>{d.value=document.querySelector(".keyboard-wrapper .v-text-field input"),p.value=o.value=e.value.length});function ce({buttonValue:u,selectionStart:r,selectionEnd:i,existingValue:x}){let E,C=r,D=i;return u==="backspace"?(r>0&&r===i&&(C=r-1),E=""):u==="del"?(r<x.length&&r===i&&(D=i+1),E=""):u==="space"?E=" ":u==="⬅"?(r<i?D=r:(C=Math.max(0,r-1),D=C),E=""):u==="⮕"?(r<i?C=i:(C=Math.min(x.length,r+1),D=C),E=""):(E=u,C=r,D=i),{buttonValueMod:E,selectionStartMod:C,selectionEndMod:D}}return(u,r)=>u.visible?(y(),b("div",{key:0,class:P(["keyboard-wrapper",{full:u.type==="full",service:u.type==="service"}])},[u.type==="full"?(y(),b("div",{key:0,class:P(["close-button",{invert:n.value}])},[M("span",{class:"closer",onClick:h},"×")],2)):S("",!0),M("div",Je,[u.type==="full"?(y(),Q(Be,{key:0,label:u.inputName,"model-value":c.value,class:"input",density:"compact",variant:"outlined",clearable:"",onChange:w,onFocus:ue,onKeyup:ge(k,["enter","native"])},null,8,["label","model-value"])):S("",!0),M("div",Qe,[m?(y(),b(F,{key:0},q(m,i=>V(N,{key:i,color:"warning",variant:"outlined",class:P({invert:n.value}),rounded:"",onClick:x=>j(i)},{default:T(()=>[$(K(i),1)]),_:2},1032,["class","onClick"])),64)):S("",!0),g.value&&u.type==="full"?(y(!0),b(F,{key:1},q(g.value,i=>(y(),Q(N,{key:i,variant:"outlined",rounded:"",onClick:x=>j(i)},{default:T(()=>[$(K(i),1)]),_:2},1032,["onClick"]))),128)):S("",!0)]),M("div",Ze,[l&&u.type==="full"?(y(),b(F,{key:0},q(l,i=>V(N,{key:i,class:P({invert:n.value}),color:"teal",rounded:"",size:"large",variant:"outlined",onClick:x=>j(i)},{default:T(()=>[$(K(i),1)]),_:2},1032,["class","onClick"])),64)):S("",!0)]),u.type==="full"?(y(),b("div",et,[V(N,{class:"mr-5",variant:"outlined",onClick:h},{default:T(()=>r[0]||(r[0]=[$(" Cancel ")])),_:1}),V(N,{color:"primary",variant:"outlined",class:P({invert:n.value}),onClick:k},{default:T(()=>r[1]||(r[1]=[$(" Search ")])),_:1},8,["class"])])):S("",!0)])],2)):S("",!0)}}),ft=ie(tt,[["__scopeId","data-v-4229dc76"]]),at=["fill"],nt=U({__name:"KeyboardIcon",props:{tooltip:{type:String,default:"Click to open a virtual keyboard"}},emits:["click"],setup(e,{emit:t}){he(c=>({"343572bc":W(o),"75de9347":W(d)}));const a=e,v=t,n=z(!0),p=B(()=>!a.tooltip||!n.value),{darkGrey:o,lightBrown:d}=ee;return(c,m)=>(y(),b("span",{onClick:m[0]||(m[0]=l=>v("click"))},[V(Se,{disabled:p.value,text:e.tooltip,location:"bottom","open-delay":"500"},{activator:T(({props:l})=>[(y(),b("svg",I(l,{fill:W(ee).grey,class:"keyboard-icon-svg",height:"50px",viewBox:"0 0 24 24",width:"50px",xmlns:"http://www.w3.org/2000/svg"}),m[1]||(m[1]=[M("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"},null,-1)]),16,at))]),_:1},8,["disabled","text"])]))}}),pt=ie(nt,[["__scopeId","data-v-43d9ee52"]]),st=le({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ze({origin:"center center",scrollStrategy:"block",transition:{component:Ie},zIndex:2400})},"VDialog"),gt=oe()({name:"VDialog",props:st(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:v}=t;const n=ye(e,"modelValue"),{scopeId:p}=be(),o=z();function d(l){var s,w;const f=l.relatedTarget,g=l.target;if(f!==g&&((s=o.value)!=null&&s.contentEl)&&((w=o.value)!=null&&w.globalTop)&&![document,o.value.contentEl].includes(g)&&!o.value.contentEl.contains(g)){const h=Ve(o.value.contentEl);if(!h.length)return;const k=h[0],A=h[h.length-1];f===k?A.focus():k.focus()}}ke&&Z(()=>n.value&&e.retainFocus,l=>{l?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0});function c(){var l;a("afterEnter"),(l=o.value)!=null&&l.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function m(){a("afterLeave")}return Z(n,async l=>{var f;l||(await xe(),(f=o.value.activatorEl)==null||f.focus({preventScroll:!0}))}),we(()=>{const l=te.filterProps(e),f=I({"aria-haspopup":"dialog"},e.activatorProps),g=I({tabindex:-1},e.contentProps);return V(te,I({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},l,{modelValue:n.value,"onUpdate:modelValue":s=>n.value=s,"aria-modal":"true",activatorProps:f,contentProps:g,role:"dialog",onAfterEnter:c,onAfterLeave:m},p),{activator:v.activator,default:function(){for(var s=arguments.length,w=new Array(s),h=0;h<s;h++)w[h]=arguments[h];return V(Ee,{root:"VDialog"},{default:()=>{var k;return[(k=v.default)==null?void 0:k.call(v,...w)]}})}})}),$e({},o)}}),ht=U({__name:"GrepLine",props:{str:{default:""},searcher:{default:()=>new H},lineName:{default:""}},setup(e){const t=re(),a=Y(t,"isDark"),v=B(()=>!e.searcher||e.searcher.isEmpty?[e.str]:Ne(e.str,e.searcher.regex)),n=B(()=>e.lineName===X.title),p=B(()=>!e.lineName||e.lineName===X.textus),o=B(()=>e.lineName===X.versio),d=B(()=>({"line-title":n.value,textus:p.value,versio:o.value}));return(c,m)=>(y(),b("div",{class:P(d.value)},[(y(!0),b(F,null,q(v.value,(l,f)=>(y(),b("span",{key:f,class:P({highlight:f%2,invert:a.value})},K(l),3))),128))],2))}});export{pt as K,O as L,mt as S,Ie as V,ht as _,gt as a,ft as b,H as c,Oe as u};
