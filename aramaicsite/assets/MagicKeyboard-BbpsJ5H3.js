import{c as p,a9 as D,E as A,b as L,r as V,aI as M,aJ as N,aK as S,aL as w,o as y,f as m,k as g,F as h,p as E,l as _,m as K,n as I,g as T,i as P,h as W,V as F,aM as R,_ as $}from"./index-BS_Jxlmh.js";import{V as q}from"./VTextarea-BrC4-Eoy.js";import"./VInput-yODSrFJO.js";import"./forwardRefs-DWGaNmQL.js";const G=["input","textarea"],z=c=>p(()=>{if(!(c!=null&&c.value))return null;const n=c.value.$el;return G.map(i=>n.querySelector(i)).find(Boolean)}),J=(c,n)=>{const i=z(c),u=p(()=>{const o=i.value;if(o){const e=o.selectionStart||0;return n.value.slice(e-1,e)}return""}),d=p(()=>/\S/.test(u.value));async function f(o){const e=i.value;if(e){const a=e.selectionStart||0,r=e.selectionEnd||0;n.value=n.value.slice(0,a)+o+n.value.slice(r),await D(),e.setSelectionRange(a+o.length,a+o.length),e.focus(),e.focus()}}async function k(o){if(!d.value)return;const e=i.value;if(e){const a=e.selectionStart||0,r=e.selectionEnd||0,t=(u.value+o).normalize("NFC");n.value=n.value.slice(0,a-1)+t+n.value.slice(r),await D(),e.setSelectionRange(a+o.length,a+o.length),e.focus(),e.focus()}}return{previousLetter:u,hasPreviousLetter:d,insertText:f,combineText:k}},v={Digit1:{name:"Grave Accent",unicode:"̀",keySymbol:"1"},Digit2:{name:"Acute Accent",unicode:"́",keySymbol:"2"},Digit3:{name:"Circumflex",unicode:"̂",keySymbol:"3"},Digit4:{name:"Tilde",unicode:"̃",keySymbol:"4"},Digit5:{name:"Dot Below",unicode:"̣",keySymbol:"5"},Digit6:{name:"Breve",unicode:"̆",keySymbol:"6"},Digit7:{name:"Dot Above",unicode:"̇",keySymbol:"7"},Digit8:{name:"Diaeresis",unicode:"̈",keySymbol:"8"},Digit9:{name:"Ring Above",unicode:"̊",keySymbol:"9"},KeyV:{name:"Caron",unicode:"̌",keySymbol:"v"},Minus:{name:"Macron",unicode:"̄",keySymbol:"-"},Equal:{name:"Macron Below",unicode:"̱",keySymbol:"="},Comma:{name:"Cedilla",unicode:"̧",keySymbol:","}},x=A.keys(v),b={KeyA:{name:"Glottal Stop",unicode:"ʔ",keySymbol:"a"},KeyW:{name:"Ayn",unicode:"ʕ",keySymbol:"w"}},C=A.keys(b),U={class:"info-panel"},j={key:1,class:"array"},H={class:"symbol"},O=L({__name:"MagicKeyboard",setup(c){const n=V(null),i=V(""),{copy:u}=M({source:i}),{previousLetter:d,hasPreviousLetter:f,insertText:k,combineText:o}=J(n,i),e=N();S(n,()=>{var t;(t=n.value)==null||t.focus()}),w("keydown",t=>{[...x,...C].forEach(s=>{t.code===s&&t.altKey&&t.preventDefault()})}),x.forEach(t=>{const s=`alt_${t}`;S(e[s],()=>{o(v[t].unicode)})}),C.forEach(t=>{const s=`alt_${t}`;S(e[s],()=>{k(b[t].unicode)})});const a=p(()=>{if(!e.alt.value)return{text:"Press Alt to see the list of magic keys",type:0};const t=f.value?x.map(l=>({symbol:v[l].keySymbol,text:d.value+v[l].unicode})):[],s=C.map(l=>({symbol:b[l].keySymbol,text:b[l].unicode}));return{value:[...t,...s],type:1}});function r(){u().then(()=>{R.success("Copied to clipboard")})}return(t,s)=>(y(),m(h,null,[g("div",U,[a.value.type===0?(y(),m(h,{key:0},[E(_(a.value.text),1)],64)):K("",!0),a.value.type===1?(y(),m("div",j,[(y(!0),m(h,null,I(a.value.value,({symbol:l,text:B})=>(y(),m("div",{key:t.key},[g("div",H,_(l),1),g("div",null,_(B),1)]))),128))])):K("",!0)]),T(P(q),{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=l=>i.value=l),ref_key:"textarea",ref:n,placeholder:"Type something",rows:"10",clearable:"","hide-details":""},null,8,["modelValue"]),T(F,{variant:"outlined",class:"copy-button",onClick:r},{default:W(()=>s[1]||(s[1]=[E(" Copy to clipboard ")])),_:1})],64))}}),ee=$(O,[["__scopeId","data-v-7c1b5210"]]);export{ee as default};
