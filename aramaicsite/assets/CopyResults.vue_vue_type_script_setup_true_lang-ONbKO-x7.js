import{E as u,r as d,bI as r,b as i,t as p,o as m,D as y,h as l,g as f,j as g,am as _,V as b}from"./index-DzXSger0.js";import{s as C}from"./GrepLine.vue_vue_type_style_index_0_lang-B0f25d-_.js";function E(t){const e=document.createElement("div");e.contentEditable="true",e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.innerHTML=t;const n=document.createRange();n.selectNodeContents(e);const o=getSelection();o==null||o.removeAllRanges(),o==null||o.addRange(n),document.execCommand("copy"),document.body.removeChild(e),o==null||o.removeAllRanges()}function R(t){const e=u.map(t,"outerHTML").join("");E(e)}const v=()=>{const t=d(!1);return{loading:t,do:e};async function e(n){if(n>500){r.warning(`Too many results to copy!
Please narrow down your search.`),t.value=!1;return}t.value=!0,await C(100);const a=document.querySelector(".results .results-stats"),c=Array.from(document.querySelectorAll(".results .lines"));try{R([a,...c]),r.success("Search results successfully copied to clipboard!")}catch(s){r.error((s==null?void 0:s.message)||"Something went wrong â€” nothing copied!")}t.value=!1}},h=i({__name:"CopyResults",props:{count:{}},setup(t){const e=t,n=v(),o=p(n,"loading");function a(){n.do(e.count)}return(c,s)=>(m(),y(b,{disabled:!c.count,loading:o.value,class:"copy_btn",variant:"outlined",onClick:a},{default:l(()=>[f(_,{left:""},{default:l(()=>s[0]||(s[0]=[g("mdi-content-copy")])),_:1})]),_:1},8,["disabled","loading"]))}});export{h as _};
