import{B as ee,p as fe,l as ve,ag as me,a2 as xe,c as P,r as _,X as ge,w as he,ah as pe,Y as B,ai as ye,n as we,a9 as K,a8 as Ve,aj as Ce,h as l,N as Q,F as S,$ as re,a0 as ke,ak as _e,al as Se,am as be,b as Re,D as Te,o as C,e as R,f as k,C as A,i as D,V as N,an as $,u as G,k as E,g as W,A as Fe,_ as Ie}from"./index-B_HSBDPW.js";import{s as Pe}from"./syriacCorpusStore-CIwY7Bo-.js";import{a as ze,b as Be,u as Ae,V as ie,f as De,d as Ne,e as Ee}from"./VInput-0sdFV_nw.js";import{f as Me}from"./forwardRefs-DWGaNmQL.js";import"./axios-CCb-kr4I.js";import"./assets-MAykDCiX.js";const He="\\s\\n\\d\\.:<>\\{\\}\\(\\)#";function te(e){return RegExp(e,"g")}function Ue(e){const t=te("\\s");return e.replace(t,"")}function $e(e){return e.map(Ue)}function Ge(...e){return e.map($e)}function je(e,t){const o=e.map(te);return ee.zip(o,t)}function Oe(e,t){const o=`[^${t.join("")}${He}]`,m=te(o);return e.replace(m,"")}function Le(e,[t,o]){return e.replace(t,o)}function qe(e,t,o){if(t.length!==o.length){console.warn("Arrays of different length in multipleReplace");return}[t,o]=Ge(t,o);const m=je(t,o),c=Oe(e,t);return m.reduce(Le,c)}async function Xe(e){const t=document.querySelector(e);if(!t){console.warn("Textarea not found");return}const o=t.value;try{await navigator.clipboard.writeText(o)}catch(m){console.warn("Failed to copy: ",m)}}function Ye(e){const t=document.querySelector(e);if(!t){console.warn("Textarea not found");return}t.focus(),t.scrollTop=0,t.setSelectionRange(0,0)}const Je=fe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...ze(),...Be()},"VTextarea"),Z=ve()({name:"VTextarea",directives:{Intersect:me},inheritAttrs:!1,props:Je(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:o,emit:m,slots:c}=t;const u=xe(e,"modelValue"),{isFocused:h,focus:d,blur:j}=Ae(e),O=P(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),T=P(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function z(a,v){var s,g;!e.autofocus||!a||(g=(s=v[0].target)==null?void 0:s.focus)==null||g.call(s)}const F=_(),p=_(),M=ge(""),b=_(),L=P(()=>e.persistentPlaceholder||h.value||e.active);function I(){var a;b.value!==document.activeElement&&((a=b.value)==null||a.focus()),h.value||d()}function q(a){I(),m("click:control",a)}function X(a){m("mousedown:control",a)}function x(a){a.stopPropagation(),I(),K(()=>{u.value="",Se(e["onClick:clear"],a)})}function i(a){var s;const v=a.target;if(u.value=v.value,(s=e.modelModifiers)!=null&&s.trim){const g=[v.selectionStart,v.selectionEnd];K(()=>{v.selectionStart=g[0],v.selectionEnd=g[1]})}}const n=_(),r=_(+e.rows),f=P(()=>["plain","underlined"].includes(e.variant));he(()=>{e.autoGrow||(r.value=+e.rows)});function y(){e.autoGrow&&K(()=>{if(!n.value||!p.value)return;const a=getComputedStyle(n.value),v=getComputedStyle(p.value.$el),s=parseFloat(a.getPropertyValue("--v-field-padding-top"))+parseFloat(a.getPropertyValue("--v-input-padding-top"))+parseFloat(a.getPropertyValue("--v-field-padding-bottom")),g=n.value.scrollHeight,H=parseFloat(a.lineHeight),Y=Math.max(parseFloat(e.rows)*H+s,parseFloat(v.getPropertyValue("--v-input-control-height"))),J=parseFloat(e.maxRows)*H+s||1/0,V=be(g??0,Y,J);r.value=Math.floor((V-s)/H),M.value=Ve(V)})}pe(y),B(u,y),B(()=>e.rows,y),B(()=>e.maxRows,y),B(()=>e.density,y);let w;return B(n,a=>{a?(w=new ResizeObserver(y),w.observe(n.value)):w==null||w.disconnect()}),ye(()=>{w==null||w.disconnect()}),we(()=>{const a=!!(c.counter||e.counter||e.counterValue),v=!!(a||c.details),[s,g]=Ce(o),{modelValue:H,...Y}=ie.filterProps(e),J=De(e);return l(ie,Q({ref:F,modelValue:u.value,"onUpdate:modelValue":V=>u.value=V,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":f.value},e.class],style:e.style},s,Y,{centerAffix:r.value===1&&!f.value,focused:h.value}),{...c,default:V=>{let{id:U,isDisabled:ae,isDirty:ne,isReadonly:se,isValid:ce}=V;return l(Ne,Q({ref:p,style:{"--v-textarea-control-height":M.value},onClick:q,onMousedown:X,"onClick:clear":x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},J,{id:U.value,active:L.value||ne.value,centerAffix:r.value===1&&!f.value,dirty:ne.value||e.dirty,disabled:ae.value,focused:h.value,error:ce.value===!1}),{...c,default:ue=>{let{props:{class:oe,...le}}=ue;return l(S,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),re(l("textarea",Q({ref:b,class:oe,value:u.value,onInput:i,autofocus:e.autofocus,readonly:se.value,disabled:ae.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:I,onBlur:j},le,g),null),[[ke("intersect"),{handler:z},null,{once:!0}]]),e.autoGrow&&re(l("textarea",{class:[oe,"v-textarea__sizer"],id:`${le.id}-sizer`,"onUpdate:modelValue":de=>u.value=de,ref:n,readonly:!0,"aria-hidden":"true"},null),[[_e,u.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:v?V=>{var U;return l(S,null,[(U=c.details)==null?void 0:U.call(c,V),a&&l(S,null,[l("span",null,null),l(Ee,{active:e.persistentCounter||h.value,value:O.value,max:T.value,disabled:e.disabled},c.counter)])])}:void 0})}),Me({},F,p,b)}}),Ke={class:"action-buttons mb-7 d-flex justify-center"},Qe={class:"textareas d-flex"},We={class:"mr-5"},Ze={class:"ml-5"},et={class:"switchers d-flex justify-space-around mb-7"},tt={class:"switcher"},at={class:"switcher"},nt={class:"letters"},ot=Re({__name:"Transliteration",setup(e){const t=Te(),{translitArr:o,translitAnsiArr:m,originalLettersArr:c}=Pe,u=[{color:"warning",text:"Convert",action:L},{color:"info",text:"Clear all",action:I},{color:"info",text:"Defaults",action:q},{color:"success",text:"Copy to clipboard",action:X}],h={get chosenIndices(){return{direction:0,translitVariant:0}}},d=_(h.chosenIndices),j=["From Syriac","To Syriac"],O=["Unicode","Simple English"],T=_(""),z=_(""),F={source:"grey-lighten-5",target:"blue-grey-lighten-5"},p=P(()=>{const x=[c,d.value.translitVariant?m:o],i=x[d.value.direction],n=x[1-d.value.direction];return i.map((r,f)=>[i[f],n[f]])}),M=P(()=>[ee.map(p.value,"0"),ee.map(p.value,"1")]),b=(x,i)=>{d.value[i]=x};function L(){z.value=qe(T.value,...M.value),Ye(".textarea-left textarea")}function I(){T.value="",z.value=""}function q(){d.value=h.chosenIndices,I()}function X(){Xe(".textarea-right textarea")}return(x,i)=>(C(),R("div",{class:$(["container",{"is-dark":G(t).isDark}])},[k("div",Ke,[(C(),R(S,null,A(u,n=>l(N,{key:n.text,color:n.color,class:"ml-1",variant:"outlined",onClick:n.action},{default:D(()=>[E(W(n.text),1)]),_:2},1032,["color","onClick"])),64))]),k("div",Qe,[k("div",We,[l(N,{variant:"outlined",class:"no-mouse"},{default:D(()=>i[1]||(i[1]=[E("Source text")])),_:1}),l(Z,{modelValue:T.value,"onUpdate:modelValue":i[0]||(i[0]=n=>T.value=n),class:$([{"textarea-syriac":!d.value.direction,invert:G(t).isDark},"textarea-left textarea"]),"bg-color":"grey-lighten-5","no-resize":"",placeholder:"Change the conversion direction if needed, type or paste the text and press Convert",rows:"15",variant:"outlined"},null,8,["modelValue","class"])]),k("div",Ze,[l(N,{variant:"outlined",class:"no-mouse"},{default:D(()=>i[2]||(i[2]=[E("Target text")])),_:1}),l(Z,{"model-value":z.value,"bg-color":F.target,class:$([{"textarea-syriac":d.value.direction,invert:G(t).isDark},"textarea-right textarea"]),rows:"15","no-resize":"",variant:"outlined"},null,8,["model-value","bg-color","class"])])]),k("div",et,[k("div",tt,[(C(),R(S,null,A(j,(n,r)=>l(N,{key:r,variant:r===d.value.direction?"outlined":"text",onClick:f=>b(r,"direction")},{default:D(()=>[E(W(n),1)]),_:2},1032,["variant","onClick"])),64))]),k("div",at,[(C(),R(S,null,A(O,(n,r)=>l(N,{key:r,variant:r===d.value.translitVariant?"outlined":"text",onClick:f=>b(r,"translitVariant")},{default:D(()=>[E(W(n),1)]),_:2},1032,["variant","onClick"])),64))])]),k("div",nt,[(C(!0),R(S,null,A(p.value,(n,r)=>(C(),R("div",{class:"wrapper",key:r},[(C(!0),R(S,null,A(n,(f,y)=>(C(),Fe(Z,{rows:"1",cols:"1",class:$(["mr-1 mb-1",{invert:G(t).isDark}]),value:f,key:f,"hide-details":!0,"bg-color":y?F.target:F.source,maxlength:2,"no-resize":"",variant:"outlined"},null,8,["class","value","bg-color"]))),128))]))),128))])],2))}}),dt=Ie(ot,[["__scopeId","data-v-454ecfd0"]]);export{dt as default};
