import{_ as k}from"./InfiniteScroll-DXszk9mb.js";import{_ as w,K,a as N,b as B}from"./VDialog-D45-CwbN.js";import{_ as I,o as l,b as u,t as V,e as b,d as m,l as M,w as g,F as C,n as $,c,r as f,i as x,P as F,ac as L,a2 as T,f as U,h as A,V as D,k as E}from"./index-CuWP80Oz.js";import{V as G}from"./VTextField-uDljaBaX.js";const P={name:"SearchResults",props:["linesMatching","searcherString","disableInfiniteScroll"],components:{GrepLine:w,InfiniteScroll:k}},q={class:"search-results"},O={key:0,class:"results-stats",style:{color:"brown","font-weight":"bold"}},R={key:0,style:{color:"blueviolet"}};function j(h,o,e,y,S,d){const r=w,_=k;return l(),u("div",q,[e.searcherString?(l(),u("div",O," Number of lines in output: "+V(e.linesMatching.length),1)):b("",!0),o[1]||(o[1]=m("br",null,null,-1)),e.linesMatching?(l(),M(_,{key:1,items:e.linesMatching,disable:e.linesMatching.length<500||e.disableInfiniteScroll,class:"search-results-box"},{default:g(({items:p})=>[(l(!0),u(C,null,$(p,({line:n,title:a},v)=>(l(),u("div",{key:v},[a?(l(),u("div",R,V(a),1)):b("",!0),c(r,{str:n,searcher:e.searcherString},null,8,["str","searcher"]),o[0]||(o[0]=m("br",null,null,-1))]))),128))]),_:1},8,["items","disable"])):b("",!0)])}const ee=I(P,[["render",j],["__scopeId","data-v-140be2a5"]]),z={class:"searcher align-center flex-column"},H={class:"searchers d-flex"},J={class:"input-wrapper"},Q={__name:"Searcher",props:{searcherString:String,corpusName:String},emits:["searcher-string"],setup(h,{emit:o}){const e=h,y=o,S=f(null),d=f(""),r=f(!1),_=[t=>t?!0:"Search string should not be empty"],p=x(()=>E().getters.buttonsArrayByCorpus(e.corpusName)),n=x({get:()=>d.value,set:t=>{d.value=typeof t=="string"?t:"",d.value||a()}}),a=()=>{y("searcher-string",n.value)},v=t=>{n.value=t,a()};return F(()=>e.searcherString,t=>{n.value=t}),L(async()=>{await T(),S.value=document.querySelector(".v-text-field input")}),(t,s)=>(l(),u("div",z,[m("div",H,[c(K,{onClick:s[0]||(s[0]=i=>r.value=!0)}),m("div",J,[c(G,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=i=>n.value=i),rules:_,autocomplete:"off",label:"Search string",color:"primary",variant:"outlined",density:"compact",clearable:"",onKeyup:U(a,["enter"])},null,8,["modelValue"])]),c(D,{ref:"search_btn",disabled:!n.value,variant:"outlined",onClick:a},{default:g(()=>s[4]||(s[4]=[A(" Search ")])),_:1},8,["disabled"])]),c(B,{modelValue:r.value,"onUpdate:modelValue":s[3]||(s[3]=i=>r.value=i),"hide-overlay":"",fullscreen:""},{default:g(()=>[c(N,{visible:r.value,buttons:p.value,value:n.value,"input-name":"Search string",onSubmit:v,"onUpdate:visible":s[2]||(s[2]=i=>r.value=i)},null,8,["visible","buttons","value"])]),_:1},8,["modelValue"])]))}},te=I(Q,[["__scopeId","data-v-46199c9a"]]);export{te as _,ee as a};
