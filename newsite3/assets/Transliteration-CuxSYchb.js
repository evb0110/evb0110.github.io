import{x as ee,p as fe,g as ve,ae as me,a0 as xe,z as P,r as k,U as ge,af as he,ag as pe,W as B,ah as ye,u as we,a7 as J,a6 as Ve,ai as Ce,c as l,L as K,F as S,Y as re,Z as _e,aj as ke,ak as Se,al as be,d as Re,B as Te,o as C,f as R,h as _,A,w as D,V as N,am as G,l as $,q as E,i as Q,v as Fe,_ as Ie}from"./index-DBJ6N_72.js";import{s as Pe}from"./syriacCorpusStore-CROupB2C.js";import{a as ze,b as Be,u as Ae,V as ie,f as De,d as Ne,e as Ee}from"./VInput-TeX3jYrV.js";import{f as Me}from"./forwardRefs-DWGaNmQL.js";import"./axios-CCb-kr4I.js";import"./assets-BGcakdoF.js";const He="\\s\\n\\d\\.:<>\\{\\}\\(\\)#";function te(e){return RegExp(e,"g")}function Ue(e){const t=te("\\s");return e.replace(t,"")}function Ge(e){return e.map(Ue)}function $e(...e){return e.map(Ge)}function je(e,t){const o=e.map(te);return ee.zip(o,t)}function Le(e,t){const o=`[^${t.join("")}${He}]`,m=te(o);return e.replace(m,"")}function Oe(e,[t,o]){return e.replace(t,o)}function qe(e,t,o){if(t.length!==o.length){console.warn("Arrays of different length in multipleReplace");return}[t,o]=$e(t,o);const m=je(t,o),c=Le(e,t);return m.reduce(Oe,c)}async function We(e){const t=document.querySelector(e);if(!t){console.warn("Textarea not found");return}const o=t.value;try{await navigator.clipboard.writeText(o)}catch(m){console.warn("Failed to copy: ",m)}}function Ye(e){const t=document.querySelector(e);if(!t){console.warn("Textarea not found");return}t.focus(),t.scrollTop=0,t.setSelectionRange(0,0)}const Ze=fe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...ze(),...Be()},"VTextarea"),X=ve()({name:"VTextarea",directives:{Intersect:me},inheritAttrs:!1,props:Ze(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:o,emit:m,slots:c}=t;const u=xe(e,"modelValue"),{isFocused:h,focus:d,blur:j}=Ae(e),L=P(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),T=P(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function z(a,v){var s,g;!e.autofocus||!a||(g=(s=v[0].target)==null?void 0:s.focus)==null||g.call(s)}const F=k(),p=k(),M=ge(""),b=k(),O=P(()=>e.persistentPlaceholder||h.value||e.active);function I(){var a;b.value!==document.activeElement&&((a=b.value)==null||a.focus()),h.value||d()}function q(a){I(),m("click:control",a)}function W(a){m("mousedown:control",a)}function x(a){a.stopPropagation(),I(),J(()=>{u.value="",Se(e["onClick:clear"],a)})}function i(a){var s;const v=a.target;if(u.value=v.value,(s=e.modelModifiers)!=null&&s.trim){const g=[v.selectionStart,v.selectionEnd];J(()=>{v.selectionStart=g[0],v.selectionEnd=g[1]})}}const n=k(),r=k(+e.rows),f=P(()=>["plain","underlined"].includes(e.variant));he(()=>{e.autoGrow||(r.value=+e.rows)});function y(){e.autoGrow&&J(()=>{if(!n.value||!p.value)return;const a=getComputedStyle(n.value),v=getComputedStyle(p.value.$el),s=parseFloat(a.getPropertyValue("--v-field-padding-top"))+parseFloat(a.getPropertyValue("--v-input-padding-top"))+parseFloat(a.getPropertyValue("--v-field-padding-bottom")),g=n.value.scrollHeight,H=parseFloat(a.lineHeight),Y=Math.max(parseFloat(e.rows)*H+s,parseFloat(v.getPropertyValue("--v-input-control-height"))),Z=parseFloat(e.maxRows)*H+s||1/0,V=be(g??0,Y,Z);r.value=Math.floor((V-s)/H),M.value=Ve(V)})}pe(y),B(u,y),B(()=>e.rows,y),B(()=>e.maxRows,y),B(()=>e.density,y);let w;return B(n,a=>{a?(w=new ResizeObserver(y),w.observe(n.value)):w==null||w.disconnect()}),ye(()=>{w==null||w.disconnect()}),we(()=>{const a=!!(c.counter||e.counter||e.counterValue),v=!!(a||c.details),[s,g]=Ce(o),{modelValue:H,...Y}=ie.filterProps(e),Z=De(e);return l(ie,K({ref:F,modelValue:u.value,"onUpdate:modelValue":V=>u.value=V,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":f.value},e.class],style:e.style},s,Y,{centerAffix:r.value===1&&!f.value,focused:h.value}),{...c,default:V=>{let{id:U,isDisabled:ae,isDirty:ne,isReadonly:se,isValid:ce}=V;return l(Ne,K({ref:p,style:{"--v-textarea-control-height":M.value},onClick:q,onMousedown:W,"onClick:clear":x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Z,{id:U.value,active:O.value||ne.value,centerAffix:r.value===1&&!f.value,dirty:ne.value||e.dirty,disabled:ae.value,focused:h.value,error:ce.value===!1}),{...c,default:ue=>{let{props:{class:oe,...le}}=ue;return l(S,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),re(l("textarea",K({ref:b,class:oe,value:u.value,onInput:i,autofocus:e.autofocus,readonly:se.value,disabled:ae.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:I,onBlur:j},le,g),null),[[_e("intersect"),{handler:z},null,{once:!0}]]),e.autoGrow&&re(l("textarea",{class:[oe,"v-textarea__sizer"],id:`${le.id}-sizer`,"onUpdate:modelValue":de=>u.value=de,ref:n,readonly:!0,"aria-hidden":"true"},null),[[ke,u.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:v?V=>{var U;return l(S,null,[(U=c.details)==null?void 0:U.call(c,V),a&&l(S,null,[l("span",null,null),l(Ee,{active:e.persistentCounter||h.value,value:L.value,max:T.value,disabled:e.disabled},c.counter)])])}:void 0})}),Me({},F,p,b)}}),Je={class:"action-buttons mb-7 d-flex justify-center"},Ke={class:"textareas d-flex"},Qe={class:"mr-5"},Xe={class:"ml-5"},et={class:"switchers d-flex justify-space-around mb-7"},tt={class:"switcher"},at={class:"switcher"},nt={class:"letters"},ot=Re({__name:"Transliteration",setup(e){const t=Te(),{translitArr:o,translitAnsiArr:m,originalLettersArr:c}=Pe,u=[{color:"warning",text:"Convert",action:O},{color:"info",text:"Clear all",action:I},{color:"info",text:"Defaults",action:q},{color:"success",text:"Copy to clipboard",action:W}],h={get chosenIndices(){return{direction:0,translitVariant:0}}},d=k(h.chosenIndices),j=["From Syriac","To Syriac"],L=["Unicode","Simple English"],T=k(""),z=k(""),F={source:"grey-lighten-5",target:"blue-grey-lighten-5"},p=P(()=>{const x=[c,d.value.translitVariant?m:o],i=x[d.value.direction],n=x[1-d.value.direction];return i.map((r,f)=>[i[f],n[f]])}),M=P(()=>[ee.map(p.value,"0"),ee.map(p.value,"1")]),b=(x,i)=>{d.value[i]=x};function O(){z.value=qe(T.value,...M.value),Ye(".textarea-left textarea")}function I(){T.value="",z.value=""}function q(){d.value=h.chosenIndices,I()}function W(){We(".textarea-right textarea")}return(x,i)=>(C(),R("div",{class:G(["container",{"is-dark":$(t).isDark}])},[_("div",Je,[(C(),R(S,null,A(u,n=>l(N,{key:n.text,color:n.color,class:"ml-1",variant:"outlined",onClick:n.action},{default:D(()=>[E(Q(n.text),1)]),_:2},1032,["color","onClick"])),64))]),_("div",Ke,[_("div",Qe,[l(N,{variant:"outlined",class:"no-mouse"},{default:D(()=>i[1]||(i[1]=[E("Source text")])),_:1}),l(X,{modelValue:T.value,"onUpdate:modelValue":i[0]||(i[0]=n=>T.value=n),class:G([{"textarea-syriac":!d.value.direction,invert:$(t).isDark},"textarea-left textarea"]),"bg-color":"grey-lighten-5","no-resize":"",placeholder:"Change the conversion direction if needed, type or paste the text and press Convert",rows:"15",variant:"outlined"},null,8,["modelValue","class"])]),_("div",Xe,[l(N,{variant:"outlined",class:"no-mouse"},{default:D(()=>i[2]||(i[2]=[E("Target text")])),_:1}),l(X,{"model-value":z.value,"bg-color":F.target,class:G([{"textarea-syriac":d.value.direction,invert:$(t).isDark},"textarea-right textarea"]),rows:"15","no-resize":"",variant:"outlined"},null,8,["model-value","bg-color","class"])])]),_("div",et,[_("div",tt,[(C(),R(S,null,A(j,(n,r)=>l(N,{key:r,variant:r===d.value.direction?"outlined":"text",onClick:f=>b(r,"direction")},{default:D(()=>[E(Q(n),1)]),_:2},1032,["variant","onClick"])),64))]),_("div",at,[(C(),R(S,null,A(L,(n,r)=>l(N,{key:r,variant:r===d.value.translitVariant?"outlined":"text",onClick:f=>b(r,"translitVariant")},{default:D(()=>[E(Q(n),1)]),_:2},1032,["variant","onClick"])),64))])]),_("div",nt,[(C(!0),R(S,null,A(p.value,(n,r)=>(C(),R("div",{class:"wrapper",key:r},[(C(!0),R(S,null,A(n,(f,y)=>(C(),Fe(X,{rows:"1",cols:"1",class:G(["mr-1 mb-1",{invert:$(t).isDark}]),value:f,key:f,"hide-details":!0,"bg-color":y?F.target:F.source,maxlength:2,"no-resize":"",variant:"outlined"},null,8,["class","value","bg-color"]))),128))]))),128))])],2))}}),dt=Ie(ot,[["__scopeId","data-v-f52ce1dc"]]);export{dt as default};
