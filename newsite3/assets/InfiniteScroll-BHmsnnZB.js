import{p as k,a as y,ap as p,I as g,b8 as v,g as _,aa as V,ar as b,W as z,u as L,S as B,T as M,c as h,a0 as N,_ as P,x as S,b as s,F as i,q as u,o as a,bU as d,n as D,w as I,d as T}from"./index-CT75iCmw.js";const w=k({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...y(),...p(),...g(),...v({transition:"fade-transition"})},"VLazy"),x=_()({name:"VLazy",directives:{intersect:V},props:w(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:n}=c;const{dimensionStyles:m}=b(e),r=z(e,"modelValue");function o(t){r.value||(r.value=t)}return L(()=>B(h(e.tag,{class:["v-lazy",e.class],style:[m.value,e.style]},{default:()=>[r.value&&h(N,{transition:e.transition,appear:!0},{default:()=>{var t;return[(t=n.default)==null?void 0:t.call(n)]}})]}),[[M("intersect"),{handler:o,options:e.options},null]])),{}}}),C={name:"InfiniteScroll",props:{items:{default:()=>[]},chunkSize:{default:50},threshold:{default:.3},minHeight:{default:200},disable:{type:Boolean,default:!1},eagerNumber:{type:Number,default:3}},data(){return{scrollModel:[]}},computed:{chunks(){return S.chunk(this.items,this.chunkSize)},chunksEager(){return this.chunks.slice(0,this.eagerNumber)},chunksLazy(){return this.chunks.slice(this.eagerNumber)}}},E={key:0},F={key:1};function U(e,c,n,m,r,o){return a(),s("div",null,[n.disable?(a(),s("div",F,[(a(!0),s(i,null,u(o.chunks,(t,l)=>(a(),s("div",{key:"chunk"+l},[d(e.$slots,"default",{items:t})]))),128))])):(a(),s("div",E,[(a(!0),s(i,null,u(o.chunksEager,(t,l)=>(a(),s("div",{key:"eager"+l},[d(e.$slots,"default",{items:t})]))),128)),(a(!0),s(i,null,u(o.chunksLazy,(t,l)=>(a(),D(x,{modelValue:r.scrollModel[l],"onUpdate:modelValue":f=>r.scrollModel[l]=f,key:"chunk"+l,options:{threshold:n.threshold},"min-height":n.minHeight},{default:I(()=>[T("div",null,[d(e.$slots,"default",{items:t})])]),_:2},1032,["modelValue","onUpdate:modelValue","options","min-height"]))),128))]))])}const j=P(C,[["render",U]]);export{j as _};
