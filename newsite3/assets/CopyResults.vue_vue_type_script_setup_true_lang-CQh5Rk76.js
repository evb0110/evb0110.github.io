import{x as l,r as d,bt as c,d as u,t as i,o as p,v as m,w as y,V as f,q as g}from"./index-CtFqdlZg.js";import{s as C}from"./sleep-mAKpSMLY.js";function b(t){const e=document.createElement("div");e.contentEditable="true",e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.innerHTML=t;const n=document.createRange();n.selectNodeContents(e);const o=getSelection();o==null||o.removeAllRanges(),o==null||o.addRange(n),document.execCommand("copy"),document.body.removeChild(e),o==null||o.removeAllRanges()}function _(t){const e=l.map(t,"outerHTML").join("");b(e)}const E=()=>{const t=d(!1);return{loading:t,do:e};async function e(n){if(n>500){c.warning(`Too many results to copy!
Please narrow down your search.`),t.value=!1;return}t.value=!0,await C(100);const a=document.querySelector(".results .results-stats"),r=Array.from(document.querySelectorAll(".results .lines"));try{_([a,...r]),c.success("Search results successfully copied to clipboard!")}catch(s){c.error((s==null?void 0:s.message)||"Something went wrong â€” nothing copied!")}t.value=!1}},w=u({__name:"CopyResults",props:{count:{}},setup(t){const e=t,n=E(),o=i(n,"loading");function a(){n.do(e.count)}return(r,s)=>(p(),m(f,{disabled:!r.count,loading:o.value,class:"copy_btn mr-10 mb-2","min-width":"220px",variant:"outlined",onClick:a},{default:y(()=>s[0]||(s[0]=[g(" Copy to Clipboard ")])),_:1},8,["disabled","loading"]))}});export{w as _};
