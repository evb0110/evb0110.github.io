import{A as Q,p as de,g as fe,ad as ve,Z as me,v as F,r as V,S as xe,ae as ge,af as he,T as N,ag as pe,u as ye,ah as we,c as o,J as W,F as _,W as oe,X as Ve,ai as _e,a5 as X,aj as Ce,a4 as ke,ak as Se,d as be,o as y,f as C,i as w,x as E,w as M,k as H,t as Z,V as D,al as le,s as Re,_ as Te}from"./index-eAgdvAXd.js";import{s as Fe}from"./syriacCorpusStore-DeG5Iotd.js";import{a as Ie,b as Pe,u as ze,V as re,f as Ae,d as Be,e as Ne}from"./VInput-r8P_vTMa.js";import{f as Ee}from"./forwardRefs-DWGaNmQL.js";const Me="\\s\\n\\d\\.:<>\\{\\}\\(\\)#";function Y(e){return RegExp(e,"g")}function He(e){const t=Y("\\s");return e.replace(t,"")}function De(e){return e.map(He)}function Ue(...e){return e.map(De)}function Ge(e,t){const n=e.map(Y);return Q.zip(n,t)}function $e(e,t){const n=`[^${t.join("")}${Me}]`,m=Y(n);return e.replace(m,"")}function je(e,[t,n]){return e.replace(t,n)}function Oe(e,t,n){if(t.length!==n.length){console.warn("Arrays of different length in multipleReplace");return}[t,n]=Ue(t,n);const m=Ge(t,n),d=$e(e,t);return m.reduce(je,d)}async function Le(e){const t=document.querySelector(e);if(!t){console.warn("Textarea not found");return}const n=t.value;try{await navigator.clipboard.writeText(n)}catch(m){console.warn("Failed to copy: ",m)}}function qe(e){const t=document.querySelector(e);if(!t){console.warn("Textarea not found");return}t.focus(),t.scrollTop=0,t.setSelectionRange(0,0)}const Je=de({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ie(),...Pe()},"VTextarea"),K=fe()({name:"VTextarea",directives:{Intersect:ve},inheritAttrs:!1,props:Je(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:m,slots:d}=t;const s=me(e,"modelValue"),{isFocused:i,focus:j,blur:O}=ze(e),k=F(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),I=F(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function P(a,v){var u,g;!e.autofocus||!a||(g=(u=v[0].target)==null?void 0:u.focus)==null||g.call(u)}const S=V(),b=V(),z=xe(""),R=V(),U=F(()=>e.persistentPlaceholder||i.value||e.active);function A(){var a;R.value!==document.activeElement&&((a=R.value)==null||a.focus()),i.value||j()}function L(a){A(),m("click:control",a)}function x(a){m("mousedown:control",a)}function c(a){a.stopPropagation(),A(),X(()=>{s.value="",Ce(e["onClick:clear"],a)})}function r(a){var u;const v=a.target;if(s.value=v.value,(u=e.modelModifiers)!=null&&u.trim){const g=[v.selectionStart,v.selectionEnd];X(()=>{v.selectionStart=g[0],v.selectionEnd=g[1]})}}const l=V(),f=V(+e.rows),B=F(()=>["plain","underlined"].includes(e.variant));ge(()=>{e.autoGrow||(f.value=+e.rows)});function T(){e.autoGrow&&X(()=>{if(!l.value||!b.value)return;const a=getComputedStyle(l.value),v=getComputedStyle(b.value.$el),u=parseFloat(a.getPropertyValue("--v-field-padding-top"))+parseFloat(a.getPropertyValue("--v-input-padding-top"))+parseFloat(a.getPropertyValue("--v-field-padding-bottom")),g=l.value.scrollHeight,G=parseFloat(a.lineHeight),q=Math.max(parseFloat(e.rows)*G+u,parseFloat(v.getPropertyValue("--v-input-control-height"))),J=parseFloat(e.maxRows)*G+u||1/0,p=Se(g??0,q,J);f.value=Math.floor((p-u)/G),z.value=ke(p)})}he(T),N(s,T),N(()=>e.rows,T),N(()=>e.maxRows,T),N(()=>e.density,T);let h;return N(l,a=>{a?(h=new ResizeObserver(T),h.observe(l.value)):h==null||h.disconnect()}),pe(()=>{h==null||h.disconnect()}),ye(()=>{const a=!!(d.counter||e.counter||e.counterValue),v=!!(a||d.details),[u,g]=we(n),{modelValue:G,...q}=re.filterProps(e),J=Ae(e);return o(re,W({ref:S,modelValue:s.value,"onUpdate:modelValue":p=>s.value=p,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":B.value},e.class],style:e.style},u,q,{centerAffix:f.value===1&&!B.value,focused:i.value}),{...d,default:p=>{let{id:$,isDisabled:ee,isDirty:te,isReadonly:ie,isValid:se}=p;return o(Be,W({ref:b,style:{"--v-textarea-control-height":z.value},onClick:L,onMousedown:x,"onClick:clear":c,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},J,{id:$.value,active:U.value||te.value,centerAffix:f.value===1&&!B.value,dirty:te.value||e.dirty,disabled:ee.value,focused:i.value,error:se.value===!1}),{...d,default:ce=>{let{props:{class:ae,...ne}}=ce;return o(_,null,[e.prefix&&o("span",{class:"v-text-field__prefix"},[e.prefix]),oe(o("textarea",W({ref:R,class:ae,value:s.value,onInput:r,autofocus:e.autofocus,readonly:ie.value,disabled:ee.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:A,onBlur:O},ne,g),null),[[Ve("intersect"),{handler:P},null,{once:!0}]]),e.autoGrow&&oe(o("textarea",{class:[ae,"v-textarea__sizer"],id:`${ne.id}-sizer`,"onUpdate:modelValue":ue=>s.value=ue,ref:l,readonly:!0,"aria-hidden":"true"},null),[[_e,s.value]]),e.suffix&&o("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:v?p=>{var $;return o(_,null,[($=d.details)==null?void 0:$.call(d,p),a&&o(_,null,[o("span",null,null),o(Ne,{active:e.persistentCounter||i.value,value:k.value,max:I.value,disabled:e.disabled},d.counter)])])}:void 0})}),Ee({},S,b,R)}}),We={class:"container"},Xe={class:"action-buttons mb-7 d-flex justify-center"},Ze={class:"textareas d-flex"},Ke={class:"mr-5"},Qe={class:"ml-5"},Ye={class:"switchers d-flex justify-space-around mb-7"},et={class:"switcher"},tt={class:"switcher"},at={class:"letters"},nt=be({__name:"Transliteration",setup(e){const{translitArr:t,translitAnsiArr:n,originalLettersArr:m}=Fe,d=[{color:"warning",text:"Convert",action:R},{color:"info",text:"Clear all",action:U},{color:"info",text:"Defaults",action:A},{color:"success",text:"Copy to clipboard",action:L}],s={get chosenIndices(){return{direction:0,translitVariant:0}}},i=V(s.chosenIndices),j=["From Syriac","To Syriac"],O=["Unicode","Simple English"],k=V(""),I=V(""),P={source:"grey-lighten-5",target:"blue-grey-lighten-5"},S=F(()=>{const x=[m,i.value.translitVariant?n:t],c=x[i.value.direction],r=x[1-i.value.direction];return c.map((l,f)=>[c[f],r[f]])}),b=F(()=>[Q.map(S.value,"0"),Q.map(S.value,"1")]),z=(x,c)=>{i.value[c]=x};function R(){I.value=Oe(k.value,...b.value),qe(".textarea-left textarea")}function U(){k.value="",I.value=""}function A(){i.value=s.chosenIndices,U()}function L(){Le(".textarea-right textarea")}return(x,c)=>(y(),C("div",We,[w("div",Xe,[(y(),C(_,null,E(d,r=>o(D,{key:r.text,color:r.color,class:"ml-1",variant:"outlined",onClick:r.action},{default:M(()=>[H(Z(r.text),1)]),_:2},1032,["color","onClick"])),64))]),w("div",Ze,[w("div",Ke,[o(D,{variant:"outlined",class:"no-mouse"},{default:M(()=>c[1]||(c[1]=[H("Source text")])),_:1}),o(K,{modelValue:k.value,"onUpdate:modelValue":c[0]||(c[0]=r=>k.value=r),class:le([{"textarea-syriac":!i.value.direction},"textarea-left textarea"]),"bg-color":"grey-lighten-5","no-resize":"",placeholder:"Change the conversion direction if needed, type or paste the text and press Convert",rows:"15",variant:"outlined"},null,8,["modelValue","class"])]),w("div",Qe,[o(D,{variant:"outlined",class:"no-mouse"},{default:M(()=>c[2]||(c[2]=[H("Target text")])),_:1}),o(K,{"model-value":I.value,"bg-color":P.target,class:le([i.value.direction?"textarea-syriac":"","textarea-right textarea"]),rows:"15","no-resize":"",variant:"outlined"},null,8,["model-value","bg-color","class"])])]),w("div",Ye,[w("div",et,[(y(),C(_,null,E(j,(r,l)=>o(D,{key:l,variant:l===i.value.direction?"outlined":"text",onClick:f=>z(l,"direction")},{default:M(()=>[H(Z(r),1)]),_:2},1032,["variant","onClick"])),64))]),w("div",tt,[(y(),C(_,null,E(O,(r,l)=>o(D,{key:l,variant:l===i.value.translitVariant?"outlined":"text",onClick:f=>z(l,"translitVariant")},{default:M(()=>[H(Z(r),1)]),_:2},1032,["variant","onClick"])),64))])]),w("div",at,[(y(!0),C(_,null,E(S.value,(r,l)=>(y(),C("div",{class:"wrapper",key:l},[(y(!0),C(_,null,E(r,(f,B)=>(y(),Re(K,{rows:"1",cols:"1",class:"mr-1 mb-1",value:f,key:f,"hide-details":!0,"bg-color":B?P.target:P.source,maxlength:2,"no-resize":"",variant:"outlined"},null,8,["value","bg-color"]))),128))]))),128))])]))}}),st=Te(nt,[["__scopeId","data-v-ee52c61c"]]);export{st as default};
