var le=Object.defineProperty;var ce=(e,t,a)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var j=(e,t,a)=>ce(e,typeof t!="symbol"?t+"":t,a);import{g as ne,c as w,L as N,bu as U,p as se,x as R,bk as ue,z as S,y as ve,d as Y,B as oe,t as X,r as A,ag as de,o as V,f as C,h as B,am as _,n as me,F as I,A as F,w as P,q as D,i as q,V as $,j as L,v as fe,_ as re,bv as ge,l as G,G as pe,H as he,a0 as ye,ab as be,aC as xe,W as J,u as ke,at as we,a7 as Ve,b1 as Ee,bw as W}from"./index-DBJ6N_72.js";import{s as Ce}from"./sleep-mAKpSMLY.js";import{V as Be}from"./VTextField-CkiKLkOk.js";import{C as Q}from"./Color-l8zxla4Y.js";import{V as Se,m as ze,b as Z}from"./VTooltip-CrHxlBof.js";import{a as M,d as Pe,s as ee,b as Ae,g as _e,n as Te,f as De}from"./forwardRefs-DWGaNmQL.js";import{b as $e}from"./betterSplit-CW8NIeFU.js";const Le=se({target:[Object,Array]},"v-dialog-transition"),Me=ne()({name:"VDialogTransition",props:Le(),setup(e,t){let{slots:a}=t;const u={onBeforeEnter(n){n.style.pointerEvents="none",n.style.visibility="hidden"},async onEnter(n,g){var f;await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>requestAnimationFrame(c)),n.style.visibility="";const{x:s,y:l,sx:v,sy:d,speed:o}=ae(e.target,n),m=M(n,[{transform:`translate(${s}px, ${l}px) scale(${v}, ${d})`,opacity:0},{}],{duration:225*o,easing:Pe});(f=te(n))==null||f.forEach(c=>{M(c,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*o,easing:ee})}),m.finished.then(()=>g())},onAfterEnter(n){n.style.removeProperty("pointer-events")},onBeforeLeave(n){n.style.pointerEvents="none"},async onLeave(n,g){var f;await new Promise(c=>requestAnimationFrame(c));const{x:s,y:l,sx:v,sy:d,speed:o}=ae(e.target,n);M(n,[{},{transform:`translate(${s}px, ${l}px) scale(${v}, ${d})`,opacity:0}],{duration:125*o,easing:Ae}).finished.then(()=>g()),(f=te(n))==null||f.forEach(c=>{M(c,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*o,easing:ee})})},onAfterLeave(n){n.style.removeProperty("pointer-events")}};return()=>e.target?w(U,N({name:"dialog-transition"},u,{css:!1}),a):w(U,{name:"dialog-transition"},a)}});function te(e){var a;const t=(a=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:a.children;return t&&[...t]}function ae(e,t){const a=_e(e),u=Te(t),[n,g]=getComputedStyle(t).transformOrigin.split(" ").map(T=>parseFloat(T)),[s,l]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let v=a.left+a.width/2;s==="left"||l==="left"?v-=a.width/2:(s==="right"||l==="right")&&(v+=a.width/2);let d=a.top+a.height/2;s==="top"||l==="top"?d-=a.height/2:(s==="bottom"||l==="bottom")&&(d+=a.height/2);const o=a.width/u.width,m=a.height/u.height,f=Math.max(1,o,m),c=o/f||0,y=m/f||0,h=u.width*u.height/(window.innerWidth*window.innerHeight),x=h>.12?Math.min(1.5,(h-.12)*10+1):1;return{x:v-(n+u.left),y:d-(g+u.top),sx:c,sy:y,speed:x}}const Ne="(?:a|e|i|iͧ|o|u|ä|å|ë|ö|ü|á|á̧|â|ä|å|é|ê|ë|í|î|ó|ô|ö|ú|û|ü|ā|ā́|ă|ą̂|ē|ĕ|ī|ı|ō|ŏ|ū|ŭ|ŭ́|ə|ə́|и|о|ю|ạ|ạ|ạ́|ậ|ắ|ẹ|ọ|ộ|ụ|ụ̂|а|о|у|э|ы|и|ь)",Re="(?:b|b́|c|c̄|d|f|f̣|g|h|j|k|k̇|l|m|n|n̄|p|p̄|p̣|q|q̣|r|r̄|r̄̄|s|s̄|t|t́|v|w|x|y|z|z̄|ç|ć|č|ğ|ġ|ģ|ķ|ń|ň|ŕ|ś|ŝ|ş|ş́|ş̇|š|ţ|ž|ǧ|ǧ̣|Ɂ|ɧ|ʔ|ʕ|ʕ́|ʕ̣|ʾ|ʿ|б|в|й|к|п|р|с|т|х|ҫ|ҫ́|ҫ̂|ҫ̄|ع|ḅ|ḇ|ḉ|ḍ|ḏ|ḏ̣|ḏ̣̣|ḥ|ḳ|ḳ̇|ḷ|ṃ|ṅ|ṇ|ṗ|ṛ|ṝ|ṡ|ṣ|ṫ|ṭ|ṯ|ẓ|ẖ|ﻉ)",Ie=new RegExp("[\\\\]v","gi"),Fe=new RegExp("[\\\\]c","gi"),qe=R.memoize(function(t){return t.replace(Ie,Ne).replace(Fe,Re)});class H{constructor(t){j(this,"_value");this._value=t||""}get value(){return this._value}set value(t){this._value=t||""}get valueNormalized(){return qe(this.value)}get isEmpty(){return!this.value}get regex(){return RegExp(this.valueNormalized,"iu")}static instantiate(t){return new H(t)}}class ft{constructor(t){j(this,"data");this.data=R.mapValues(t,H.instantiate)}get searchersArr(){return R.values(this.data)}get areAllEmpty(){return this.searchersArr.every(t=>t.isEmpty)}get test(){return t=>R.keys(this.data).every(a=>this.data[a].regex.test(t[a]))}}const Ke=()=>{const e=ue();return{language:S(()=>e.path.split("/")[1])}};var K=(e=>(e.turoyo="turoyo",e.urmi="urmi",e.maalula="maalula",e))(K||{});const He="a á ä ā b ḅ c č ç d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ ģ h ḥ i í î ī ı j k ḳ l m ṃ ň ṇ o ó ö p q r ṛ s š ṡ ş ṣ t ţ ṭ ṯ u ú ü ụ v w x y z ž ʔ ʕ",Oe=He.split(/\s+/),je="a ä b ʙ c č ç d e ǝ ə f g Ģ h i I ı j k l m n o ö p q r s ş ṣ ș t ţ ṭ ț u ü v w x y z ž ƶ а ә б в г д е ж з и й к л м н о п р с т у ф х һ ц ч ш щ ъ ы ь э ю я",Ge=je.split(/\s+/),We="ʔ ʕ a á ā b c ć č d ḍ ḏ ḏ̣ e é ē ə f g ǧ ġ h ḥ i í ī k ḳ l ḷ m n o ō p r s š ṣ t ṭ ṯ u ú ū w x y z ž ẓ",Xe=We.split(/\s+/),Ye={[K.turoyo]:Oe,[K.urmi]:Ge,[K.maalula]:Xe},Ue=ve("keyboardStore",()=>{const{language:e}=Ke();return{letters:S(()=>Ye[e.value])}}),Je={key:0,class:"keyboard-wrapper"},Qe={class:"working-block"},Ze={class:"keyboard specific-keys"},et={class:"keyboard common-keys"},tt={class:"submit-wrapper"},at=Y({__name:"Keyboard",props:{value:{default:""},inputName:{default:""},visible:{type:Boolean,default:!1}},emits:["submit","update:visible"],setup(e,{emit:t}){const a=t,u=oe(),n=X(u,"isDark"),g=A(0),s=A(0),l=A(null),v=A(e.value),d=[String.raw`\v`,String.raw`\c`],o=["⬅","space","del","backspace","⮕"],m=Ue(),f=X(m,"letters");function c(p){v.value=p,x()}function y(){a("update:visible",!1)}function h(){a("submit",v.value),y()}function x(){var p,r;g.value=((p=l.value)==null?void 0:p.selectionStart)||0,s.value=((r=l.value)==null?void 0:r.selectionEnd)||0}async function T(){await Ce(20),x()}function O(p){if(!l.value)return;const r=l.value,i=v.value,{buttonValueMod:E,selectionStartMod:b,selectionEndMod:k}=ie({buttonValue:p,selectionStart:g.value,selectionEnd:s.value,existingValue:i});r.value=i.slice(0,b)+E+i.slice(k,i.length),v.value=r.value,r.focus(),g.value=r.selectionStart=b+E.length,s.value=r.selectionEnd=b+E.length}de(()=>{l.value=document.querySelector(".keyboard-wrapper .v-text-field input"),g.value=s.value=e.value.length});function ie({buttonValue:p,selectionStart:r,selectionEnd:i,existingValue:E}){let b,k=r,z=i;return p==="backspace"?(r>0&&r===i&&(k=r-1),b=""):p==="del"?(r<E.length&&r===i&&(z=i+1),b=""):p==="space"?b=" ":p==="⬅"?(r<i?z=r:(k=Math.max(0,r-1),z=k),b=""):p==="⮕"?(r<i?k=i:(k=Math.min(E.length,r+1),z=k),b=""):(b=p,k=r,z=i),{buttonValueMod:b,selectionStartMod:k,selectionEndMod:z}}return(p,r)=>p.visible?(V(),C("div",Je,[B("div",{class:_(["close-button",{invert:n.value}])},[B("span",{class:"closer",onClick:y},"×")],2),B("div",Qe,[w(Be,{label:p.inputName,"model-value":v.value,class:"input",clearable:"",density:"compact",variant:"outlined",onChange:c,onFocus:T,onKeyup:me(h,["enter","native"])},null,8,["label","model-value"]),B("div",Ze,[d?(V(),C(I,{key:0},F(d,i=>w($,{key:i,color:"warning",variant:"outlined",class:_({invert:n.value}),rounded:"",onClick:E=>O(i)},{default:P(()=>[D(q(i),1)]),_:2},1032,["class","onClick"])),64)):L("",!0),f.value?(V(!0),C(I,{key:1},F(f.value,i=>(V(),fe($,{key:i,variant:"outlined",rounded:"",onClick:E=>O(i)},{default:P(()=>[D(q(i),1)]),_:2},1032,["onClick"]))),128)):L("",!0)]),B("div",et,[o?(V(),C(I,{key:0},F(o,i=>w($,{key:i,class:_({invert:n.value}),color:"teal",rounded:"",size:"large",variant:"outlined",onClick:E=>O(i)},{default:P(()=>[D(q(i),1)]),_:2},1032,["class","onClick"])),64)):L("",!0)]),B("div",tt,[w($,{class:"mr-5",variant:"outlined",onClick:y},{default:P(()=>r[0]||(r[0]=[D(" Cancel ")])),_:1}),w($,{color:"primary",variant:"outlined",class:_({invert:n.value}),onClick:h},{default:P(()=>r[1]||(r[1]=[D(" Search ")])),_:1},8,["class"])])])])):L("",!0)}}),gt=re(at,[["__scopeId","data-v-2aafc269"]]),nt=["fill"],st=Y({__name:"KeyboardIcon",props:{tooltip:{type:String,default:"Click to open a virtual keyboard"}},emits:["click"],setup(e,{emit:t}){ge(v=>({"622cbc7b":G(s),"032a6946":G(l)}));const a=e,u=t,n=A(!0),g=S(()=>!a.tooltip||!n.value),{darkGrey:s,lightBrown:l}=Q;return(v,d)=>(V(),C("span",{onClick:d[0]||(d[0]=o=>u("click"))},[w(Se,{disabled:g.value,text:e.tooltip,location:"bottom","open-delay":"500"},{activator:P(({props:o})=>[B("label",pe(he(o)),[(V(),C("svg",{fill:G(Q).grey,class:"keyboard-icon-svg",height:"50px",viewBox:"0 0 24 24",width:"50px",xmlns:"http://www.w3.org/2000/svg"},d[1]||(d[1]=[B("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"},null,-1)]),8,nt))],16)]),_:1},8,["disabled","text"])]))}}),pt=re(st,[["__scopeId","data-v-f0571cf8"]]),ot=se({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ze({origin:"center center",scrollStrategy:"block",transition:{component:Me},zIndex:2400})},"VDialog"),ht=ne()({name:"VDialog",props:ot(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:u}=t;const n=ye(e,"modelValue"),{scopeId:g}=be(),s=A();function l(o){var c,y;const m=o.relatedTarget,f=o.target;if(m!==f&&((c=s.value)!=null&&c.contentEl)&&((y=s.value)!=null&&y.globalTop)&&![document,s.value.contentEl].includes(f)&&!s.value.contentEl.contains(f)){const h=Ee(s.value.contentEl);if(!h.length)return;const x=h[0],T=h[h.length-1];m===x?T.focus():x.focus()}}xe&&J(()=>n.value&&e.retainFocus,o=>{o?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0});function v(){var o;a("afterEnter"),(o=s.value)!=null&&o.contentEl&&!s.value.contentEl.contains(document.activeElement)&&s.value.contentEl.focus({preventScroll:!0})}function d(){a("afterLeave")}return J(n,async o=>{var m;o||(await Ve(),(m=s.value.activatorEl)==null||m.focus({preventScroll:!0}))}),ke(()=>{const o=Z.filterProps(e),m=N({"aria-haspopup":"dialog"},e.activatorProps),f=N({tabindex:-1},e.contentProps);return w(Z,N({ref:s,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},o,{modelValue:n.value,"onUpdate:modelValue":c=>n.value=c,"aria-modal":"true",activatorProps:m,contentProps:f,role:"dialog",onAfterEnter:v,onAfterLeave:d},g),{activator:u.activator,default:function(){for(var c=arguments.length,y=new Array(c),h=0;h<c;h++)y[h]=arguments[h];return w(we,{root:"VDialog"},{default:()=>{var x;return[(x=u.default)==null?void 0:x.call(u,...y)]}})}})}),De({},s)}}),yt=Y({__name:"GrepLine",props:{str:{default:""},searcher:{default:()=>new H},lineName:{default:""}},setup(e){const t=oe(),a=X(t,"isDark"),u=S(()=>!e.searcher||e.searcher.isEmpty?[e.str]:$e(e.str,e.searcher.regex)),n=S(()=>e.lineName===W.title),g=S(()=>e.lineName===W.textus),s=S(()=>e.lineName===W.versio),l=S(()=>({"line-title":n.value,textus:g.value||!0,versio:s.value}));return(v,d)=>(V(),C("div",{class:_(l.value)},[(V(!0),C(I,null,F(u.value,(o,m)=>(V(),C("span",{key:m,class:_({highlight:m%2,invert:a.value})},q(o),3))),128))],2))}});export{pt as K,K as L,ft as S,Me as V,yt as _,ht as a,gt as b,H as c,Ke as u};
