import{x as S,p as ve,g as xe,aa as he,W as me,j as B,r as b,O as ge,ab as pe,ac as ye,P as _,ad as we,u as Ce,a2 as D,a1 as be,ae as _e,c as s,G,F as g,S as Z,T as ke,af as Ve,ag as Ie,ah as Te,_ as Se,b as p,d as m,q as k,w as V,V as I,ai as $,o as d,n as N,h as T,t as U}from"./index-CrrCI0nA.js";import{a as Fe,b as Re,u as Ae,V as ee,f as ze,d as Pe,e as Be}from"./VInput-C01pAfmS.js";import{f as Ne}from"./forwardRefs-DWGaNmQL.js";const je="\\s\\n\\d\\.:<>\\{\\}\\(\\)#";function L(e){return RegExp(e,"g")}function Ee(e){const t=L("\\s");return e.replace(t,"")}function He(e){return e.map(Ee)}function Me(...e){return e.map(He)}function Oe(e,t){const o=e.map(L);return S.zip(o,t)}function De(e,t){const o=`[^${t.join("")}${je}]`,f=L(o);return e.replace(f,"")}function Ge(e,[t,o]){return e.replace(t,o)}function Ue(e,t,o){if(t.length!==o.length){console.warn("Arrays of different length in multipleReplace");return}[t,o]=Me(t,o);const f=Oe(t,o),n=De(e,t);return f.reduce(Ge,n)}async function qe(e){const t=document.querySelector(e);if(!t){console.warn("Textarea not found");return}const o=t.value;try{await navigator.clipboard.writeText(o)}catch(f){console.warn("Failed to copy: ",f)}}function Le(e){const t=document.querySelector(e);if(!t){console.warn("Textarea not found");return}t.focus(),t.scrollTop=0,t.setSelectionRange(0,0)}const We=ve({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Fe(),...Re()},"VTextarea"),q=xe()({name:"VTextarea",directives:{Intersect:he},inheritAttrs:!1,props:We(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:o,emit:f,slots:n}=t;const r=me(e,"modelValue"),{isFocused:l,focus:i,blur:y}=Ae(e),j=B(()=>typeof e.counterValue=="function"?e.counterValue(r.value):(r.value||"").toString().length),ne=B(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function ae(a,u){var c,v;!e.autofocus||!a||(v=(c=u[0].target)==null?void 0:c.focus)==null||v.call(c)}const W=b(),F=b(),Y=ge(""),R=b(),oe=B(()=>e.persistentPlaceholder||l.value||e.active);function E(){var a;R.value!==document.activeElement&&((a=R.value)==null||a.focus()),l.value||i()}function re(a){E(),f("click:control",a)}function le(a){f("mousedown:control",a)}function se(a){a.stopPropagation(),E(),D(()=>{r.value="",Ie(e["onClick:clear"],a)})}function ie(a){var c;const u=a.target;if(r.value=u.value,(c=e.modelModifiers)!=null&&c.trim){const v=[u.selectionStart,u.selectionEnd];D(()=>{u.selectionStart=v[0],u.selectionEnd=v[1]})}}const w=b(),A=b(+e.rows),H=B(()=>["plain","underlined"].includes(e.variant));pe(()=>{e.autoGrow||(A.value=+e.rows)});function C(){e.autoGrow&&D(()=>{if(!w.value||!F.value)return;const a=getComputedStyle(w.value),u=getComputedStyle(F.value.$el),c=parseFloat(a.getPropertyValue("--v-field-padding-top"))+parseFloat(a.getPropertyValue("--v-input-padding-top"))+parseFloat(a.getPropertyValue("--v-field-padding-bottom")),v=w.value.scrollHeight,z=parseFloat(a.lineHeight),M=Math.max(parseFloat(e.rows)*z+c,parseFloat(u.getPropertyValue("--v-input-control-height"))),O=parseFloat(e.maxRows)*z+c||1/0,h=Te(v??0,M,O);A.value=Math.floor((h-c)/z),Y.value=be(h)})}ye(C),_(r,C),_(()=>e.rows,C),_(()=>e.maxRows,C),_(()=>e.density,C);let x;return _(w,a=>{a?(x=new ResizeObserver(C),x.observe(w.value)):x==null||x.disconnect()}),we(()=>{x==null||x.disconnect()}),Ce(()=>{const a=!!(n.counter||e.counter||e.counterValue),u=!!(a||n.details),[c,v]=_e(o),{modelValue:z,...M}=ee.filterProps(e),O=ze(e);return s(ee,G({ref:W,modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":H.value},e.class],style:e.style},c,M,{centerAffix:A.value===1&&!H.value,focused:l.value}),{...n,default:h=>{let{id:P,isDisabled:J,isDirty:K,isReadonly:ce,isValid:ue}=h;return s(Pe,G({ref:F,style:{"--v-textarea-control-height":Y.value},onClick:re,onMousedown:le,"onClick:clear":se,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},O,{id:P.value,active:oe.value||K.value,centerAffix:A.value===1&&!H.value,dirty:K.value||e.dirty,disabled:J.value,focused:l.value,error:ue.value===!1}),{...n,default:de=>{let{props:{class:Q,...X}}=de;return s(g,null,[e.prefix&&s("span",{class:"v-text-field__prefix"},[e.prefix]),Z(s("textarea",G({ref:R,class:Q,value:r.value,onInput:ie,autofocus:e.autofocus,readonly:ce.value,disabled:J.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:E,onBlur:y},X,v),null),[[ke("intersect"),{handler:ae},null,{once:!0}]]),e.autoGrow&&Z(s("textarea",{class:[Q,"v-textarea__sizer"],id:`${X.id}-sizer`,"onUpdate:modelValue":fe=>r.value=fe,ref:w,readonly:!0,"aria-hidden":"true"},null),[[Ve,r.value]]),e.suffix&&s("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:u?h=>{var P;return s(g,null,[(P=n.details)==null?void 0:P.call(n,h),a&&s(g,null,[s("span",null,null),s(Be,{active:e.persistentCounter||l.value,value:j.value,max:ne.value,disabled:e.disabled},n.counter)])])}:void 0})}),Ne({},W,F,R)}}),Ye="ʔbggdhYwzḥṭyklmnssʕppṣqrršt:",Je="AbggdhYwzHTyklmnssCppSqrrWt:",Ke="ܐܒܓܔܕܗܞܘܙܚܛܝܟܠܡܢܣܤܥܦܧܨܩܪܖܫܬ̈",Qe=Object.freeze([{color:"warning",text:"Convert"},{color:"info",text:"Clear all"},{color:"info",text:"Defaults"},{color:"success",text:"Copy to clipboard"}].map(e=>({...e,value:S.camelCase(e.text)}))),te={get chosenIndices(){return{direction:0,translitVariant:0}}},Xe={name:"Transliteration",data(){const e=te.chosenIndices;return{directions:Object.freeze(["From Syriac","To Syriac"]),translitVariants:Object.freeze(["Unicode","Simple English"]),chosenIndices:e,translitArr:Ye.split(""),translitAnsiArr:Je.split(""),originalLettersArr:Ke.split(""),actionButtons:Qe,inputText:"",targetText:"",textareaColors:Object.freeze({source:"grey lighten-5",target:"blue-grey lighten-5"})}},computed:{twoAlphabets(){const e=[this.originalLettersArr,this.chosenIndices.translitVariant?this.translitAnsiArr:this.translitArr],t=e[this.chosenIndices.direction],o=e[1-this.chosenIndices.direction];return t.map((f,n)=>[t[n],o[n]])},alphabetsForConversion(){return[S.map(this.twoAlphabets,"0"),S.map(this.twoAlphabets,"1")]}},methods:{toggle(e,t){this.chosenIndices[t]=e},convert(){this.targetText=Ue(this.inputText,...this.alphabetsForConversion),Le(".textarea-left textarea")},clearAll(){this.inputText="",this.targetText=""},defaults(){this.chosenIndices=te.chosenIndices,this.clearAll()},copyToClipboard(){qe(".textarea-right textarea")},doAction(e){const t=this[e];S.isFunction(t)&&t()},onInput(e){this.inputText=e}}},Ze={class:"container"},$e={class:"action-buttons mb-7 d-flex justify-center"},et={class:"textareas d-flex"},tt={class:"mr-5"},nt={class:"ml-5"},at={class:"switchers d-flex justify-space-around mb-7"},ot={class:"switcher"},rt={class:"switcher"},lt={class:"letters"};function st(e,t,o,f,n,r){return d(),p("div",Ze,[m("div",$e,[(d(!0),p(g,null,k(n.actionButtons,l=>(d(),N(I,{key:l.text,color:l.color,class:"ml-1",variant:"outlined",onClick:i=>r.doAction(l.value)},{default:V(()=>[T(U(l.text),1)]),_:2},1032,["color","onClick"]))),128))]),m("div",et,[m("div",tt,[s(I,{variant:"outlined",class:"no-mouse"},{default:V(()=>t[0]||(t[0]=[T("Source text")])),_:1}),s(q,{value:n.inputText,"background-color":n.textareaColors.source,class:$([{"textarea-syriac":!n.chosenIndices.direction},"textarea-left textarea"]),"no-resize":"",placeholder:"Change the conversion direction if needed, type or paste the text and press Convert",rows:"15",outlined:"",onInput:r.onInput},null,8,["value","background-color","class","onInput"])]),m("div",nt,[s(I,{variant:"outlined",class:"no-mouse"},{default:V(()=>t[1]||(t[1]=[T("Target text")])),_:1}),s(q,{value:n.targetText,"background-color":n.textareaColors.target,class:$([n.chosenIndices.direction?"textarea-syriac":"","textarea-right textarea"]),rows:"15","no-resize":"",outlined:""},null,8,["value","background-color","class"])])]),m("div",at,[m("div",ot,[(d(!0),p(g,null,k(n.directions,(l,i)=>(d(),N(I,{key:i,outlined:i===n.chosenIndices.direction,text:i!==n.chosenIndices.direction,variant:"outlined",onClick:y=>r.toggle(i,"direction")},{default:V(()=>[T(U(l),1)]),_:2},1032,["outlined","text","onClick"]))),128))]),m("div",rt,[(d(!0),p(g,null,k(n.translitVariants,(l,i)=>(d(),N(I,{key:i,outlined:i===n.chosenIndices.translitVariant,text:i!==n.chosenIndices.translitVariant,variant:"outlined",onClick:y=>r.toggle(i,"translitVariant")},{default:V(()=>[T(U(l),1)]),_:2},1032,["outlined","text","onClick"]))),128))])]),m("div",lt,[(d(!0),p(g,null,k(r.twoAlphabets,(l,i)=>(d(),p("div",{class:"wrapper",key:i},[(d(!0),p(g,null,k(l,(y,j)=>(d(),N(q,{rows:"1",cols:"1",class:"mr-1 mb-1",value:y,key:y,"hide-details":!0,"background-color":j?n.textareaColors.target:n.textareaColors.source,maxlength:2,"no-resize":"",variant:"outlined"},null,8,["value","background-color"]))),128))]))),128))])])}const dt=Se(Xe,[["render",st],["__scopeId","data-v-1fd971a5"]]);export{dt as default};
